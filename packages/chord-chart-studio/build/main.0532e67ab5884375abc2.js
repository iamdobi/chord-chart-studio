/*! For license information please see main.0532e67ab5884375abc2.js.LICENSE.txt */
(()=>{"use strict";var e,t={TBfH:(e,t,r)=>{var n=r("P4Tr"),o=r.n(n),i=r("m14p"),a=r("5HXA"),c=r("sINF"),l=r("R0vF"),s=(r("yq1k"),r("tkto"),r("pNMO"),r("TeQF"),r("07d7"),r("5DmW"),r("FZtP"),r("27RR"),r("JZM8")),u=r.n(s);function p(){return Date.now()}var d="db/files/Create",f="db/files/Delete",m="db/files/Import",h="db/files/Update",y="db/options/setOptionValue",g="ui/layout/app/setEditorMode",v="ui/layout/app/toggleLeftBar",b="ui/layout/app/toggleRightBar",E=function(e){return e.ui.layout.app.isLeftBarCollapsed},w=function(e){return e.ui.layout.app.isRightBarCollapsed},O=function(e){return e.ui.layout.app.editorMode},C=function(e){return e.fileManager.selected},S=function(e){return e.fileManager.renamed},j=function(e){return e.fileManager.defaultTitle},P=(r("ToJy"),r("zKZe"),r("3WF5")),R=r.n(P),F=r("BkRI"),x=r.n(F),N=r("Y+p1"),k=r.n(N),T=r("xweI"),L=r.n(T),_=r("G4qV"),q=r("EsgF");function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var B=(0,_.wN)(q.PW,k())((function(e){return R()(e.db.files.allFiles,(function(e){return{title:e.title,id:e.id}}))}),(function(e){return L()(e,(function(e){return e.title.toLowerCase()}))})),D=function(e,t){return e.db.files.allFiles[t]},W=function(e,t,r){var n=e.db.files.allFiles[t];if(n&&(n.options||{})[r]){if(0===Object.keys(n.options[r]).length)return;return x()(n.options[r])}},G=function(e,t){var r=e.db.files.allFiles[t];if(r){var n=r.options||{},o=[];if(n.edit&&o.push(M({},n.edit)),n.play&&o.push(M({},n.play)),n.print&&o.push(M({},n.print)),n.export&&o.push(M({},n.export)),o.length)return o.sort((function(e,t){return e.updatedAt-t.updatedAt})),o.reduce((function(e,t){return Object.assign(e,t)}),{})}};const z={edit:["theme","transposeValue","preferredAccidentals","symbolType"],play:["theme","transposeValue","preferredAccidentals","symbolType","chartType","alignChordsWithLyrics","alignBars","autoRepeatChords","expandSectionCopy","columnsCount","fontSize"],print:["transposeValue","preferredAccidentals","symbolType","chartType","alignChordsWithLyrics","alignBars","autoRepeatChords","expandSectionCopy","columnsCount","columnBreakOnSection","documentMargins","fontSize"],export:["chartFormat","transposeValue","preferredAccidentals","symbolType","chartType","alignChordsWithLyrics","alignBars","autoRepeatChords","expandSectionCopy"]};function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){K(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function K(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $={allFiles:{}};function Z(e,t){var r=t.payload,n=r.id,o=r.title,i=r.content,a=V({},e.allFiles);return a[n]={id:n,title:o,content:i},V(V({},e),{},{allFiles:a})}function Y(e,t){var r=t.payload,n=r.id,o=r.title,i=r.content;if(!o&&void 0===i||!e.allFiles[n])return e;var a=V({},e.allFiles);return a[n]=V({},a[n]),o&&(a[n].title=o),void 0!==i&&(a[n].content=i),V(V({},e),{},{allFiles:a})}function U(e,t){var r=t.payload.id;if(!r||!e.allFiles[r])return e;var n=V({},e.allFiles);return delete n[r],V(V({},e),{},{allFiles:n})}function J(e,t,r){var n=t.payload,o=n.context,i=n.key,a=n.value,c=C(r),l=V({},e.allFiles);if(["songFormatting","songPreferences"].includes(o)&&l[c]){var s=O(r),u="songPreferences"===o?"preferences":s;return l[c]=function(e,t,r,n){return V(V({},e),{},{options:V(V({},e.options),{},K({},t,V(V({},(e.options||{})[t]),{},K({updatedAt:p()},r,n))))})}(l[c],u,i,a),V(V({},e),{},{allFiles:l})}return e}function X(e,t,r){var n=C(r),o=t.payload.mode;if(!!!W(r,n,o)){var i=u()(G(r,n)||{},z[o]);if(Object.keys(i).length){i.updatedAt=p();var a=V({},e.allFiles);return a[n]=V(V({},a[n]),{},{options:V(V({},a[n].options),{},K({},o,i))}),V(V({},e),{},{allFiles:a})}}return e}r("4mDm"),r("3bBZ");var Q="fileManager/select",ee="fileManager/enableRename",te=function(e,t,r){if(e.db.options[t]&&e.db.options[t].values&&void 0!==e.db.options[t].values[r])return e.db.options[t].values[r]},re=function(e,t){if(e.db.options[t]&&e.db.options[t].defaults)return x()(e.db.options[t].defaults)};function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ae={};function ce(e,t){var r=t.payload,n=r.context,o=r.key,i=r.value;if(!e[n]||!e[n].values||void 0===e[n].values[o])return e;var a=oe(oe({},e),{},ie({},n,oe(oe({},e[n]),{},{values:oe({},e[n].values)})));return a[n].values[o]=i,a}function le(e,t,r){var n=se(r,C(r),t.payload.mode);return oe(oe({},e),{},{songFormatting:oe(oe({},e.songFormatting),{},{values:oe({},n)})})}function se(e,t,r){var n=re(e,"songFormatting"),o=W(e,t,r);return o||(o=G(e,t)||{}),delete o.updatedAt,o=u()(o,z[r]),Object.assign(n,o)}function ue(e,t,r){var n=t.payload.id,o=se(r,n,O(r)),i=W(r,n,"preferences")||{};delete i.updatedAt;var a=re(r,"songPreferences"),c=Object.assign(a,i);return oe(oe({},e),{},{songPreferences:oe(oe({},e.songPreferences),{},{values:oe({},c)}),songFormatting:oe(oe({},e.songFormatting),{},{values:oe({},o)})})}const pe=(0,l.Z)({files:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};switch(t.type){case d:case m:return Z(e,t);case h:return Y(e,t);case f:return U(e,t);case y:return J(e,t,r);case g:return X(e,t,r)}return e},options:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};switch(t.type){case y:return ce(e,t);case g:return le(e,t,r);case Q:return ue(e,t,r)}return e}});function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){me(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var he={selected:"",renamed:"",defaultTitle:"[untitled]"};var ye="songImporter/import/cancel",ge="songImporter/import/start",ve="songImporter/setContent",be="songImporter/setInputFormat",Ee=r("wMS7"),we=r.n(Ee);function Oe(e){return we().sanitize(e,{ALLOWED_TAGS:["#text"],KEEP_CONTENT:!0})}function Ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(r),!0).forEach((function(t){je(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function je(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pe={content:"",isFromWeb:!1,isImporting:!1,inputFormat:"auto",title:""};function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){xe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ne={isLeftBarCollapsed:!1,isRightBarCollapsed:!1,editorMode:"edit",activeModal:"none"};const ke=(0,l.Z)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case v:return Fe(Fe({},e),{},{isLeftBarCollapsed:!e.isLeftBarCollapsed});case b:return Fe(Fe({},e),{},{isRightBarCollapsed:!e.isRightBarCollapsed});case g:var r=t.payload.mode;return Fe(Fe({},e),{},{editorMode:r});case f:case d:case m:return Fe(Fe({},e),{},{editorMode:"edit"})}return e}}),Te=(0,l.Z)({layout:ke}),Le=(0,l.Z)({db:pe,fileManager:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case d:var r=t.payload.id;return fe(fe({},e),{},{selected:r,renamed:r});case m:var n=t.payload.id;return fe(fe({},e),{},{selected:n,renamed:""});case h:return fe(fe({},e),{},{renamed:""});case f:return fe(fe({},e),{},{selected:"",renamed:""});case Q:var o=t.payload.id;return fe(fe({},e),{},{selected:o,renamed:o===e.renamed?o:""});case ee:var i=t.payload.id;return fe(fe({},e),{},{renamed:i})}return e},songImporter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case ve:var r=t.payload,n=r.content,o=r.title,i=void 0===o?"":o;return Se(Se({},e),{},{content:Oe(n),title:i?Oe(i):e.title});case be:var a=t.payload.inputFormat;return Se(Se({},e),{},{inputFormat:a});case m:case ye:return Se(Se({},e),{},{content:"",title:"",isImporting:!1});case ge:var c=t.payload,l=c.content,s=c.inputFormat,u=c.title,p=c.isFromWeb;return Se(Se({},e),{},{isImporting:!0,content:l?Oe(l):"",title:u?Oe(u):"",inputFormat:s||e.inputFormat,isFromWeb:p})}return e},ui:Te}),_e={db:{options:{editorPreferences:{values:{theme:"dark1",chartFormat:"chordmark"},defaults:{theme:"dark1",chartFormat:"chordmark"}},songPreferences:{values:{transposeValue:0,preferredAccidentals:"auto",symbolType:"chord"},defaults:{transposeValue:0,preferredAccidentals:"auto",symbolType:"chord"}},songFormatting:{values:{chartType:"all",alignChordsWithLyrics:!0,alignBars:!0,autoRepeatChords:!0,expandSectionCopy:!0,fontSize:0,columnsCount:1,columnBreakOnSection:!0,documentMargins:3},defaults:{chartType:"all",alignChordsWithLyrics:!0,alignBars:!0,autoRepeatChords:!0,expandSectionCopy:!0,fontSize:0,columnsCount:1,columnBreakOnSection:!0,documentMargins:3}}}}};var qe;function Ie(){var e=(0,a.Uo)((0,i.md)(c.Z)),t=function(){try{var e=localStorage.getItem("state");if(!e)return;return JSON.parse(e)}catch(e){return}}();t&&t.db&&t.db.options&&delete t.db.options.rendering;var r=o()(t,_e);(qe=(0,i.MT)(Le,r,e)).subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(e){}}(qe.getState())}))}function Me(){return qe}function Ae(e,t){if(!e)throw new TypeError("Cannot create an action without an action type");return{type:e,payload:t}}var Be={"@CCS/IMPORT_TAB":function(e){var t=Me(),r=De(e.title,e.artist);t.dispatch(function(e,t,r){return Ae(ge,{content:t,inputFormat:e,title:r,isFromWeb:!0})}(e.inputFormat,e.chordChart,r))}},De=function(e,t){var r=e;return t&&(r+=" - "+t),r};function We(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ge(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ze=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?We(Object(r),!0).forEach((function(t){Ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):We(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Be);if(e.source!==window||e.origin!==window.location.origin)return!1;var r=e.data;return"function"==typeof t[r.type]&&t[r.type](r.payload),!0},He=r("9Mdx"),Ve=r("q1tI"),Ke=r("EbEg"),$e=r("cBcF"),Ze=(r("JfAA"),r("ExoC"),r("NBAS"),r("SuFq"),r("4Brf"),r("0oug"),r("PKPk"),r("17x9")),Ye=r.n(Ze);function Ue(e){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(e)}function Je(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xe(e,t){return Xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xe(e,t)}function Qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=tt(e);if(t){var o=tt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return et(this,r)}}function et(e,t){if(t&&("object"===Ue(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function tt(e){return tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tt(e)}var rt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xe(e,t)}(i,e);var t,r,n,o=Qe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={error:null,errorInfo:null},t}return t=i,(r=[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.errorInfo?Ve.createElement("div",{className:"ErrorBoundary"},Ve.createElement("h2",null,"Something went wrong"),Ve.createElement("details",{style:{whiteSpace:"pre-wrap"},open:!0},this.state.error&&this.state.error.toString(),Ve.createElement("br",null),this.state.errorInfo.componentStack)):this.props.children}}])&&Je(t.prototype,r),n&&Je(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(Ve.Component);rt.propTypes={children:Ye().any};const nt=rt;var ot=function(e){return Ae(g,{mode:e})};r("oVuX");const it=r.p+"70bcd3037d83e645e282.svg";function at(){return Ve.createElement("div",{className:"logo"},Ve.createElement("div",{className:"logo-isExpanded"},Ve.createElement("div",{className:"logo-img"},Ve.createElement("svg",{className:"stacked"},Ve.createElement("title",null,"Chord Chart Studio"),Ve.createElement("use",{href:it+"#stacked"})))))}const ct=Ve.memo(at);r("2B1R");function lt(e){var t=e.iconName;return Ve.createElement("i",{className:["icon","material-icons"].join(" ")},t)}lt.propTypes={iconName:Ye().string.isRequired};const st=Ve.memo(lt);function ut(e){var t=e.label,r=e.icon,n=e.editorMode,o=e.setEditorMode,i=e.isActive,a=e.isDisabled,c=["mainNavEntry"];return i&&c.push("mainNavEntry-isActive"),a&&c.push("mainNavEntry-isDisabled"),Ve.createElement("li",{className:c.join(" "),onClick:function(){a||o(n)}},Ve.createElement("span",{className:"mainNavEntry-icon"},Ve.createElement(st,{iconName:r})),t)}ut.propTypes={label:Ye().string.isRequired,icon:Ye().string.isRequired,editorMode:Ye().string.isRequired,setEditorMode:Ye().func.isRequired,isActive:Ye().bool.isRequired,isDisabled:Ye().bool.isRequired};const pt=Ve.memo(ut);function dt(){return dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dt.apply(this,arguments)}function ft(e){var t=e.currentMode,r=e.allEntries,n=e.setEditorMode,o=e.selectedId;return Ve.createElement("nav",{className:"mainNav"},Ve.createElement("ul",{className:"mainNav-entries"},r.map((function(e,r){return Ve.createElement(pt,dt({key:r,isActive:!!o&&e.editorMode===t,isDisabled:!o,setEditorMode:n},e))}))))}ft.propTypes={currentMode:Ye().string.isRequired,setEditorMode:Ye().func.isRequired,selectedId:Ye().string,allEntries:Ye().arrayOf(Ye().shape({id:Ye().string.isRequired,label:Ye().string.isRequired,icon:Ye().string.isRequired,editorMode:Ye().string.isRequired}))};const mt=Ve.memo(ft);var ht=function(e){var t=e.children,r=e.isDisabled,n=e.buttonName,o=e.onClick,i=e.type,a=["Button"];return"primary"===i&&a.push("Button-primary"),"secondary"===i&&a.push("Button-secondary"),r&&a.push("Button-isDisabled"),Ve.createElement("button",{className:a.join(" "),disabled:r,type:"button",name:n,onClick:o},t)};ht.propTypes={children:Ye().string.isRequired,isDisabled:Ye().bool,buttonName:Ye().string.isRequired,type:Ye().string.isRequired,onClick:Ye().func.isRequired},ht.defaultProps={isDisabled:!1};const yt=ht;var gt=function(){return Ve.createElement("div",{className:"userGuide"},Ve.createElement("div",{className:"userGuide-isCollapsed"},Ve.createElement(st,{iconName:"help_outline"})),Ve.createElement("div",{className:"userGuide-isExpanded"},Ve.createElement(yt,{buttonName:"userGuide",type:"primary",onClick:function(){window.open("https://chord-chart-studio.netlify.app","_blank").focus()}},"User Guide")))};gt.propTypes={},gt.defaultProps={};const vt=Ve.memo(gt);function bt(){var e={"chord-chart-studio":"v0.13.0","chord-symbol":"v4.0.0-beta.5","chord-mark":"v0.13.0-beta.6"};return Ve.createElement("div",{className:"versions"},Ve.createElement("div",{className:"versions-isExpanded"},"Chord Chart Studio ",e["chord-chart-studio"],Ve.createElement("br",null),"ChordMark ",e["chord-mark"]," ",Ve.createElement("br",null),"ChordSymbol ",e["chord-symbol"]," ",Ve.createElement("br",null),"Logo by"," ",Ve.createElement("a",{href:"https://spelling-bee-assistant.app/",target:"_blank",rel:"noreferrer"},"Dieter Raber")))}const Et=Ve.memo(bt);var wt=r("xlIj"),Ot=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)throw new TypeError("Cannot import a file without title");var r={id:(0,wt.Z)(),title:e,content:t};return Ae(m,r)},Ct=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.title,n=t.content;if(!e)throw new TypeError("Cannot update a file without an id");var o={id:e,title:r,content:n};return Ae(h,o)},St=function(e){return e.songImporter.content},jt=function(e){return e.songImporter.inputFormat},Pt=function(e){return e.songImporter.title},Rt=function(e){return e.songImporter.isImporting},Ft=function(e){return e.songImporter.isFromWeb},xt=r("ruKL");function Nt(e){var t=e.children,r=e.closeModal;return(0,Ve.useEffect)((function(){var e=function(e){"Escape"===e.key&&r()};return window.addEventListener("keyup",e),function(){window.removeEventListener("keyup",e)}})),Ve.createElement("section",{className:"mod-ModalContainer"},Ve.createElement("div",{className:"mod-Overlay",onClick:r,"data-testid":"modal-overlay"}),Ve.createElement("div",{className:"mod-ContentContainer"},t))}Nt.propTypes={children:Ye().element.isRequired,closeModal:Ye().func.isRequired};const kt=Nt;var Tt=function(e){var t=e.cancelImport,r=e.chordMarkContent,n=e.importFile,o=e.title,i=e.content,a=e.error,c=o?'Import "'+o+'"':"Import song";return Ve.createElement("div",{className:"sim-Header_Container"},Ve.createElement("div",{className:"sim-Header_Title"},c),Ve.createElement("div",{className:"sim-Header_Actions"},Ve.createElement(yt,{onClick:t,buttonName:"cancel",type:"secondary"},"CANCEL"),Ve.createElement(yt,{onClick:function(){n(o||"[untitled]",r)},buttonName:"import",type:"primary",isDisabled:""===i||""!==a},"IMPORT")))};Tt.propTypes={cancelImport:Ye().func.isRequired,chordMarkContent:Ye().string,content:Ye().string,error:Ye().string,importFile:Ye().func.isRequired,title:Ye().string};const Lt=Tt;r("5s+n"),r("sMBO");var _t=r("Ck5k"),qt=function(e){return e.name.substr(0,e.name.lastIndexOf("."))},It=function(e){return e.size>51200},Mt=function(e){return 0===e.type.indexOf("text")||0===e.type.length},At=function(e){return"The selected file is too big: "+(0,_t.G)(e,{round:0})+" (maximum allowed file size is "+(0,_t.G)(51200,{round:0})+")."},Bt=function(e){return"Cannot import file of type "+e.type+"."},Dt=function(){return"No file selected."};const Wt=function(e){return new Promise((function(t,r){if(e.length){var n=e[0];It(n)?r(At(n.size)):Mt(n)?n.text().then((function(e){t({content:e,title:qt(n)})})).catch((function(e){r(e)})):r(Bt(n))}else r(Dt())}))};var Gt=function(e){var t=e.setContent;return Ve.createElement("div",null,Ve.createElement("label",{htmlFor:"importSong-Input",className:"Button Button-primary"},"Select File"),Ve.createElement("input",{id:"importSong-Input",name:"importSong-Input",type:"file",className:"sim-InputFile_Input",onChange:function(e){Wt(e.target.files).then((function(e){t(e.content,e.title)})).catch((function(e){t(e)}))},accept:"text/*,.cho,.crd,.chopro,.chord,.pro,.txt,.md"}))};Gt.propTypes={setContent:Ye().func.isRequired};const zt=Gt;function Ht(e){var t=e.content,r=e.setContent,n=e.isDisabled,o=["sim-Input_Textarea"];return n&&o.push("sim-Input_Textarea-Disabled"),Ve.createElement(Ve.Fragment,null,Ve.createElement("div",{className:"sim-Input_Header"},Ve.createElement(st,{iconName:"arrow_drop_down"}),"Copy/paste below",Ve.createElement(st,{iconName:"arrow_drop_down"})),Ve.createElement("textarea",{className:o.join(" "),onChange:function(e){r(e.target.value)},value:t,disabled:n,"data-testid":"sim-input"}))}Ht.propTypes={content:Ye().string.isRequired,isDisabled:Ye().bool.isRequired,setContent:Ye().func.isRequired},Ht.defaultProps={};const Vt=Ht;function Kt(e){var t=e.inputFormat,r=e.error;return Ve.createElement("div",{className:"sim-Preview_Error"},Ve.createElement("p",null,"There was an error when trying to parse the song in the specified input format (",t,").",Ve.createElement("br",null),"Please correct the input or try another format.",Ve.createElement("br",null),"The error was:"),Ve.createElement("p",null,'"',r,'"'),Ve.createElement("p",null,'Hint: most of the time, this is related to an unclosed "[" or "{" or an unsupported ChordPro directive'))}Kt.propTypes={error:Ye().string,inputFormat:Ye().string.isRequired},Kt.defaultProps={};const $t=Kt;function Zt(e){var t=e.setInputFormat,r=e.inputFormat,n=e.id,o=e.label,i=e.isDisabled,a=["sim-InputFormat_Entry"],c=["sim-InputFormat_Label"];return i&&(a.push("sim-InputFormat_Entry-Disabled"),c.push("sim-InputFormat_Label-Disabled")),Ve.createElement(Ve.Fragment,null,Ve.createElement("input",{className:a.join(" "),type:"radio",name:"inputFormat",id:n,value:n,onChange:function(e){i||t(e.target.value)},checked:r===n}),Ve.createElement("label",{className:c.join(" "),htmlFor:n},o))}Zt.propTypes={setInputFormat:Ye().func.isRequired,inputFormat:Ye().string.isRequired,id:Ye().string.isRequired,label:Ye().string.isRequired,isDisabled:Ye().bool.isRequired},Zt.defaultProps={};const Yt=Zt;var Ut=[{id:"auto",label:"Detect"},{id:"chordPro",label:"Bracketed chords (ChordPro)"},{id:"chordsOverLyrics",label:"Chords over lyrics (Ultimate Guitar...)"}];function Jt(e){var t=e.setInputFormat,r=e.inputFormat,n=e.disableAll,o=Ut.map((function(e){return Ve.createElement(Yt,{setInputFormat:t,id:e.id,key:e.id,label:e.label,inputFormat:r,isDisabled:n})}));return Ve.createElement("div",{className:"sim-InputFormat"},"Input format:",o)}Jt.propTypes={disableAll:Ye().bool.isRequired,setInputFormat:Ye().func.isRequired,inputFormat:Ye().string.isRequired},Jt.defaultProps={};const Xt=Jt;function Qt(e){var t=e.cancelImport,r=e.content,n=e.importFile,o=e.isFromWeb,i=e.isImporting,a=e.setContent,c=e.setInputFormat,l=e.inputFormat,s=e.title;if(!i)return null;var u="",p="";try{u=(0,xt.cl)(r,{inputFormat:l})}catch(e){p=e.message}return Ve.createElement(kt,{closeModal:t},Ve.createElement("div",{className:"sim-SongImporterModal_Container","data-testid":"song-importer"},Ve.createElement(Lt,{cancelImport:t,chordMarkContent:u,content:r,error:p,importFile:n,title:s}),Ve.createElement("div",{className:"sim-TwoColumns_Container"},Ve.createElement("div",{className:"sim-Column_Container"},Ve.createElement(zt,{setContent:a})),Ve.createElement("div",{className:"sim-Column_Container"},Ve.createElement(Xt,{inputFormat:l,setInputFormat:c,disableAll:!0===o}))),Ve.createElement("div",{className:"sim-TwoColumns_Container sim-TwoColumns_Container-autoHeight"},Ve.createElement("div",{className:"sim-Column_Container"},Ve.createElement(Vt,{content:r,setContent:a,isDisabled:o})),Ve.createElement("div",{className:"sim-Column_Container"},Ve.createElement("div",{className:"sim-Input_Header"},Ve.createElement(st,{iconName:"arrow_drop_down"}),"ChordMark preview",Ve.createElement(st,{iconName:"arrow_drop_down"})),Ve.createElement("div",{className:"sim-Preview_Container","data-testid":"sim-preview"},p?Ve.createElement($t,{inputFormat:l,error:p}):u)))))}Qt.propTypes={cancelImport:Ye().func.isRequired,content:Ye().string.isRequired,importFile:Ye().func.isRequired,isFromWeb:Ye().bool.isRequired,isImporting:Ye().bool.isRequired,setContent:Ye().func.isRequired,setInputFormat:Ye().func.isRequired,inputFormat:Ye().string.isRequired,title:Ye().string},Qt.defaultProps={};const er=Qt,tr=(0,$e.$j)((function(e){return{content:St(e),isFromWeb:Ft(e),isImporting:Rt(e),inputFormat:jt(e),title:Pt(e)}}),{setContent:function(e,t){return Ae(ve,{content:e,title:t})},setInputFormat:function(e){return Ae(be,{inputFormat:e})},cancelImport:function(){return Ae(ye)},importFile:Ot})(er),rr=[{id:"edit",label:"Edit",icon:"create",editorMode:"edit"},{id:"play",label:"Screen view",icon:"music_note",editorMode:"play"},{id:"print",label:"Print/PDF Preview",icon:"print",editorMode:"print"},{id:"export",label:"Export Preview",icon:"save_alt",editorMode:"export"}];function nr(e){var t=e.editorMode,r=e.isLeftBarCollapsed,n=e.isRightBarCollapsed,o=e.toggleLeftBar,i=e.toggleRightBar,a=e.setEditorMode,c=e.selectedId,l=e.leftBar,s=e.rightBar,u=["leftBar"];r&&u.push("leftBar-isCollapsed");var p=["rightBar"];return n&&p.push("rightBar-isCollapsed"),Ve.createElement("div",{className:"appLayout-wrapper"},Ve.createElement(tr,null),Ve.createElement("section",{className:u.join(" ")},Ve.createElement("div",{className:"leftBar-content",onClick:r?o:null},Ve.createElement(ct,null),l),Ve.createElement("div",{className:"leftBar-collapser",onClick:o,"data-testid":"leftBar-collapser"},Ve.createElement("span",{className:"leftBar-collapserIcon"},Ve.createElement(st,{iconName:"keyboard_arrow_left"})))),Ve.createElement("section",{className:"appLayout-main"},Ve.createElement("section",{className:"appLayout-header"},Ve.createElement(mt,{allEntries:rr,currentMode:t,setEditorMode:a,selectedId:c})),Ve.createElement("section",{className:"appLayout-content"},e.children)),Ve.createElement("section",{className:p.join(" ")},Ve.createElement("div",{className:"rightBar-collapser",onClick:i,"data-testid":"rightBar-collapser"},Ve.createElement("span",{className:"rightBar-collapserIcon"},Ve.createElement(st,{iconName:"keyboard_arrow_right"}))),Ve.createElement("div",{className:"rightBar-content",onClick:n?i:null},Ve.createElement(vt,null),s,Ve.createElement(Et,null))))}nr.propTypes={children:Ye().element,isLeftBarCollapsed:Ye().bool,isRightBarCollapsed:Ye().bool,selectedId:Ye().string,toggleLeftBar:Ye().func.isRequired,toggleRightBar:Ye().func.isRequired,editorMode:Ye().string.isRequired,setEditorMode:Ye().func.isRequired,leftBar:Ye().element.isRequired,rightBar:Ye().element.isRequired},nr.defaultProps={isLeftBarCollapsed:!1,isRightBarCollapsed:!1};const or=nr,ir=(0,$e.$j)((function(e){return{editorMode:O(e),isLeftBarCollapsed:E(e),isRightBarCollapsed:w(e),selectedId:C(e)}}),{toggleLeftBar:function(){return Ae(v)},toggleRightBar:function(){return Ae(b)},setEditorMode:ot})(or);r("+2oP"),r("pjDv"),r("rB9j"),r("ma9I");var ar=r("Iab2"),cr=(r("Rm1S"),r("3ml5")),lr=r("qmfH"),sr=r("HwAp"),ur=r.n(sr);function pr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(r),!0).forEach((function(t){fr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return hr(e,t,r,"html")}function hr(e,t,r,n){if(r)switch(t.chartFormat){case"chordmarkSrc":return"html"===n?gr(e):e;case"chordpro":t.customRenderer=(0,xt.n1)();var o=yr(e,t);return"html"===n?gr(o):o;case"ultimateGuitar":t.customRenderer=(0,xt.eE)();var i=yr(e,dr(dr({},t),{},{customRenderer:(0,xt.eE)(),printBarSeparators:"grids",printChordsDuration:"never",printSubBeatDelimiters:!1,printInlineTimeSignatures:!1,chordSymbolRenderer:(0,lr.chordRendererFactory)(dr({customFilters:[ur()()],useShortNamings:!0,accidentalsType:"auto"===t.accidentalsType?"original":t.accidentalsType},t))}))+"\n\nCreated with Chord Chart Studio (https://chord-chart-studio.netlify.app)";return"html"===n?gr(i):i}var a=yr(e,t);return"html"===n?a:a.match(/(<p.*?>.*?<\/p>)/gm).map((function(e){return Oe(e)})).map((function(e){return"&nbsp;"===e?"":e})).join("\n")}function yr(e,t){try{var r=(0,cr.TG)(e);return(0,cr.II)(r,dr({},t))}catch(e){return e.message}}function gr(e){return e.split("\n").map((function(e){return""===e?"&nbsp;":e})).map((function(e){return'<span class="txtLine">'.concat(e,"</span>")})).join("")}function vr(){var e=Me().getState(),t=C(e),r=D(e,t),n={chartFormat:te(e,"editorPreferences","chartFormat"),transposeValue:te(e,"songPreferences","transposeValue"),accidentalsType:te(e,"songPreferences","accidentalsType"),symbolType:te(e,"songPreferences","symbolType"),chartType:te(e,"songFormatting","chartType"),alignChordsWithLyrics:te(e,"songFormatting","alignChordsWithLyrics"),alignBars:te(e,"songFormatting","alignBars"),autoRepeatChords:te(e,"songFormatting","autoRepeatChords"),expandSectionCopy:te(e,"songFormatting","expandSectionCopy")},o=function(e){return hr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2&&void 0!==arguments[2]&&arguments[2],"text")}(r.content,n,!0),i="chordpro"===n.chartFormat?"cho":"txt",a="".concat(r.title,".").concat(i),c=new Blob([o],{type:"text/plain;charset=utf-8",endings:"native"});(0,ar.saveAs)(c,a)}function br(e){var t=e.confirmAction,r=e.confirmTitle,n=void 0===r?"OK":r,o=e.cancelAction,i=e.cancelTitle,a=void 0===i?"CANCEL":i,c=e.children;return Ve.createElement(kt,{closeModal:o},Ve.createElement("section",{className:"mod-ModalConfirmContainer"},Ve.createElement("div",{className:"mod-ModalConfirmMessage"},c),Ve.createElement("div",{className:"mod-ModalConfirmButtons"},Ve.createElement(yt,{onClick:o,type:"secondary",buttonName:"cancel"},a),Ve.createElement(yt,{onClick:t,type:"primary",buttonName:"confirm"},n))))}br.propTypes={confirmAction:Ye().func.isRequired,confirmTitle:Ye().string,cancelAction:Ye().func.isRequired,cancelTitle:Ye().string,children:Ye().node.isRequired};const Er=br;function wr(e){var t=e.selected,r=e.deleteFile,n=e.isDeleting,o=e.setIsDeleting;if(!n)return null;return Ve.createElement(Er,{confirmAction:function(){o(!1),r(t)},confirmTitle:"DELETE",cancelAction:function(){return o(!1)}},"Are you sure you want to delete this file?",Ve.createElement("br",null),"This action cannot be undone.")}wr.propTypes={deleteFile:Ye().func.isRequired,isDeleting:Ye().bool.isRequired,selected:Ye().string.isRequired,setIsDeleting:Ye().func.isRequired};const Or=wr;function Cr(e){var t=e.icon,r=e.text,n=e.action,o=e.isDisabled,i=["fileManagerAction"];o&&i.push("fileManagerAction-isDisabled");return Ve.createElement("span",{className:i.join(" "),onClick:function(){o||n()}},Ve.createElement("span",{className:"fileManagerAction-icon"},Ve.createElement(st,{iconName:t})," ",r))}Cr.propTypes={icon:Ye().string.isRequired,text:Ye().string.isRequired,action:Ye().func.isRequired,isDisabled:Ye().bool.isRequired};const Sr=Ve.memo(Cr);function jr(){return jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jr.apply(this,arguments)}function Pr(e){var t=e.selected,r=e.createFile,n=e.deleteFile,o=e.enableRename,i=e.startImport,a=e.exportAsText,c=[{icon:"upload",text:"Import",action:i,isDisabled:!1},{icon:"add_circle",text:"New",action:r,isDisabled:!1},{icon:"create",text:"Rename",action:o,isDisabled:!t},{icon:"delete",text:"Delete",action:n,isDisabled:!t},{icon:"print",text:"Print",action:e.printFile,isDisabled:!t},{icon:"download",text:"Export",action:a,isDisabled:!t}];return Ve.createElement("div",{className:"fileManager-actionsList"},c.map((function(e,t){return Ve.createElement(Sr,jr({},e,{key:t}))})))}Pr.propTypes={selected:Ye().string,createFile:Ye().func.isRequired,deleteFile:Ye().func.isRequired,enableRename:Ye().func.isRequired,exportAsText:Ye().func.isRequired,printFile:Ye().func.isRequired,startImport:Ye().func.isRequired};const Rr=Ve.memo(Pr);function Fr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nr(e){var t=Fr((0,Ve.useState)(e.title),2),r=t[0],n=t[1],o=e.fileId,i=e.isSelected,a=e.isRenamed,c=e.defaultTitle,l=e.selectFile,s=e.enableRename,u=e.updateFile,p=["fileManagerEntry"];i&&p.push("fileManagerEntry-isSelected"),a&&p.push("fileManagerEntry-isRenamed");var d=Ve.createRef();function f(e){u(o,{title:e=e||c}),n(e),d.current.scrollLeft=0}return(0,Ve.useEffect)((function(){a&&d.current.focus()}),[a,d]),Ve.createElement("li",{className:p.join(" "),onClick:function(){i||l(o)},onDoubleClick:function(e){a||(s(o),e.target.select())}},Ve.createElement("input",{className:"fileManagerEntry-input",ref:d,type:"text",value:r,readOnly:a?null:"readOnly",autoFocus:a?"autoFocus":null,onChange:function(e){n(e.target.value)},onBlur:function(e){a&&f(e.target.value)},onFocus:function(e){a&&e.target.select()},onKeyPress:function(e){a&&13===e.which&&(e.preventDefault(),window.getSelection().removeAllRanges(),f(e.target.value))}}))}Nr.propTypes={title:Ye().string.isRequired,fileId:Ye().string.isRequired,isSelected:Ye().bool.isRequired,isRenamed:Ye().bool.isRequired,defaultTitle:Ye().string.isRequired,selectFile:Ye().func.isRequired,enableRename:Ye().func.isRequired,updateFile:Ye().func.isRequired};const kr=Nr;function Tr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Lr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _r(e){var t=Tr((0,Ve.useState)(!1),2),r=t[0],n=t[1],o=e.allTitles,i=e.selected,a=e.renamed,c=e.defaultTitle,l=e.createFile,s=e.deleteFile,u=e.enableRename,p=e.startImport,d=e.selectFile,f=e.updateFile,m=e.setEditorMode;return Ve.createElement("div",{className:"fileManager"},Ve.createElement(Or,{deleteFile:s,isDeleting:r,selected:i,setIsDeleting:n}),Ve.createElement("div",{className:"fileManager-isCollapsed"},Ve.createElement("span",{className:"fileManager-icon"},Ve.createElement(st,{iconName:"file_copy"}))),Ve.createElement("div",{className:"fileManager-isExpanded"},Ve.createElement(Rr,{selected:i,createFile:function(){return l(c)},deleteFile:function(){return n(!0)},enableRename:function(){return u(i)},startImport:function(){return p()},exportAsText:function(){m("export"),setTimeout((function(){return vr()}),0)},printFile:function(){m("print"),setTimeout((function(){return window.print()}),0)}}),Ve.createElement("ul",{className:"fileManager-entriesList"},o.map((function(e){return Ve.createElement(kr,{title:e.title,defaultTitle:c,fileId:e.id,isSelected:i===e.id,isRenamed:a===e.id,selectFile:d,updateFile:f,enableRename:u,key:e.id})})))))}_r.propTypes={allTitles:Ye().arrayOf(Ye().shape({title:Ye().string.isRequired,id:Ye().string.isRequired})).isRequired,selected:Ye().string.isRequired,renamed:Ye().string.isRequired,defaultTitle:Ye().string.isRequired,selectFile:Ye().func.isRequired,createFile:Ye().func.isRequired,deleteFile:Ye().func.isRequired,enableRename:Ye().func.isRequired,startImport:Ye().func.isRequired,updateFile:Ye().func.isRequired,setEditorMode:Ye().func.isRequired};const qr=_r,Ir=(0,$e.$j)((function(e){return{selected:C(e),renamed:S(e),defaultTitle:j(e),allTitles:B(e)}}),{selectFile:function(e){return Ae(Q,{id:e})},createFile:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)throw new TypeError("Cannot create a file without title");var r={id:(0,wt.Z)(),title:e,content:t};return Ae(d,r)},deleteFile:function(e){return Ae(f,{id:e})},updateFile:Ct,enableRename:function(e){return Ae(ee,{id:e})},setEditorMode:ot,startImport:function(){return Ae(ge,{isFromWeb:!1})}})(qr);var Mr=r("awlu");function Ar(e){return we().sanitize(e)}function Br(e){var t=e.content,r=e.useChartFormat,n=mr(t,u()(e,["chartFormat","transposeValue","accidentalsType","symbolType","chartType","alignChordsWithLyrics","alignBars","autoRepeatChords","expandSectionCopy"]),r);return Ve.createElement("div",{className:"songRenderer"},Ve.createElement("div",{dangerouslySetInnerHTML:{__html:Ar(n)}}))}Br.propTypes={useChartFormat:Ye().bool.isRequired,chartFormat:Ye().string.isRequired,content:Ye().string},Br.defaultProps={content:"",useChartFormat:!1};const Dr=Br,Wr=(0,$e.$j)((function(e){return{transposeValue:te(e,"songPreferences","transposeValue"),accidentalsType:te(e,"songPreferences","preferredAccidentals"),symbolType:te(e,"songPreferences","symbolType"),chartFormat:te(e,"editorPreferences","chartFormat"),chartType:te(e,"songFormatting","chartType"),alignChordsWithLyrics:te(e,"songFormatting","alignChordsWithLyrics"),alignBars:te(e,"songFormatting","alignBars"),autoRepeatChords:te(e,"songFormatting","autoRepeatChords"),expandSectionCopy:te(e,"songFormatting","expandSectionCopy")}}))(Dr);function Gr(e){var t=e.selectedFile;return Ve.createElement("div",{className:["editorPreview"].join(" ")},Ve.createElement(Wr,{content:t.content}))}Gr.propTypes={selectedFile:Ye().object.isRequired};const zr=Gr;var Hr=r("kdCK"),Vr=r("sgpa"),Kr=r("EseL"),$r=r("Q63i"),Zr=r("jAO3"),Yr=r("7yqC");const Ur=new Kr.V_({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:function(){return["p",0]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return["br"]}},text:{group:"inline"}}});r("vxnP");function Jr(e){return e.toJSON().doc.content.map((function(e){return e.content?e.content.reduce((function(e,t){return e+=t.text||"\n"}),""):""})).join("\n")}function Xr(e){return we().sanitize(e,{ALLOWED_TAGS:["p","#text"],KEEP_CONTENT:!1})}r("ylZy");function Qr(e){var t,r,n=e.selectedFileId,o=e.editorContent,i=e.updateFile,a=(0,Ve.useRef)(),c=(0,Ve.useRef)(),l=(t=n,r=(0,Ve.useRef)(),(0,Ve.useEffect)((function(){r.current=t})),r.current);function s(){return a.current&&a.current.dom.parentNode}function u(){a.current.dom.parentNode.removeChild(a.current.dom)}return(0,Ve.useEffect)((function(){if(!n||a.current&&l===n)s()&&!n&&u();else{s()&&u();var e=function(e){return Hr.yy.create({doc:Kr.aw.fromSchema(Ur).parse((t=e,r=Xr(t).split("\n").map((function(e){return"<p>".concat(e,"</p>")})).join(""),n=document.createElement("div"),n.innerHTML=Xr(r),n),{preserveWhitespace:"full"}),plugins:[(0,Yr.m8)(),(0,$r.h)({"Mod-z":Yr.Yw,"Mod-y":Yr.KX}),(0,$r.h)(Zr.YR)]});var t,r,n}(o);a.current=function(e,t,r){return new Vr.tk(null,{state:e,dispatchTransaction:function(e){var n=this.state.applyTransaction(e),o=n.state,i=n.transactions;this.updateState(o),i.some((function(e){return e.docChanged}))&&t(r,{content:Jr(o)})}})}(e,i,n),c.current.appendChild(a.current.dom),Qr.editorView=a.current}})),Ve.createElement("div",{className:"prosemirrorWrapper",ref:c})}Qr.defaultProps={selectedFileId:"",editorContent:""},Qr.propTypes={selectedFileId:Ye().string,editorContent:Ye().string,updateFile:Ye().func.isRequired};const en=Qr;function tn(e){var t=e.selectedFile,r=e.updateFile,n=["songEditor-preview","cmTheme-"+e.theme,"cmTheme-fadeRepeats"];return Ve.createElement(Ve.Fragment,null,Ve.createElement("div",{className:"songEditor-headers"},Ve.createElement("div",{className:"songEditor-sourceHeader"},Ve.createElement(st,{iconName:"arrow_drop_down"}),"ChordMark source (",Ve.createElement("a",{href:"https://chordmark.netlify.app/docs/getting-started",target:"_blank",rel:"noreferrer",className:"link1"},"tutorial"),")",Ve.createElement(st,{iconName:"arrow_drop_down"})),Ve.createElement("div",{className:"songEditor-previewHeader"},Ve.createElement(st,{iconName:"arrow_drop_down"}),"Result preview",Ve.createElement(st,{iconName:"arrow_drop_down"}))),Ve.createElement(Mr.E,null,Ve.createElement("div",{className:"songEditor"},Ve.createElement(Mr.z,{group:"a"},Ve.createElement("div",{className:"songEditor-source"},Ve.createElement(en,{editorContent:t.content,updateFile:r,selectedFileId:t.id}))),Ve.createElement(Mr.z,{group:"a"},Ve.createElement("div",{className:n.join(" ")},Ve.createElement(zr,{selectedFile:t}))))))}tn.propTypes={selectedFile:Ye().object,theme:Ye().string.isRequired,updateFile:Ye().func.isRequired};const rn=tn,nn=(0,$e.$j)((function(e){return{theme:te(e,"editorPreferences","theme")}}))(rn);function on(e){var t=e.selectedFile,r=Ve.createRef(),n=function(e){(e.metaKey||e.ctrlKey)&&"a"===e.key.toLowerCase()&&(e.preventDefault(),window.getSelection().selectAllChildren(r.current))};return(0,Ve.useEffect)((function(){return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}})),Ve.createElement("div",{className:"exportPreview exp-SongRenderer",ref:r},Ve.createElement(Wr,{content:t.content,useChartFormat:!0}))}on.propTypes={selectedFile:Ye().object.isRequired};const an=on;function cn(e){var t=e.theme,r=e.selectedFile,n=e.fontSize,o=e.columnsCount,i=["playRendererWrapper1"];i.push("cmTheme-"+t),i.push("cmSong--fontSize"+n);var a=["playRenderer"];return a.push("playRenderer--columns-"+o),Ve.createElement("div",{className:i.join(" "),"data-testid":"playRendererWrapper1"},Ve.createElement("div",{className:"playRendererWrapper2"},Ve.createElement("div",{className:a.join(" "),"data-testid":"playRenderer"},Ve.createElement(Wr,{content:r.content}))))}cn.propTypes={theme:Ye().string.isRequired,fontSize:Ye().number.isRequired,selectedFile:Ye().object.isRequired,columnsCount:Ye().number.isRequired};const ln=cn,sn=(0,$e.$j)((function(e){return{theme:te(e,"editorPreferences","theme"),fontSize:te(e,"songFormatting","fontSize"),columnsCount:te(e,"songFormatting","columnsCount")}}))(ln);r("tjZM"),r("lEou"),r("DEfu"),r("I9xj");function un(e){var t=e.pageHeader,r=e.allColumnsLines,n=e.documentSize,o=e.documentMargins,i=e.fontSize,a=r.map((function(e,t){var r=e.join("");return Ve.createElement("div",{key:t,className:"printPreview-pageColumn","data-testid":"printPreview-pageColumn",dangerouslySetInnerHTML:{__html:Ar(r)}})})),c=["printPreview-page"];c.push("printPreview-page--"+n),c.push("cmSong--fontSize"+i),c.push("cmSong");var l=["printPreview-pageContentWrapper"];return l.push("printPreview-pageContentWrapper--padding"+o),Ve.createElement("div",{className:c.join(" "),"data-testid":"printPreview-page"},Ve.createElement("div",{className:l.join(" "),"data-testid":"printPreview-pageContentWrapper"},Ve.createElement("div",{className:"printPreview-pageContent"},t,Ve.createElement("div",{className:"printPreview-pageColumnWrapper"},a))))}un.defaultProps={allColumnsLines:[]},un.propTypes={pageHeader:Ye().element,allColumnsLines:Ye().arrayOf(Ye().arrayOf(Ye().string)),documentSize:Ye().string.isRequired,documentMargins:Ye().number.isRequired,fontSize:Ye().number.isRequired};const pn=Ve.memo(un);function dn(e){var t=e.title;return Ve.createElement("div",{className:"printPreview-pageHeader"},t)}dn.defaultProps={allColumnsLines:[]},dn.propTypes={title:Ye().string.isRequired};const fn=Ve.memo(dn);var mn="cmEmptyLine",hn="cmChordLine",yn="cmLyricLine";function gn(e,t){var r=t.columnsCount,n=t.firstPageHeight,o=t.normalPageHeight,i=t.columnBreakOnSection,a=t.noEmptyLinesOnColumnStart,c=void 0===a||a,l=t.noOrphanTextLine,s=void 0===l||l,u=function(e){var t=e.firstPageHeight,r=e.normalPageHeight,n=e.columnsCount,o=[],i=0,a=0,c=u(),l=0;function s(e){e.forEach((function(e){p(l+e.height)&&d(),o[i][a].push(e.content),l+=e.height}))}function u(){return 0===i&&t?t:r}function p(e){return e>c}function d(){f()?(i++,o[i]=[],a=0):a++,o[i][a]=[],l=0,c=u()}function f(){return a===n-1}return o[i]=[],o[i][a]=[],{insert:function(e){s(e)},insertOnNextColumn:function(e){d(),s(e)},fitsOnCurrentColumn:function(e){return l+e<=c},fitsOnNextColumn:function(e){return e<=(0===i&&a<n&&t?t:r)},get:function(){return o}}}({columnsCount:r,firstPageHeight:n,normalPageHeight:o,noEmptyLinesOnColumnStart:c}),p=[],d=0;return(n||o)>0&&e.forEach((function(t,r){(function(e,t,r,n){return!(vn(t)&&!e.fitsOnCurrentColumn(t.height)&&0===r.length&&!0===n)})(u,t,p,c)&&(p.push(t),d+=t.height),p.length>0&&function(e,t,r){var n=r.noOrphanTextLine,o=r.columnBreakOnSection;if(vn(e)||!t)return!0;var i=function(e){return bn(e.content,hn)}(e)&&function(e){return bn(e.content,yn)}(t);if(!0===n&&i)return!1;var a=vn(t);if(!0===o&&!a)return!1;return!0}(t,e[r+1],{noOrphanTextLine:s,columnBreakOnSection:i})&&(u.fitsOnCurrentColumn(d)?u.insert(p):u.fitsOnNextColumn(d)?u.insertOnNextColumn(p):u.insert(p),p=[],d=0)})),u.get()}function vn(e){return bn(e.content,mn)}function bn(e,t){return e.indexOf(t)>-1}function En(e,t){var r=document.createElement("div");r.classList.add("measuring-node"),document.body.appendChild(r);var n=(0,Ke.s)(r);return new Promise((function(o){var i=function(){return(0,Ve.useLayoutEffect)((function(){var e=t(r);o(e)})),Ve.createElement("div",null,e)};n.render(Ve.createElement(i,null))})).then((function(e){return n.unmount(),r.parentNode.removeChild(r),e}))}function wn(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=t.length||0;r<e;r++)t.push([]);return t}function On(e){return e.offsetHeight}function Cn(e){return e.clientHeight}function Sn(e){return Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sn(e)}function jn(){jn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return j()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=E(a,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function p(){}function d(){}function f(){}var m={};c(m,o,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(S([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=f.prototype=p.prototype=Object.create(m);function v(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,i,a,c){var l=s(e[o],e,i);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==Sn(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(p).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=f,c(g,"constructor",f),c(f,"constructor",d),d.displayName=c(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,a,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new b(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},v(g),c(g,a,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Pn(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Rn(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Pn(i,n,o,a,c,"next",e)}function c(e){Pn(i,n,o,a,c,"throw",e)}a(void 0)}))}}var Fn=".cmLine";function xn(e,t){return Nn.apply(this,arguments)}function Nn(){return(Nn=Rn(jn().mark((function e(t,r){var n,o,i,a,c,l;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.columnsCount,o=r.documentSize,i=r.documentMargins,a=r.fontSize,c=Ve.createElement("div",{className:"printPreview cmTheme-print"},Ve.createElement(pn,{allColumnsLines:wn(n,[t]),columnsCount:n,documentSize:o,documentMargins:i,fontSize:a})),l=function(e){var t=[];return e.querySelectorAll(Fn).forEach((function(e){t.push(On(e))})),t},e.next=5,En(c,l);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kn(e){return kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kn(e)}function Tn(){Tn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return j()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=E(a,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function p(){}function d(){}function f(){}var m={};c(m,o,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(S([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=f.prototype=p.prototype=Object.create(m);function v(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,i,a,c){var l=s(e[o],e,i);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==kn(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(p).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=f,c(g,"constructor",f),c(f,"constructor",d),d.displayName=c(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,a,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new b(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},v(g),c(g,a,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Ln(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function _n(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Ln(i,n,o,a,c,"next",e)}function c(e){Ln(i,n,o,a,c,"throw",e)}a(void 0)}))}}function qn(e,t){return In.apply(this,arguments)}function In(){return(In=_n(Tn().mark((function e(t,r){var n,o,i,a,c,l;return Tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.columnsCount,o=r.documentSize,i=r.documentMargins,a=r.fontSize,c=Ve.createElement(pn,{pageHeader:Ve.createElement(fn,{title:t}),allColumnsLines:wn(n),documentSize:o,documentMargins:i,fontSize:a}),l=function(e){var t=e.querySelector(".printPreview-pageContent");return{firstPageHeight:Cn(e.querySelector(".printPreview-pageColumnWrapper")),normalPageHeight:Cn(t)}},e.next=5,En(c,l);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mn(e){return Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mn(e)}function An(){An=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return j()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=E(a,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function p(){}function d(){}function f(){}var m={};c(m,o,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(S([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=f.prototype=p.prototype=Object.create(m);function v(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,i,a,c){var l=s(e[o],e,i);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==Mn(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(p).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=f,c(g,"constructor",f),c(f,"constructor",d),d.displayName=c(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,a,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new b(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},v(g),c(g,a,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Bn(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Dn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gn(e){var t=Dn((0,Ve.useState)([]),2),r=t[0],n=t[1],o=e.title,i=e.allLines,a=e.columnsCount,c=e.columnBreakOnSection,l=e.documentSize,s=e.documentMargins,u=e.fontSize;(0,Ve.useLayoutEffect)((function(){var e=function(){var e,t=(e=An().mark((function e(){var t,r,p,d,f,m,h;return An().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={columnsCount:a,documentSize:l,documentMargins:s,fontSize:u},e.next=3,xn(i,t);case 3:return r=e.sent,e.next=6,qn(o,t);case 6:p=e.sent,d=p.normalPageHeight,f=p.firstPageHeight,m=i.map((function(e,t){return{content:e,height:r[t]}})),h=gn(m,{columnsCount:a,columnBreakOnSection:c,normalPageHeight:d,firstPageHeight:f}),n(h);case 12:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Bn(i,n,o,a,c,"next",e)}function c(e){Bn(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[i,o,a,c,l,s,u]);var p=r.map((function(e,t){return Ve.createElement(pn,{key:t,pageHeader:0===t?Ve.createElement(fn,{title:o}):null,allColumnsLines:wn(a,e),documentSize:l,documentMargins:s,fontSize:u})}));return Ve.createElement(Ve.Fragment,null,p)}Gn.propTypes={title:Ye().string.isRequired,allLines:Ye().arrayOf(Ye().string).isRequired,columnsCount:Ye().number.isRequired,columnBreakOnSection:Ye().bool.isRequired,documentSize:Ye().string.isRequired,documentMargins:Ye().number.isRequired,fontSize:Ye().number.isRequired};const zn=Gn;function Hn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kn(e){var t=e.selectedFile,r=u()(e,["transposeValue","accidentalsType","symbolType","chartType","alignChordsWithLyrics","alignBars","autoRepeatChords","expandSectionCopy"]),n=mr(t.content||"",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(r),!0).forEach((function(t){Vn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r)),o=n.match(/(<p.*?>.*?<\/p>)/gm);return Ve.createElement("div",{className:["printPreview","cmTheme-print"].join(" "),"data-testid":"printPreview"},Ve.createElement(zn,{title:t.title||"",allLines:o,columnsCount:e.columnsCount,columnBreakOnSection:e.columnBreakOnSection,documentSize:e.documentSize||"a4",documentMargins:e.documentMargins,fontSize:e.fontSize}))}Kn.propTypes={chartType:Ye().string.isRequired,selectedFile:Ye().object.isRequired,columnsCount:Ye().number.isRequired,columnBreakOnSection:Ye().bool.isRequired,documentSize:Ye().string,documentMargins:Ye().number.isRequired,fontSize:Ye().number.isRequired};const $n=Kn,Zn=(0,$e.$j)((function(e){return{accidentalsType:te(e,"songPreferences","preferredAccidentals"),transposeValue:te(e,"songPreferences","transposeValue"),symbolType:te(e,"songPreferences","symbolType"),chartType:te(e,"songFormatting","chartType"),alignChordsWithLyrics:te(e,"songFormatting","alignChordsWithLyrics"),alignBars:te(e,"songFormatting","alignBars"),autoRepeatChords:te(e,"songFormatting","autoRepeatChords"),expandSectionCopy:te(e,"songFormatting","expandSectionCopy"),columnsCount:te(e,"songFormatting","columnsCount"),columnBreakOnSection:te(e,"songFormatting","columnBreakOnSection"),documentMargins:te(e,"songFormatting","documentMargins"),fontSize:te(e,"songFormatting","fontSize")}}))($n);function Yn(e){switch(e.editorMode){case"edit":return Ve.createElement(nn,e);case"play":return Ve.createElement(sn,e);case"print":return Ve.createElement(Zn,e);case"export":return Ve.createElement(an,e)}}Yn.propTypes={editorMode:Ye().string.isRequired};const Un=Yn,Jn=(0,$e.$j)((function(e){return{selectedFile:D(e,C(e))||{},editorMode:O(e)}}),{updateFile:Ct})(Un);r("JTJg");function Xn(){return Xn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xn.apply(this,arguments)}function Qn(e){var t,r,n,o,i,a,c,l=e.id,s=e.allWidgets,u=e.nonInteractableWidgets,p=e.hiddenWidgets,d=e.setOption,f=e.getEntryComponent,m=["optionsPanel","optionsPanel-"+l],h=s.widgetsOrder.filter((function(e){return!p.includes(e)})).map((function(e){return"optionsGroup"===(t=s.allWidgets[e]).type?0===(c=t.groupWidgetsOrder.filter((function(e){return!p.includes(e)})).map((function(n){return r=t.allGroupWidgets[n],a=!u.includes(e)&&!u.includes(n),y(n,r,a)}))).length?null:(o=f(t.type),i=!u.includes(e),Ve.createElement(o,{key:e,isInteractable:i,label:t.label,icon:t.icon},c)):y(e,t,!u.includes(e))}));function y(t,r,o){return n=f(r.type),Ve.createElement(n,Xn({key:t,isInteractable:o,optionContext:r.option.context,optionKey:r.option.key,optionValue:e[r.option.key],setOption:d,label:r.label},r.typeOptions))}return Ve.createElement("div",{className:m.join(" ")},h)}Qn.propTypes={id:Ye().string.isRequired,allWidgets:Ye().object.isRequired,nonInteractableWidgets:Ye().arrayOf(Ye().string).isRequired,hiddenWidgets:Ye().arrayOf(Ye().string).isRequired,setOption:Ye().func.isRequired,getEntryComponent:Ye().func.isRequired};const eo=Qn;function to(e){var t=e.isInteractable,r=e.icon,n=e.label,o=["sb-optionsGroup"];return t&&e.children&&e.children.length>0||o.push("sb-optionsGroup-isNotInteractable"),Ve.createElement("div",{className:o.join(" ")},Ve.createElement("div",{className:"sb-optionsGroup-title"},Ve.createElement("span",{className:"sb-optionsGroup-iconTitle"},Ve.createElement(st,{iconName:r}))," ",n),Ve.createElement("div",{className:"sb-optionsGroup-content"},e.children))}to.propTypes={isInteractable:Ye().bool.isRequired,icon:Ye().string.isRequired,label:Ye().string.isRequired,children:Ye().arrayOf(Ye().element)},to.defaultProps={};const ro=to;r("fbCW");function no(e){var t,r=e.isSelected,n=e.isInteractable,o=e.label,i=e.onClick,a=["sb-optionSelectChoice"];return r&&(a.push("sb-optionSelectChoice-isSelected"),t=Ve.createElement("span",{className:"sb-optionSelectChoice-checkIcon"},Ve.createElement(st,{iconName:"check"}))),n||a.push("sb-optionSelectChoice-isNotInteractable"),Ve.createElement("div",{className:a.join(" "),onClick:function(){n&&i()}},Ve.createElement("div",{className:"sb-optionSelectChoice-check"},r&&t),Ve.createElement("div",{className:"sb-optionSelectChoice-label"},o))}no.propTypes={isSelected:Ye().bool.isRequired,isInteractable:Ye().bool.isRequired,label:Ye().string.isRequired,onClick:Ye().func.isRequired};const oo=Ve.memo(no);function io(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ao(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ao(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ao(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function co(e){var t=io((0,Ve.useState)(!1),2),r=t[0],n=t[1],o=e.isInteractable,i=e.label,a=e.allChoices,c=e.optionContext,l=e.optionKey,s=e.optionValue,u=e.setOption,p=["sb-optionSelect"];o||p.push("sb-optionSelect-isNotInteractable");var d=r?"keyboard_arrow_down":"keyboard_arrow_right";var f=r?Ve.createElement("div",{className:"sb-optionSelect-choices"},a.map((function(e){return Ve.createElement(oo,{key:e.value,label:e.label,isSelected:s===e.value,isInteractable:o,onClick:function(){u(c,l,e.value)}})}))):null,m=a.find((function(e){return s===e.value})).label,h=r?i:Ve.createElement("span",null,Ve.createElement("span",null,i+": "),Ve.createElement("span",{className:"sb-optionSelectChoice-activeLabel"},m));return Ve.createElement("div",{className:p.join(" ")},Ve.createElement("div",{className:"sb-optionSelect-title",onClick:o?function(){n(!r)}:null},Ve.createElement("div",{className:"sb-optionSelect-desc","data-testid":"selectLabel"},h),Ve.createElement("div",{className:"sb-optionSelect-toggle"},Ve.createElement("span",{className:"sb-optionSelect-icon"},Ve.createElement(st,{iconName:d})))),f)}co.propTypes={isInteractable:Ye().bool.isRequired,label:Ye().string.isRequired,allChoices:Ye().array.isRequired,optionContext:Ye().string.isRequired,optionKey:Ye().string.isRequired,optionValue:Ye().string.isRequired,setOption:Ye().func.isRequired};const lo=co;r("JevA"),r("qePV");function so(e){var t=e.isInteractable,r=e.label,n=e.min,o=e.max,i=e.showPlusSymbol,a=e.optionContext,c=e.optionKey,l=e.optionValue,s=e.setOption,u=["sb-optionSlider"];t||u.push("sb-optionSlider-isNotInteractable");var p=l>0&&i?"+"+l:l;return Ve.createElement("div",{className:u.join(" ")},Ve.createElement("div",{className:"sb-optionSlider-desc"},r),Ve.createElement("div",{className:"sb-optionSlider-value"},p),Ve.createElement("div",{className:"sb-optionSlider-range"},Ve.createElement("input",{min:n,max:o,value:l,type:"range",onChange:t?function(e){s(a,c,Number.parseInt(e.target.value))}:null,disabled:!t})))}so.propTypes={isInteractable:Ye().bool.isRequired,label:Ye().string.isRequired,min:Ye().number.isRequired,max:Ye().number.isRequired,showPlusSymbol:Ye().bool,optionContext:Ye().string.isRequired,optionKey:Ye().string.isRequired,optionValue:Ye().number.isRequired,setOption:Ye().func.isRequired},so.defaultProps={showPlusSymbol:!0};const uo=Ve.memo(so);function po(e){var t=e.isInteractable,r=e.label,n=e.optionContext,o=e.optionKey,i=e.optionValue,a=e.setOption,c=["sb-optionToggle"];return c.push(!0===i?"sb-optionToggle-isOn":"sb-optionToggle-isOff"),t||c.push("sb-optionToggle-isNotInteractable"),Ve.createElement("div",{className:c.join(" "),onClick:t?function(){a(n,o,!i)}:null},Ve.createElement("div",{className:"sb-optionToggle-desc"},r),Ve.createElement("div",{className:"sb-optionToggle-icon"},Ve.createElement("span",{className:"sb-optionToggle-icon"},Ve.createElement(st,{iconName:!0===i?"toggle_on":"toggle_off"}))))}po.propTypes={isInteractable:Ye().bool.isRequired,label:Ye().string.isRequired,optionContext:Ye().string.isRequired,optionKey:Ye().string.isRequired,optionValue:Ye().bool.isRequired,setOption:Ye().func.isRequired};const fo=Ve.memo(po);function mo(){return mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mo.apply(this,arguments)}function ho(e){switch(e){case"optionsGroup":return ro;case"select":return lo;case"slider":return uo;case"toggle":return fo}}function yo(e){return Ve.createElement("div",{className:"sb-optionsPanel"},Ve.createElement(eo,mo({},e,{getEntryComponent:ho})))}function go(){return go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},go.apply(this,arguments)}var vo=function(e,t,r){if(!e)throw new TypeError("Cannot set an option without a context");if(!t)throw new TypeError("Cannot set an option without a key");return Ae(y,{context:e,key:t,value:r})};var bo=r("zqxM"),Eo=r.n(bo);function wo(e){return function(e){if(Array.isArray(e))return Oo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Oo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Oo(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Co(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function So(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Co(Object(r),!0).forEach((function(t){jo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Co(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Po=function(e,t,r,n){return(0,$e.$j)((function(n){var o,i,a={allWidgets:e,nonInteractableWidgets:t(n),hiddenWidgets:r(n)};return e.widgetsOrder.forEach((function(t){(o=e.allWidgets[t]).groupWidgetsOrder.forEach((function(e){i=o.allGroupWidgets[e],a[i.option.key]=te(n,i.option.context,i.option.key)}))})),a}),{setOption:vo})(n)}({widgetsOrder:["editorPreferences","key","preferences","layout"],allWidgets:{editorPreferences:{label:"Editor preferences",type:"optionsGroup",icon:"tune",groupWidgetsOrder:["theme","chartFormat"],allGroupWidgets:{theme:{label:"Theme",type:"select",typeOptions:{allChoices:[{id:"themeDark1",label:"Dark 1 (default)",value:"dark1"},{id:"themeDark2",label:"Dark 2",value:"dark2"},{id:"themeDark3",label:"Dark 3",value:"dark3"}]},option:{context:"editorPreferences",key:"theme"}},chartFormat:{label:"Export format",type:"select",typeOptions:{allChoices:[{id:"formatChordMark",label:"ChordMark",value:"chordmark"},{id:"formatChordMarkSrc",label:"ChordMark (Source)",value:"chordmarkSrc"},{id:"formatChordpro",label:"ChordPro",value:"chordpro"},{id:"formatUG",label:"UltimateGuitar",value:"ultimateGuitar"}]},option:{context:"editorPreferences",key:"chartFormat"}}}},key:{label:"Key",type:"optionsGroup",icon:"music_note",groupWidgetsOrder:["transposeValue","preferredAccidentals","symbolType"],allGroupWidgets:{transposeValue:{label:"Transpose",type:"slider",typeOptions:{min:-11,max:11,showPlusSymbol:!0},option:{context:"songPreferences",key:"transposeValue"}},preferredAccidentals:{label:"Preferred accidentals",type:"select",typeOptions:{allChoices:[{id:"preferredAccidentalsAuto",label:"Auto",value:"auto"},{id:"preferredAccidentalsSharp",label:"♯",value:"sharp"},{id:"preferredAccidentalsFlat",label:"♭",value:"flat"}]},option:{context:"songPreferences",key:"preferredAccidentals"}},symbolType:{label:"Symbols type",type:"select",typeOptions:{allChoices:[{id:"symbolTypeChord",label:"Chord symbols",value:"chord"},{id:"symbolTypeRoman",label:"Roman numerals",value:"roman"}]},option:{context:"songPreferences",key:"symbolType"}}}},preferences:{label:"Chart settings",type:"optionsGroup",icon:"tune",groupWidgetsOrder:["chartType","alignChordsWithLyrics","alignBars","autoRepeatChords","expandSectionCopy"],allGroupWidgets:{chartType:{label:"Type",type:"select",typeOptions:{allChoices:[{id:"typedisplayAll",label:"Show everything",value:"all"},{id:"typedisplayLyrics",label:"Lyrics only",value:"lyrics"},{id:"typedisplayChords",label:"Chords only",value:"chords"},{id:"typedisplayChordsFirstLyricLine",label:"Chords + First lyric line",value:"chordsFirstLyricLine"}]},option:{context:"songFormatting",key:"chartType"}},alignChordsWithLyrics:{label:"Align chords with lyrics",type:"toggle",option:{context:"songFormatting",key:"alignChordsWithLyrics"}},alignBars:{label:"Align bars",type:"toggle",option:{context:"songFormatting",key:"alignBars"}},autoRepeatChords:{label:"Auto repeat chords",type:"toggle",option:{context:"songFormatting",key:"autoRepeatChords"}},expandSectionCopy:{label:"Expand copied sections",type:"toggle",option:{context:"songFormatting",key:"expandSectionCopy"}}}},layout:{type:"optionsGroup",label:"Layout",icon:"view_compact",groupWidgetsOrder:["fontSize","columnsCount","columnBreakOnSection","documentMargins"],allGroupWidgets:{fontSize:{label:"Font size",type:"slider",typeOptions:{min:-5,max:5,showPlusSymbol:!0},option:{context:"songFormatting",key:"fontSize"}},columnsCount:{label:"Columns",type:"slider",typeOptions:{min:1,max:4},option:{context:"songFormatting",key:"columnsCount"}},columnBreakOnSection:{label:"Column Break on section",type:"toggle",option:{context:"songFormatting",key:"columnBreakOnSection"}},documentMargins:{label:"Margins",type:"slider",typeOptions:{min:1,max:5},option:{context:"songFormatting",key:"documentMargins"}}}}}},(function(e){var t=[],r=te(e,"songFormatting","chartType");"lyrics"===r?(t.push("alignChordsWithLyrics"),t.push("alignBars"),t.push("autoRepeatChords")):"chords"===r&&t.push("alignChordsWithLyrics");var n=te(e,"editorPreferences","chartFormat");return"export"===O(e)&&"chordmarkSrc"===n&&(t.push("chartType"),t.push("alignChordsWithLyrics"),t.push("alignBars"),t.push("autoRepeatChords"),t.push("expandSectionCopy")),t}),(function(e){var t=[],r=Object.keys(So(So(So({},re(e,"editorPreferences")),re(e,"songFormatting")),re(e,"songPreferences")));if(!C(e))return r;var n=O(e),o=Eo()(r,z[n]);return t.push.apply(t,wo(o)),t}),(function(e){return Ve.createElement("div",{className:"renderingOptionsPanel"},Ve.createElement("div",{className:"renderingOptionsPanel-isCollapsed"},Ve.createElement("span",{className:"renderingOptionsPanel-icon"},Ve.createElement(st,{iconName:"settings"}))),Ve.createElement("div",{className:"renderingOptionsPanel-isExpanded"},Ve.createElement(yo,go({},e,{id:"rendering"}))))}));function Ro(){var e=Ve.createElement(Ir,null),t=Ve.createElement(Po,null);return Ve.createElement(ir,{leftBar:e,rightBar:t},Ve.createElement(Jn,null))}var Fo=[{path:"/editor",action:function(){return Ro}}],xo=new He.Z(Fo);const No=function(e){return xo.resolve(e).then((function(e){return t=e,r=document.getElementById("app"),void(0,Ke.s)(r).render(Ve.createElement($e.zt,{store:Me()},Ve.createElement(Ve.StrictMode,null,Ve.createElement(nt,null,Ve.createElement(t,null)))));var t,r}))};window.addEventListener("message",ze),Ie(),function(){var e=Me(),t=e.getState();0===B(t).length&&(e.dispatch(Ot("Hallelujah - Leonard Cohen","#i\nC.. Am.. %\n%\n\n#v\nC.. Am..\nI _heard there was a _secret chord\n%\nThat _David played and it _pleased the lord\nF... G. C.. G..\nBut _you don't really care for _music, _do you?\nC.. F. G.\nWell it _goes like this the _fourth, the _fifth\nAm.. F..\nThe _minor fall and the _major lift\nG.. E7.. Am\nThe _baffled king com_posing halle_lujah\n\n#c\nF\nHalle_lujah\nAm\nHalle_lujah\nF\nHalle_lujah\nC.. G.. C.. Am..\nHalle_lu_u_jah\n\n#v\nWell, your _faith was strong but you _needed proof\nYou _saw her bathing _on the roof\nHer _beauty and the moonlight _over_threw you\nShe _tied you to her _kitchen _chair\nShe _broke your throne and she _cut your hair\nAnd _from your lips she _drew the halle_lujah\n\n#c\n")),e.dispatch(Ot("Getting started","Welcome to Chord Chart Studio!\n\nChord Chart Studio is the official editor of the ChordMark format. \nYou can use it to quickly write accurate transcription of songs made up of chords and lyrics. \n\nA % D7.. E7..\n_Just write _some chords, some _lyrics\n%\n_And see how it _looks: _terrific!\n\nWhere to start? You can either:\n- check the sample song on the left\n- read the user guide, by clicking the big yellow button in the top right corner\n\nHave fun! \n")))}(),No("/editor")}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={id:e,loaded:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=t,e=[],n.O=(t,r,o,i)=>{if(!r){var a=1/0;for(u=0;u<e.length;u++){for(var[r,o,i]=e[u],c=!0,l=0;l<r.length;l++)(!1&i||a>=i)&&Object.keys(n.O).every((e=>n.O[e](r[l])))?r.splice(l--,1):(c=!1,i<a&&(a=i));if(c){e.splice(u--,1);var s=o();void 0!==s&&(t=s)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[r,o,i]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,i,[a,c,l]=r,s=0;if(a.some((t=>0!==e[t]))){for(o in c)n.o(c,o)&&(n.m[o]=c[o]);if(l)var u=l(n)}for(t&&t(r);s<a.length;s++)i=a[s],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},r=self.webpackChunkchord_chart_studio=self.webpackChunkchord_chart_studio||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var o=n.O(void 0,[216],(()=>n("TBfH")));o=n.O(o)})();
//# sourceMappingURL=main.0532e67ab5884375abc2.js.map