(()=>{"use strict";var t,e=window.location.href;function a(t){return{error:!0,message:t}}fetch(e).then((function(t){return t.text()})).then((function(e){var o=/<div class="js-store" data-content="(.*)">/g.exec(e);if(o){var r=o[1].replace(/&quot;/g,'"'),n=JSON.parse(r);t=function(t){if(!t.store||!t.store.page||!t.store.page.data)return a("Could not parse the page");var e=t.store.page.data;return e.tab&&e.tab_view?["Chords","Ukulele Chords"].includes(e.tab.type)?{source:"ultimateGuitar",artist:e.tab.artist_name,title:e.tab.song_name,chordChart:e.tab_view.wiki_tab.content}:a("Only Chords charts can be imported, you are viewing a tab of type: "+e.tab.type_name):a("I know this website, but this page does not look like a chord chart.")}(n),console.log(n)}else console.log("cannot find jsStore")})),chrome.runtime.onMessage.addListener((function(e,a,o){"getTabData"===e.type&&o(t)}))})();