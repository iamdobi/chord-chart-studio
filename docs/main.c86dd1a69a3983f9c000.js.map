{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/state/localStorage.js","webpack:///./src/db/files/actionsTypes.js","webpack:///./src/db/files/reducers.js","webpack:///./src/db/options/reducers.js","webpack:///./src/db/reducers.js","webpack:///./src/db/options/actionsTypes.js","webpack:///./src/fileManager/_state/actionsTypes.js","webpack:///./src/fileManager/_state/reducers.js","webpack:///./src/ui/layout/app/_state/actionsTypes.js","webpack:///./src/ui/layout/app/_state/reducers.js","webpack:///./src/ui/layout/reducers.js","webpack:///./src/state/store.js","webpack:///./src/ui/reducers.js","webpack:///./src/state/reducers.js","webpack:///./src/state/seed.js","webpack:///./src/db/seed.js","webpack:///./src/db/options/seed.js","webpack:///./src/ui/_components/ErrorBoundary.js","webpack:///./src/core/createAction.js","webpack:///./src/ui/layout/app/_state/actions.js","webpack:///./src/ui/layout/app/_state/selectors.js","webpack:///./src/ui/_components/Icon.js","webpack:///./src/ui/sideBar/_components/Logo.js","webpack:///./src/ui/layout/app/_components/NavEntry.js","webpack:///./src/ui/layout/app/_components/Nav.js","webpack:///./src/ui/layout/app/_components/Footer.js","webpack:///./src/ui/layout/app/allNavEntries.js","webpack:///./src/ui/layout/app/_components/App.js","webpack:///./src/ui/layout/app/_containers/App.js","webpack:///./src/fileManager/_state/selectors.js","webpack:///./src/db/files/actions.js","webpack:///./src/db/files/selectors.js","webpack:///./src/fileManager/_components/FileActionEntry.js","webpack:///./src/fileManager/_components/FileActions.js","webpack:///./src/fileManager/_components/FileEntry.js","webpack:///./src/fileManager/_components/FileManager.js","webpack:///./src/fileManager/_containers/FileManager.js","webpack:///./src/fileManager/_state/actions.js","webpack:///./src/db/options/selectors.js","webpack:///./src/core/escapeHTML.js","webpack:///./src/core/renderSong.js","webpack:///./src/songRenderers/_components/SongRenderer.js","webpack:///./src/songRenderers/_containers/SongRenderer.js","webpack:///./src/songRenderers/editorPreview/_components/EditorPreview.js","webpack:///./src/songRenderers/editorPreview/_containers/EditorPreview.js","webpack:///./src/editor/songEditor/prosemirror/schema.js","webpack:///./src/editor/songEditor/prosemirror/converters/stateToText.js","webpack:///./src/editor/songEditor/prosemirror/converters/toSafeHtml.js","webpack:///./src/editor/songEditor/prosemirror/ProsemirrorEditorView.js","webpack:///./src/editor/songEditor/prosemirror/converters/textToDom.js","webpack:///./src/editor/songEditor/prosemirror/getPlugins.js","webpack:///./src/editor/songEditor/_components/EditorLayout.js","webpack:///./src/songRenderers/exportPreview/_components/ExportPreview.js","webpack:///./src/songRenderers/playRenderer/_components/PlayRenderer.js","webpack:///./src/songRenderers/playRenderer/_containers/PlayRenderer.js","webpack:///./src/songRenderers/printPreview/_components/Page.js","webpack:///./src/songRenderers/printPreview/_components/PageHeader.js","webpack:///./src/songRenderers/printPreview/helpers/mapLinesToColumns.js","webpack:///./src/songRenderers/printPreview/helpers/getDimensionsFromDom.js","webpack:///./src/songRenderers/printPreview/helpers/padColumns.js","webpack:///./src/songRenderers/printPreview/helpers/element.js","webpack:///./src/songRenderers/printPreview/helpers/getAllLinesHeight.js","webpack:///./src/songRenderers/printPreview/helpers/getPagesHeight.js","webpack:///./src/songRenderers/printPreview/_components/AllPages.js","webpack:///./src/songRenderers/printPreview/_components/PrintPreview.js","webpack:///./src/songRenderers/printPreview/_containers/PrintPreview.js","webpack:///./src/editor/_components/Editor.js","webpack:///./src/editor/_containers/Editor.js","webpack:///./src/optionsPanels/_components/OptionsPanel.js","webpack:///./src/ui/sideBar/options/_components/OptionsGroup.js","webpack:///./src/ui/sideBar/options/_components/SelectChoice.js","webpack:///./src/ui/sideBar/options/_components/Select.js","webpack:///./src/ui/sideBar/options/_components/Slider.js","webpack:///./src/ui/sideBar/options/_components/Toggle.js","webpack:///./src/ui/sideBar/options/_components/SidebarOptionsPanel.js","webpack:///./src/db/options/actions.js","webpack:///./src/optionsPanels/rendering/allWidgets.js","webpack:///./src/optionsPanels/_containers/OptionsPanelFactory.js","webpack:///./src/optionsPanels/rendering/_containers/Rendering.js","webpack:///./src/optionsPanels/rendering/_state/selectors.js","webpack:///./src/optionsPanels/rendering/_components/Rendering.js","webpack:///./src/controllers/Editor.js","webpack:///./src/router.js","webpack:///./src/renderController.js","webpack:///./src/app.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","loadState","serializedState","localStorage","getItem","JSON","parse","err","saveState","state","stringify","setItem","DB_FILES_CREATE","DB_FILES_UPDATE","DB_FILES_DELETE","initialState","allFiles","combineReducers","files","arguments","undefined","action","type","actionTypes","_action$payload","payload","id","title","content","_objectSpread","createFile","_action$payload2","updateFile","deleteFile","options","context","contextOptions","reducers_objectSpread","newState","FILE_MANAGER_SELECT_FILE","FILE_MANAGER_ENABLE_RENAME","selected","renamed","defaultTitle","UI_LAYOUT_APP_TOGGLE_LEFT_BAR","UI_LAYOUT_APP_TOGGLE_RIGHT_BAR","UI_LAYOUT_APP_SET_EDITOR_MODE","isLeftBarCollapsed","isRightBarCollapsed","editorMode","store","app","app_state_reducers_objectSpread","layout","db","fileManager","_state_reducers_objectSpread","ui","state_seed","rendering","style","default","resetOnSongChange","alignBars","autoRepeatChords","expandSectionRepeats","documentSize","documentMargins","columnsCount","columnBreakOnParagraph","showChords","instrument","showStrummingPattern","transposeValue","simplifyChords","capoPosition","harmonizeAccidentals","preferredAccidentals","useShortNamings","fontSize","printFontSize","fontStyle","chordsColor","highlightChords","storeEnhancers","ErrorBoundary","props","_this","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","error","errorInfo","React","Component","setState","react_default","a","createElement","className","whiteSpace","open","toString","componentStack","children","propTypes","PropTypes","any","createAction","TypeError","getEditorMode","Icon","iconName","join","string","isRequired","memo","_components_Icon","NavEntry","label","icon","setEditorMode","classNames","isActive","onClick","func","bool","Nav","currentMode","allEntries","map","entry","_components_NavEntry","_extends","arrayOf","shape","allNavEntries","App","toggleLeftBar","toggleRightBar","leftBar","rightBar","leftBarClassNames","rightBarClassNames","_components_Logo","data-testid","_components_Nav","_components_Footer","element","defaultProps","connect","getSelectedId","getRenamedId","getDefaultTitle","_ref","getAllTitles","createSelectorCreator","defaultMemoize","_isEqual","createDeepEqualSelector","_map","_sortBy","toLowerCase","getOne","FileActionEntry","text","FileActions","allActions","enableRename","_components_FileActionEntry","FileActions_extends","FileEntry","_useState2","_slicedToArray","useState","setTitle","fileId","isSelected","isRenamed","selectFile","classList","inputRef","createRef","saveTitle","newTitle","current","scrollLeft","useEffect","focus","onDoubleClick","e","target","select","ref","readOnly","autoFocus","onChange","onBlur","onFocus","onKeyPress","which","preventDefault","getSelection","removeAllRanges","FileManager","allTitles","_components_FileActions","file","_components_FileEntry","actionsTypes","uuid","v4","getOptionValue","escapeHTML","unescaped","domPurify","sanitize","renderSong","songTxt","renderOptions","parsed","parseSong","renderSongCm","SongRenderer","_pick","dangerouslySetInnerHTML","__html","accidentalsType","EditorPreview","selectedFile","_containers_SongRenderer","editorSchema","Schema","nodes","marks","stateToText","toJSON","doc","paragraph","reduce","acc","toSafeHtml","dirty","ALLOWED_TAGS","KEEP_CONTENT","ProseMirrorEditorView","selectedFileId","editorContent","editorView","useRef","editorDom","previousFileId","editorExists","dom","parentNode","destroyEditor","removeChild","editorState","EditorState","pmDOMParser","fromSchema","html","split","line","concat","div","document","innerHTML","preserveWhitespace","plugins","pmHistory","keymap","Mod-z","undo","Mod-y","redo","baseKeymap","createEditorState","EditorView","dispatchTransaction","transaction","_this$state$applyTran","applyTransaction","transactions","updateState","some","tr","docChanged","createEditorView","appendChild","EditorLayout","prosemirror_ProsemirrorEditorView","_containers_EditorPreview","ExportPreview","PlayRenderer","number","Page","pageHeader","allColumnsLines","allSectionsRendered","columnLines","index","columnLinesTxt","pageClasses","pageContentWrapperClasses","PageHeader","cssClasses","emptyLine","chordLine","textLine","mapLinesToColumns","allLinesWithHeight","firstPageHeight","normalPageHeight","_ref$noEmptyLinesOnCo","noEmptyLinesOnColumnStart","_ref$noOrphanTextLine","noOrphanTextLine","_ref3","allPagesColumns","pageIndex","columnIndex","maxColumnHeight","getMaxColumnHeight","currentColumnHeight","flushBuffer","buffer","forEach","height","changeColumn","insert","insertOnNextColumn","fitsOnCurrentColumn","bufferHeight","fitsOnNextColumn","layoutFactory","lineIndex","isEmptyLine","shouldRenderLine","currentLine","nextLine","_ref2","wouldProduceOrphanTextLine","hasClass","isTextLine","isEndOfParagraph","isBreakable","indexOf","getDimensionsFromDom","component","measuringFn","container","add","body","Promise","resolve","ReactDOM","render","measure","unmountComponentAtNode","padColumns","columnCount","allColumns","getClientHeight","clientHeight","cssSelectors","getAllLinesHeight","_x","_x2","_getAllLinesHeight","_callee","allLines","regeneratorRuntime","wrap","_context","prev","next","_components_Page","allLinesHeight","querySelectorAll","offsetHeight","abrupt","sent","stop","helpers_getPagesHeight_getAllLinesHeight","_components_PageHeader","pageContent","querySelector","AllPages","AllPages_slicedToArray","setAllPagesColumns","useLayoutEffect","mark","pageOptions","mapped","getPagesHeight","getDimensions","allPagesRendered","pageColumns","Fragment","PrintPreview","_components_AllPages","Editor","_components_EditorLayout","_containers_PlayRenderer","_containers_PrintPreview","_components_ExportPreview","OptionsPanel","widget","groupWidget","WidgetComponent","GroupComponent","isGroupInteractable","isGroupWidgetInteractable","renderedGroupWidgets","allWidgets","nonInteractableWidgets","hiddenWidgets","setOption","getEntryComponent","renderedWidgets","widgetsOrder","filter","widgetId","includes","groupWidgetsOrder","groupWidgetId","allGroupWidgets","renderWidget","isInteractable","localWidget","OptionsPanel_extends","optionContext","option","optionKey","optionValue","typeOptions","OptionsGroup","OptionsGroup_slicedToArray","isOpened","setIsOpened","shouldBeInteractable","SelectChoice","checkIcon","Select","Select_slicedToArray","isOpen","setIsOpen","allChoices","renderedChoices","choice","_components_SelectChoice","array","Slider","min","max","showPlusSymbol","valueDisplay","Number","parseInt","disabled","Toggle","SidebarOptionPanel","_components_OptionsPanel","SidebarOptionsPanel_extends","setOptionValue","getNonInteractableWidgets","getHiddenWidgets","OptionsPanelFactory","helpers","chords","format","Rendering_extends","stateToProps","Edit","fm","_containers_FileManager","rightBarPanel","_containers_Rendering","_containers_App","_containers_Editor","routes","path","universalRouter","UniversalRouter","router","navigateTo","then","controller","Controller","ReactDom","es","StrictMode","ui_components_ErrorBoundary","getElementById","__REDUX_DEVTOOLS_EXTENSION__","trace","persistedState","_defaultsDeep","seed","createReduxStore","allReducers","compose","subscribe","getState","createStore"],"mappings":"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","file":"main.c86dd1a69a3983f9c000.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"Vtdi\",1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","// @see https://egghead.io/lessons/javascript-redux-persisting-the-state-to-the-local-storage\n\nexport const loadState = () => {\n\ttry {\n\t\tconst serializedState = localStorage.getItem('state');\n\t\tif (!serializedState) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn JSON.parse(serializedState);\n\n\t} catch (err) {\n\t\treturn undefined;\n\t}\n};\n\nexport const saveState = (state) => {\n\ttry {\n\t\tconst serializedState = JSON.stringify(state);\n\t\tlocalStorage.setItem('state', serializedState);\n\t} catch (err) {\n\t\t// ignore write errors\n\t}\n};\n","export const DB_FILES_CREATE = 'db/files/Create';\nexport const DB_FILES_UPDATE = 'db/files/Update';\nexport const DB_FILES_DELETE = 'db/files/Delete';\n","import * as actionTypes from './actionsTypes';\n\nconst initialState = {\n\tallFiles: {},\n};\n\nfunction createFile(state, action) {\n\tconst { id, title, content } = action.payload;\n\n\tconst allFiles = { ...state.allFiles };\n\tallFiles[id] = {\n\t\tid,\n\t\ttitle,\n\t\tcontent\n\t};\n\n\treturn {\n\t\t...state,\n\t\tallFiles,\n\t};\n}\n\n\nfunction updateFile(state, action) {\n\tconst { id, title, content } = action.payload;\n\n\tif ((!title && !content) || !state.allFiles[id]) {\n\t\treturn state;\n\t}\n\n\tconst allFiles = { ...state.allFiles };\n\n\tallFiles[id] = { ...allFiles[id] };\n\n\tif (title) {\n\t\tallFiles[id].title = title;\n\t}\n\tif (content) {\n\t\tallFiles[id].content = content;\n\t}\n\treturn {\n\t\t...state,\n\t\tallFiles,\n\t};\n}\n\n\nfunction deleteFile(state, action) {\n\tconst { id } = action.payload;\n\n\tif (!id || !state.allFiles[id]) {\n\t\treturn state;\n\t}\n\n\tconst allFiles = { ...state.allFiles };\n\tdelete allFiles[id];\n\n\treturn {\n\t\t...state,\n\t\tallFiles,\n\t};\n}\n\n\nexport default (state = initialState, action = {}) => {\n\tswitch (action.type) {\n\t\tcase actionTypes.DB_FILES_CREATE: return createFile(state, action);\n\t\tcase actionTypes.DB_FILES_UPDATE: return updateFile(state, action);\n\t\tcase actionTypes.DB_FILES_DELETE: return deleteFile(state, action);\n\t}\n\treturn state;\n};\n","import * as actionTypes from './actionsTypes';\n\nconst initialState = {};\n\nexport default (state = initialState, action = {}) => {\n\tswitch (action.type) {\n\t\tcase actionTypes.DB_OPTION_SET_OPTION_VALUE: {\n\t\t\tconst { context, key, value } = action.payload;\n\n\t\t\tif (!state[context] || !state[context][key]) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\tconst contextOptions = { ...state[context] };\n\t\t\tcontextOptions[key] = {\n\t\t\t\t...contextOptions[key],\n\t\t\t\tvalue\n\t\t\t};\n\n\t\t\tconst newState = {\n\t\t\t\t...state,\n\t\t\t};\n\t\t\tnewState[context] = contextOptions;\n\n\t\t\treturn newState;\n\t\t}\n\t}\n\treturn state;\n};\n","import { combineReducers } from 'redux';\nimport files from './files/reducers';\nimport options from './options/reducers';\n\nexport default combineReducers({\n\tfiles,\n\toptions,\n});\n","export const DB_OPTION_SET_OPTION_VALUE = 'db/options/setOptionValue';\n","export const FILE_MANAGER_SELECT_FILE = 'fileManager/select';\nexport const FILE_MANAGER_ENABLE_RENAME = 'fileManager/enableRename';\n\n","import {\n\tFILE_MANAGER_SELECT_FILE,\n\tFILE_MANAGER_ENABLE_RENAME\n} from './actionsTypes';\n\nimport {\n\tDB_FILES_CREATE,\n\tDB_FILES_UPDATE,\n\tDB_FILES_DELETE\n} from '../../db/files/actionsTypes';\n\nconst initialState = {\n\tselected: '',\n\trenamed: '',\n\tdefaultTitle: '[untitled]'\n};\n\nexport default function reducers(state = initialState, action = {}) {\n\tswitch (action.type) {\n\n\t\tcase DB_FILES_CREATE: {\n\t\t\tconst { id } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselected: id,\n\t\t\t\trenamed: id\n\t\t\t};\n\t\t}\n\n\t\tcase DB_FILES_UPDATE: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\trenamed: ''\n\t\t\t};\n\t\t}\n\n\t\tcase DB_FILES_DELETE: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselected: '',\n\t\t\t\trenamed: ''\n\t\t\t};\n\t\t}\n\n\t\tcase FILE_MANAGER_SELECT_FILE: {\n\t\t\tconst { id } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselected: id,\n\t\t\t\trenamed: (id === state.renamed) ? id : ''\n\t\t\t};\n\t\t}\n\n\t\tcase FILE_MANAGER_ENABLE_RENAME: {\n\t\t\tconst { id } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\trenamed: id\n\t\t\t};\n\t\t}\n\t}\n\treturn state;\n}\n","export const UI_LAYOUT_APP_TOGGLE_LEFT_BAR = 'ui/layout/app/toggleLeftBar';\nexport const UI_LAYOUT_APP_TOGGLE_RIGHT_BAR = 'ui/layout/app/toggleRightBar';\nexport const UI_LAYOUT_APP_SET_EDITOR_MODE = 'ui/layout/app/setEditorMode';\n","import {\n\tUI_LAYOUT_APP_TOGGLE_RIGHT_BAR,\n\tUI_LAYOUT_APP_TOGGLE_LEFT_BAR,\n\tUI_LAYOUT_APP_SET_EDITOR_MODE,\n} from './actionsTypes';\n\nconst initialState = {\n\tisLeftBarCollapsed: false,\n\tisRightBarCollapsed: false,\n\teditorMode: 'edit',\n};\n\nexport default function reducers(state = initialState, action = {}) {\n\tswitch (action.type) {\n\t\tcase UI_LAYOUT_APP_TOGGLE_LEFT_BAR: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisLeftBarCollapsed: !state.isLeftBarCollapsed\n\t\t\t};\n\t\t}\n\t\tcase UI_LAYOUT_APP_TOGGLE_RIGHT_BAR: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisRightBarCollapsed: !state.isRightBarCollapsed\n\t\t\t};\n\t\t}\n\t\tcase UI_LAYOUT_APP_SET_EDITOR_MODE: {\n\t\t\tconst { mode } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\teditorMode: mode,\n\t\t\t};\n\t\t}\n\t}\n\treturn state;\n}\n","import { combineReducers } from 'redux';\nimport app from './app/_state/reducers';\n\nexport default combineReducers({\n\tapp\n});\n","import _defaultsDeep from 'lodash/defaultsDeep';\n\nimport { createStore as createReduxStore, compose } from 'redux';\n\nimport { loadState, saveState } from './localStorage';\nimport allReducers from './reducers';\nimport seed from './seed';\n\nconst storeEnhancers = [];\n\n/* * /\nimport { applyMiddleware } from 'redux';\nconst logger = () => next => action => {\n\tconsole.log('!!! DISPATCHING ACTION: ', action);\n\tlet result = next(action);\n\treturn result;\n};\nstoreEnhancers.push(applyMiddleware(logger));\n/* */\n\n\nlet store;\n\nexport function createStore() {\n\tif (window.__REDUX_DEVTOOLS_EXTENSION__) {\n\t\tstoreEnhancers.push(window.__REDUX_DEVTOOLS_EXTENSION__({ trace: true }));\n\t}\n\n\tconst persistedState = loadState();\n\tconst initialState = _defaultsDeep(persistedState, seed);\n\n\tstore = createReduxStore(\n\t\tallReducers,\n\t\tinitialState,\n\t\tcompose(...storeEnhancers)\n\t);\n\n\tstore.subscribe(() => {\n\t\tsaveState(store.getState());\n\t});\n}\n\nexport function getStore() {\n\treturn store;\n}\n","import { combineReducers } from 'redux';\nimport layout from './layout/reducers';\n\nexport default combineReducers({\n\tlayout\n});\n","import { combineReducers } from 'redux';\n\nimport db from '../db/reducers';\nimport fileManager from '../fileManager/_state/reducers';\nimport ui from '../ui/reducers';\n\nexport default combineReducers({\n\tdb,\n\tfileManager,\n\tui,\n});\n","import db from '../db/seed';\n\nexport default {\n\tdb,\n};\n","import options from './options/seed';\n\nexport default {\n\toptions\n};\n","export default {\n\trendering: {\n\n\t\tstyle: {\n\t\t\tvalue: 'chordmark',\n\t\t\tdefault: 'chordmark',\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\talignBars: {\n\t\t\tvalue: true,\n\t\t\tdefault: true,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\tautoRepeatChords: {\n\t\t\tvalue: true,\n\t\t\tdefault: true,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\texpandSectionRepeats: {\n\t\t\tvalue: true,\n\t\t\tdefault: true,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\n\t\t/** Layout */\n\n\t\tdocumentSize: {\n\t\t\tvalue: 'a4',\n\t\t\tdefault: 'a4',\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\tdocumentMargins: {\n\t\t\tvalue: 3,\n\t\t\tdefault: 3,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\tcolumnsCount: {\n\t\t\tvalue: 1,\n\t\t\tdefault: 1,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\tcolumnBreakOnParagraph: {\n\t\t\tvalue: true,\n\t\t\tdefault: true,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\n\n\t\t/** Display */\n\n\t\tshowChords: {\n\t\t\tvalue: true,\n\t\t\tdefault: true,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\tinstrument: {\n\t\t\tvalue: 'guitar',\n\t\t\tdefault: 'guitar',\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\tshowStrummingPattern: {\n\t\t\tvalue: true,\n\t\t\tdefault: true,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\n\n\n\t\t/** Customize Chords */\n\n\t\ttransposeValue: {\n\t\t\tvalue: 0,\n\t\t\tdefault: 0,\n\t\t\tresetOnSongChange: true,\n\t\t},\n\t\tsimplifyChords: {\n\t\t\tvalue: false,\n\t\t\tdefault: false,\n\t\t\tresetOnSongChange: true,\n\t\t},\n\t\tcapoPosition: {\n\t\t\tvalue: 0,\n\t\t\tdefault: 0,\n\t\t\tresetOnSongChange: true,\n\t\t},\n\t\tharmonizeAccidentals: {\n\t\t\tvalue: true,\n\t\t\tdefault: true,\n\t\t\tresetOnSongChange: true,\n\t\t},\n\t\tpreferredAccidentals: {\n\t\t\tvalue: 'auto',\n\t\t\tdefault: 'auto',\n\t\t\tresetOnSongChange: true,\n\t\t},\n\t\tuseShortNamings: {\n\t\t\tvalue: true,\n\t\t\tdefault: true,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\n\n\n\t\t/** Format */\n\n\t\tfontSize: {\n\t\t\tvalue: 0,\n\t\t\tdefault: 0,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\tprintFontSize: {\n\t\t\tvalue: 0,\n\t\t\tdefault: 0,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\tfontStyle: {\n\t\t\tvalue: 'roboto',\n\t\t\tdefault: 'roboto',\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\tchordsColor: {\n\t\t\tvalue: 'yellow',\n\t\t\tdefault: 'yellow',\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\thighlightChords: {\n\t\t\tvalue: true,\n\t\t\tdefault: true,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t}\n};\n","import './ErrorBoundary.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\n// source: https://codepen.io/gaearon/pen/wqvxGa?editors=0010\nclass ErrorBoundary extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { error: null, errorInfo: null };\n\t}\n\n\tcomponentDidCatch(error, errorInfo) {\n\t\tthis.setState({\n\t\t\terror: error,\n\t\t\terrorInfo: errorInfo\n\t\t});\n\t}\n\n\trender() {\n\t\tif (this.state.errorInfo) {\n\t\t\treturn (\n\t\t\t\t<div className={'ErrorBoundary'}>\n\t\t\t\t\t<h2>Something went wrong</h2>\n\t\t\t\t\t<details style={{ whiteSpace: 'pre-wrap' }} open={true}>\n\t\t\t\t\t\t{this.state.error && this.state.error.toString()}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t{this.state.errorInfo.componentStack}\n\t\t\t\t\t</details>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn this.props.children;\n\t}\n}\n\nErrorBoundary.propTypes = {\n\tchildren: PropTypes.any\n};\n\nexport default ErrorBoundary;\n","export default function createAction(type, payload) {\n\tif (!type) {\n\t\tthrow new TypeError('Cannot create an action without an action type');\n\t}\n\treturn {\n\t\ttype,\n\t\tpayload\n\t};\n}\n","import {\n\tUI_LAYOUT_APP_TOGGLE_LEFT_BAR,\n\tUI_LAYOUT_APP_TOGGLE_RIGHT_BAR,\n\tUI_LAYOUT_APP_SET_EDITOR_MODE,\n} from './actionsTypes';\n\nimport createAction from '../../../../core/createAction';\n\nexport const toggleLeftBar = () => createAction(UI_LAYOUT_APP_TOGGLE_LEFT_BAR);\n\nexport const toggleRightBar = () => createAction(UI_LAYOUT_APP_TOGGLE_RIGHT_BAR);\n\nexport const setEditorMode = (mode) => createAction(UI_LAYOUT_APP_SET_EDITOR_MODE, { mode });\n\n","export const isLeftBarCollapsed = (state) => state.ui.layout.app.isLeftBarCollapsed;\n\nexport const isRightBarCollapsed = (state) => state.ui.layout.app.isRightBarCollapsed;\n\nexport const getEditorMode = (state) => state.ui.layout.app.editorMode;\n","import './Icon.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Icon(props) {\n\tconst { iconName } = props;\n\n\tconst classList = ['icon', 'material-icons'];\n\n\treturn (\n\t\t<i className={classList.join(' ')}>{iconName}</i>\n\t);\n}\n\nIcon.propTypes = {\n\ticonName: PropTypes.string.isRequired,\n};\n\nexport default React.memo(Icon);\n","import './Logo.scss';\n\nimport React from 'react';\n\nimport Icon from '../../_components/Icon.js';\n\nfunction Logo() {\n\treturn (\n\t\t<div className={'logo'}>\n\t\t\t<div className={'logo-isCollapsed'}>\n\t\t\t\t<Icon iconName={'queue_music'} />\n\t\t\t</div>\n\n\t\t\t<div className={'logo-isExpanded'}>\n\t\t\t\t<span className={'logo-icon'}><Icon iconName={'queue_music'} /></span>Chords Charts Studio\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default React.memo(Logo);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../../_components/Icon.js';\n\nfunction NavEntry(props) {\n\tconst {\n\t\tlabel,\n\t\ticon,\n\t\teditorMode,\n\t\tsetEditorMode,\n\t\tisActive,\n\t} = props;\n\n\tconst classNames = ['mainNavEntry'];\n\n\tif (isActive) {\n\t\tclassNames.push('mainNavEntry-isActive');\n\t}\n\n\tfunction handleClick() {\n\t\tsetEditorMode(editorMode);\n\t}\n\n\treturn (\n\t\t<li\n\t\t\tclassName={classNames.join(' ')}\n\t\t\tonClick={handleClick}\n\t\t>\n\t\t\t<span className={'mainNavEntry-icon'}><Icon iconName={icon} /></span>{label}\n\t\t</li>\n\t);\n}\n\nNavEntry.propTypes = {\n\tlabel: PropTypes.string.isRequired,\n\ticon: PropTypes.string.isRequired,\n\teditorMode: PropTypes.string.isRequired,\n\tsetEditorMode: PropTypes.func.isRequired,\n\tisActive: PropTypes.bool.isRequired,\n};\n\n\nexport default React.memo(NavEntry);\n","import './Nav.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport NavEntry from './NavEntry.js';\n\nfunction Nav(props) {\n\tconst {\n\t\tcurrentMode,\n\t\tallEntries,\n\t\tsetEditorMode,\n\t} = props;\n\n\treturn (\n\t\t<nav className={'mainNav'}>\n\t\t\t<ul className={'mainNav-entries'}>\n\t\t\t\t{\n\t\t\t\t\tallEntries.map((entry, key) =>\n\t\t\t\t\t\t<NavEntry\n\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\tisActive={(entry.editorMode === currentMode)}\n\t\t\t\t\t\t\tsetEditorMode={setEditorMode}\n\t\t\t\t\t\t\t{...entry}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</ul>\n\t\t</nav>\n\t);\n}\n\nNav.propTypes = {\n\tcurrentMode: PropTypes.string.isRequired,\n\tsetEditorMode: PropTypes.func.isRequired,\n\tallEntries: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\tid: PropTypes.string.isRequired,\n\t\t\tlabel: PropTypes.string.isRequired,\n\t\t\ticon: PropTypes.string.isRequired,\n\t\t\teditorMode: PropTypes.string.isRequired,\n\t\t})\n\t),\n};\n\nexport default React.memo(Nav);\n","import './Footer.scss';\n\nimport React from 'react';\n\nfunction Footer() {\n\treturn (\n\t\t<div className={'appFooter'}>\n\t\t\tChords Charts Studio v0.8.0 - ChordMark v0.4.0\n\t\t</div>\n\t);\n}\n\nexport default React.memo(Footer);\n","export default [\n\t{\n\t\tid: 'edit',\n\t\tlabel: 'Edit',\n\t\ticon: 'create',\n\t\teditorMode: 'edit',\n\t},\n\t{\n\t\tid: 'play',\n\t\tlabel: 'Play',\n\t\ticon: 'music_note',\n\t\teditorMode: 'play',\n\t},\n\t{\n\t\tid: 'print',\n\t\tlabel: 'Print / PDF',\n\t\ticon: 'print',\n\t\teditorMode: 'print',\n\t},\n\t{\n\t\tid: 'export',\n\t\tlabel: 'Export',\n\t\ticon: 'save_alt',\n\t\teditorMode: 'export',\n\t},\n];\n","import './App.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Logo from '../../../sideBar/_components/Logo';\nimport Nav from './Nav';\nimport Footer from './Footer';\nimport Icon from '../../../_components/Icon';\n\nimport allNavEntries from '../allNavEntries';\n\nfunction App(props) {\n\tconst {\n\t\tisLeftBarCollapsed,\n\t\tisRightBarCollapsed,\n\t\teditorMode,\n\t\ttoggleLeftBar,\n\t\ttoggleRightBar,\n\t\tsetEditorMode,\n\n\t\tleftBar,\n\t\trightBar,\n\t} = props;\n\n\tconst leftBarClassNames = ['leftBar'];\n\tif (isLeftBarCollapsed) {\n\t\tleftBarClassNames.push('leftBar-isCollapsed');\n\t}\n\n\tconst rightBarClassNames = ['rightBar'];\n\tif (isRightBarCollapsed) {\n\t\trightBarClassNames.push('rightBar-isCollapsed');\n\t}\n\n\treturn (\n\t\t<div className={'appLayout-wrapper'}>\n\t\t\t<section className={leftBarClassNames.join(' ')}>\n\t\t\t\t<div className={'leftBar-content'} onClick={(isLeftBarCollapsed) ? toggleLeftBar : null}>\n\t\t\t\t\t<Logo />\n\t\t\t\t\t{leftBar}\n\t\t\t\t</div>\n\t\t\t\t<div className={'leftBar-collapser'} onClick={toggleLeftBar} data-testid={'leftBar-collapser'}>\n\t\t\t\t\t<span className={'leftBar-collapserIcon'}>\n\t\t\t\t\t\t<Icon iconName={'keyboard_arrow_left'} />\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t\t<section className={'appLayout-main'}>\n\t\t\t\t<section className={'appLayout-header'}>\n\t\t\t\t\t<Nav\n\t\t\t\t\t\tallEntries={allNavEntries}\n\t\t\t\t\t\tcurrentMode={editorMode}\n\t\t\t\t\t\tsetEditorMode={setEditorMode}\n\t\t\t\t\t/>\n\t\t\t\t</section>\n\t\t\t\t<section className={'appLayout-content'}>\n\t\t\t\t\t{props.children}\n\t\t\t\t</section>\n\t\t\t\t<section className={'appLayout-footer'}>\n\t\t\t\t\t<Footer/>\n\t\t\t\t</section>\n\t\t\t</section>\n\t\t\t<section className={rightBarClassNames.join(' ')}>\n\t\t\t\t<div className={'rightBar-collapser'} onClick={toggleRightBar} data-testid={'rightBar-collapser'}>\n\t\t\t\t\t<span className={'rightBar-collapserIcon'}>\n\t\t\t\t\t\t<Icon iconName={'keyboard_arrow_right'} />\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div className={'rightBar-content'} onClick={(isRightBarCollapsed) ? toggleRightBar : null}>\n\t\t\t\t\t{rightBar}\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t</div>\n\t);\n}\n\nApp.propTypes = {\n\tchildren: PropTypes.element,\n\n\tisLeftBarCollapsed: PropTypes.bool,\n\tisRightBarCollapsed: PropTypes.bool,\n\ttoggleLeftBar: PropTypes.func.isRequired,\n\ttoggleRightBar: PropTypes.func.isRequired,\n\n\teditorMode: PropTypes.string.isRequired,\n\tsetEditorMode: PropTypes.func.isRequired,\n\n\tleftBar: PropTypes.element.isRequired,\n\trightBar: PropTypes.element.isRequired,\n};\n\nApp.defaultProps = {\n\tisLeftBarCollapsed: false,\n\tisRightBarCollapsed: false,\n};\n\nexport default App;\n","import { connect } from 'react-redux';\n\nimport { toggleLeftBar, toggleRightBar, setEditorMode} from '../_state/actions';\nimport { isLeftBarCollapsed, isRightBarCollapsed, getEditorMode } from '../_state/selectors';\n\nimport App from '../_components/App';\n\n\nexport default connect(\n\tstate => ({\n\t\tisLeftBarCollapsed: isLeftBarCollapsed(state),\n\t\tisRightBarCollapsed: isRightBarCollapsed(state),\n\t\teditorMode: getEditorMode(state)\n\t}),\n\n\t{\n\t\ttoggleLeftBar,\n\t\ttoggleRightBar,\n\t\tsetEditorMode,\n\t}\n\n)(App);\n\n\n","\nexport const getSelectedId = state => state.fileManager.selected;\n\nexport const getRenamedId = state => state.fileManager.renamed;\n\nexport const getDefaultTitle = state => state.fileManager.defaultTitle;\n","import uuid from 'uuid';\n\nimport createAction from '../../core/createAction';\nimport * as actionTypes from './actionsTypes';\n\n\nexport const createFile = (title) => {\n\tif (!title) {\n\t\tthrow new TypeError('Cannot create a file without title');\n\t}\n\tconst payload = {\n\t\tid: uuid.v4(),\n\t\ttitle,\n\t\tcontent: ''\n\t};\n\treturn createAction(actionTypes.DB_FILES_CREATE, payload);\n};\n\n\nexport const updateFile = (id, { title, content } = {}) => {\n\tif (!id) {\n\t\tthrow new TypeError('Cannot update a file without an id');\n\t}\n\tconst payload = {\n\t\tid,\n\t\ttitle,\n\t\tcontent\n\t};\n\treturn createAction(actionTypes.DB_FILES_UPDATE, payload);\n};\n\n\nexport const deleteFile = (id) => {\n\treturn createAction(actionTypes.DB_FILES_DELETE, { id });\n};\n\n","import _map from 'lodash/map';\nimport _isEqual from 'lodash/isEqual';\nimport _sortBy from 'lodash/sortBy';\n\nimport { createSelectorCreator, defaultMemoize } from 'reselect';\n\n\n// create a \"selector creator\" that uses lodash.isEqual instead of ===\nconst createDeepEqualSelector = createSelectorCreator(\n\tdefaultMemoize,\n\t_isEqual\n);\n\n\n// return value should not change when file content changes\nexport const getAllTitles = createDeepEqualSelector(\n\tstate => _map(state.db.files.allFiles, ({ title, id }) => ({ title, id })),\n\tallFiles => _sortBy(allFiles, o => o.title.toLowerCase())\n);\n\n\nexport const getOne = (state, id) => {\n\treturn state.db.files.allFiles[id];\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../ui/_components/Icon';\n\nfunction FileActionEntry(props) {\n\tconst { icon, text, action } = props;\n\n\treturn (\n\t\t<span className={'fileManagerAction'} onClick={action}>\n\t\t\t<span className={'fileManagerAction-icon'}>\n\t\t\t\t<Icon iconName={icon} /> {text}\n\t\t\t</span>\n\t\t</span>\n\t);\n}\n\nFileActionEntry.propTypes = {\n\ticon: PropTypes.string.isRequired,\n\ttext: PropTypes.string.isRequired,\n\taction: PropTypes.func.isRequired,\n};\n\nexport default React.memo(FileActionEntry);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport FileActionEntry from './FileActionEntry';\n\nfunction FileActions(props) {\n\tconst { createFile, deleteFile, enableRename } = props;\n\n\tconst allActions = [\n\t\t{\n\t\t\ticon: 'add_circle',\n\t\t\ttext: 'New',\n\t\t\taction: createFile\n\t\t},\n\t\t{\n\t\t\ticon: 'create',\n\t\t\ttext: 'Rename',\n\t\t\taction: enableRename\n\t\t},\n\t\t{\n\t\t\ticon: 'delete',\n\t\t\ttext: 'Delete',\n\t\t\taction: deleteFile\n\t\t},\n\t];\n\n\treturn (\n\t\t<div className={'fileManager-actionsList'}>\n\t\t\t{\n\t\t\t\tallActions.map((action, key) =>\n\t\t\t\t\t<FileActionEntry {...action} key={key} />\n\t\t\t\t)\n\t\t\t}\n\t\t</div>\n\t);\n}\n\nFileActions.propTypes = {\n\tcreateFile: PropTypes.func.isRequired,\n\tdeleteFile: PropTypes.func.isRequired,\n\tenableRename: PropTypes.func.isRequired,\n};\n\nexport default React.memo(FileActions);\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nfunction FileEntry(props) {\n\tconst [ title, setTitle ] = useState(props.title);\n\n\tconst { fileId, isSelected, isRenamed, defaultTitle, selectFile, enableRename, updateFile } = props;\n\n\tconst classList = ['fileManagerEntry'];\n\tif (isSelected) {\n\t\tclassList.push('fileManagerEntry-isSelected');\n\t}\n\tif (isRenamed) {\n\t\tclassList.push('fileManagerEntry-isRenamed');\n\t}\n\n\tconst inputRef = React.createRef();\n\n\tuseEffect(() => {\n\t\tif (isRenamed) {\n\t\t\tinputRef.current.focus();\n\t\t}\n\t}, [isRenamed, inputRef]);\n\n\tfunction handleClick() {\n\t\tif (!isSelected) {\n\t\t\tselectFile(fileId);\n\t\t}\n\t}\n\n\tfunction handleDoubleClick(e) {\n\t\tif (!isRenamed) {\n\t\t\tenableRename(fileId);\n\t\t\te.target.select();\n\t\t}\n\t}\n\n\tfunction handleKeyPress(e) {\n\t\tif (isRenamed && e.which === 13) {\n\t\t\te.preventDefault();\n\t\t\twindow.getSelection().removeAllRanges();\n\n\t\t\tconst newTitle = e.target.value;\n\t\t\tsaveTitle(newTitle);\n\t\t}\n\t}\n\n\tfunction handleChange(e) {\n\t\tsetTitle(e.target.value);\n\t}\n\n\tfunction handleFocus(e) {\n\t\tif (isRenamed) {\n\t\t\te.target.select();\n\t\t}\n\t}\n\n\tfunction handleBlur(e) {\n\t\tif (isRenamed) {\n\t\t\tconst newTitle = e.target.value;\n\t\t\tsaveTitle(newTitle);\n\t\t}\n\t}\n\n\tfunction saveTitle(newTitle) {\n\t\tnewTitle = newTitle || defaultTitle;\n\n\t\tupdateFile(fileId, {\n\t\t\ttitle: newTitle\n\t\t});\n\t\tsetTitle(newTitle);\n\n\t\tinputRef.current.scrollLeft = 0;\n\t}\n\n\treturn (\n\t\t<li\n\t\t\tclassName={classList.join(' ')}\n\t\t\tonClick={handleClick}\n\t\t\tonDoubleClick={handleDoubleClick}\n\t\t>\n\t\t\t<input\n\t\t\t\tclassName={'fileManagerEntry-input'}\n\t\t\t\tref={inputRef}\n\t\t\t\ttype={'text'}\n\t\t\t\tvalue={title}\n\t\t\t\treadOnly={(isRenamed) ? null : 'readOnly'}\n\t\t\t\tautoFocus={(isRenamed) ? 'autoFocus' : null}\n\t\t\t\tonChange={handleChange}\n\t\t\t\tonBlur={handleBlur}\n\t\t\t\tonFocus={handleFocus}\n\t\t\t\tonKeyPress={handleKeyPress}\n\t\t\t/>\n\t\t</li>\n\t);\n}\n\nFileEntry.propTypes = {\n\ttitle: PropTypes.string.isRequired,\n\tfileId: PropTypes.string.isRequired,\n\tisSelected: PropTypes.bool.isRequired,\n\tisRenamed: PropTypes.bool.isRequired,\n\tdefaultTitle: PropTypes.string.isRequired,\n\tselectFile: PropTypes.func.isRequired,\n\tenableRename: PropTypes.func.isRequired,\n\tupdateFile: PropTypes.func.isRequired,\n};\n\nexport default FileEntry;\n","import './FileManager.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../ui/_components/Icon';\nimport FileActions from './FileActions';\nimport FileEntry from './FileEntry';\n\nfunction FileManager(props) {\n\tconst {\n\t\tallTitles,\n\t\tselected,\n\t\trenamed,\n\t\tdefaultTitle,\n\n\t\tselectFile,\n\t\tcreateFile,\n\t\tdeleteFile,\n\t\tenableRename,\n\t\tupdateFile,\n\n\t} = props;\n\n\treturn (\n\t\t<div className={'fileManager'}>\n\t\t\t<div className={'fileManager-isCollapsed'}>\n\t\t\t\t<span className={'fileManager-icon'}>\n\t\t\t\t\t<Icon iconName={'file_copy'} />\n\t\t\t\t</span>\n\t\t\t</div>\n\n\t\t\t<div className={'fileManager-isExpanded'}>\n\t\t\t\t<FileActions\n\t\t\t\t\tcreateFile={() => createFile(defaultTitle)}\n\t\t\t\t\tdeleteFile={() => deleteFile(selected)}\n\t\t\t\t\tenableRename={() => enableRename(selected)}\n\t\t\t\t/>\n\t\t\t\t<ul className={'fileManager-entriesList'}>\n\t\t\t\t\t{\n\t\t\t\t\t\tallTitles.map(file =>\n\t\t\t\t\t\t\t<FileEntry\n\t\t\t\t\t\t\t\ttitle={file.title}\n\t\t\t\t\t\t\t\tdefaultTitle={defaultTitle}\n\t\t\t\t\t\t\t\tfileId={file.id}\n\t\t\t\t\t\t\t\tisSelected={selected === file.id}\n\t\t\t\t\t\t\t\tisRenamed={renamed === file.id}\n\t\t\t\t\t\t\t\tselectFile={selectFile}\n\t\t\t\t\t\t\t\tupdateFile={updateFile}\n\t\t\t\t\t\t\t\tenableRename={enableRename}\n\t\t\t\t\t\t\t\tkey={file.id}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nFileManager.propTypes = {\n\tallTitles: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\ttitle: PropTypes.string.isRequired,\n\t\t\tid: PropTypes.string.isRequired,\n\t\t})\n\t).isRequired,\n\tselected: PropTypes.string.isRequired,\n\trenamed: PropTypes.string.isRequired,\n\tdefaultTitle: PropTypes.string.isRequired,\n\n\tselectFile: PropTypes.func.isRequired,\n\tcreateFile: PropTypes.func.isRequired,\n\tdeleteFile: PropTypes.func.isRequired,\n\tenableRename: PropTypes.func.isRequired,\n\tupdateFile: PropTypes.func.isRequired,\n};\n\nexport default FileManager;\n","import { connect } from 'react-redux';\n\nimport { selectFile, enableRename } from '../_state/actions';\nimport { getDefaultTitle, getSelectedId, getRenamedId } from '../_state/selectors';\n\nimport { createFile, updateFile, deleteFile } from '../../db/files/actions';\nimport { getAllTitles } from '../../db/files/selectors';\n\nimport FileManager from '../_components/FileManager';\n\nexport default connect(\n\tstate => ({\n\t\tselected: getSelectedId(state),\n\t\trenamed: getRenamedId(state),\n\t\tdefaultTitle: getDefaultTitle(state),\n\t\tallTitles: getAllTitles(state),\n\t}),\n\n\t{\n\t\tselectFile,\n\t\tcreateFile,\n\t\tdeleteFile,\n\t\tupdateFile,\n\t\tenableRename,\n\t}\n\n)(FileManager);\n","import createAction from '../../core/createAction';\n\nimport * as actionsTypes from './actionsTypes';\n\nexport const selectFile = (id) => createAction(actionsTypes.FILE_MANAGER_SELECT_FILE, { id });\n\nexport const enableRename = (id) => createAction(actionsTypes.FILE_MANAGER_ENABLE_RENAME, { id });\n\n\n\n\n","import _mapValues from 'lodash/mapValues';\n\nexport const getOptionValue = (state, context, key) => {\n\tif (!state.db.options[context] || !state.db.options[context][key]) {\n\t\treturn;\n\t}\n\treturn state.db.options[context][key].value;\n};\n\nexport const getContext = (state, context) => {\n\tif (!state.db.options[context]) {\n\t\treturn;\n\t}\n\treturn _mapValues(state.db.options[context], option => option.value);\n};\n","import domPurify from 'dompurify';\n\nexport default function escapeHTML(unescaped) {\n\treturn domPurify.sanitize(unescaped);\n}\n","import { renderSong as renderSongCm, parseSong } from 'chord-mark';\n\nexport default function renderSong(songTxt, renderOptions) {\n\tconst parsed = parseSong(songTxt);\n\treturn renderSongCm(parsed, renderOptions);\n}\n","import './SongRenderer.scss';\n\nimport _pick from 'lodash/pick';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport escapeHTML from '../../core/escapeHTML';\n\nimport renderSong from '../../core/renderSong';\n\nfunction SongRenderer(props) {\n\tconst {\n\t\tcontent\n\t} = props;\n\n\tconst renderOptions = _pick(props, [\n\t\t'alignBars',\n\t\t'harmonizeAccidentals',\n\t\t'accidentalsType',\n\t\t'transposeValue',\n\t\t'autoRepeatChords',\n\t\t'expandSectionRepeats',\n\t\t'useShortNamings',\n\t\t'simplifyChords',\n\t]);\n\n\treturn (\n\t\t<div className={'songRenderer'}>\n\t\t\t<div dangerouslySetInnerHTML={{ __html: escapeHTML(renderSong(content, renderOptions)) }} />\n\t\t</div>\n\t);\n}\n\nSongRenderer.propTypes = {\n\tcontent: PropTypes.string\n};\n\nSongRenderer.defaultProps = {\n\tcontent: ''\n};\n\nexport default SongRenderer;\n","import { connect } from 'react-redux';\n\nimport { getOptionValue } from '../../db/options/selectors';\n\nimport SongRenderer from '../_components/SongRenderer';\n\nexport default connect(\n\tstate => ({\n\t\taccidentalsType: getOptionValue(state, 'rendering', 'preferredAccidentals'),\n\t\talignBars: getOptionValue(state, 'rendering', 'alignBars'),\n\t\tharmonizeAccidentals: getOptionValue(state, 'rendering', 'harmonizeAccidentals'),\n\t\ttransposeValue: getOptionValue(state, 'rendering', 'transposeValue'),\n\t\tautoRepeatChords: getOptionValue(state, 'rendering', 'autoRepeatChords'),\n\t\texpandSectionRepeats: getOptionValue(state, 'rendering', 'expandSectionRepeats'),\n\t\tuseShortNamings: getOptionValue(state, 'rendering', 'useShortNamings'),\n\t\tsimplifyChords: getOptionValue(state, 'rendering', 'simplifyChords'),\n\t})\n)(SongRenderer);\n","import './EditorPreview.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport SongRenderer from '../../_containers/SongRenderer';\n\nfunction EditorPreview(props) {\n\tconst { selectedFile } = props;\n\n\tconst classNames = ['editorPreview'];\n\n\treturn (\n\t\t<div className={classNames.join(' ')}>\n\t\t\t<SongRenderer content={selectedFile.content} />\n\t\t</div>\n\t);\n}\n\nEditorPreview.propTypes = {\n\tselectedFile: PropTypes.object.isRequired,\n};\n\nexport default EditorPreview;\n","import { connect } from 'react-redux';\n\n//import { getOptionValue } from '../../../db/options/selectors';\n\nimport EditorPreview from '../_components/EditorPreview';\n\nexport default connect(\n\t() => ({})\n)(EditorPreview);\n","import { Schema } from 'prosemirror-model';\nimport { nodes, marks } from 'prosemirror-schema-basic';\n\nconst editorSchema = new Schema({\n\tnodes: nodes,\n\tmarks: marks\n});\n\nexport default editorSchema;","/**\n * Convert a proseMirror state to plain text\n */\nexport default function stateToText(state) {\n\tconst json = state.toJSON();\n\n\treturn json.doc.content\n\t\t.map(paragraph => {\n\t\t\tif (!paragraph.content) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\treturn paragraph.content.reduce((acc, current) => {\n\t\t\t\tacc += current.text;\n\t\t\t\treturn acc;\n\t\t\t}, '');\n\t\t})\n\t\t.join('\\n');\n}\n","import domPurify from 'dompurify';\n\n/**\n * Minimal wrapper around DOMPurify library.\n * Pretty drastic also: anything that is HTML is just simply ignored, including text content of tags.\n *\n * @param {String} dirty\n * @returns {String} clean HTML\n */\nexport default function toSafeHtml(dirty) {\n\tconst config = {\n\t\tALLOWED_TAGS: ['p', '#text'],\n\t\tKEEP_CONTENT: false,\n\t};\n\n\treturn domPurify.sanitize(dirty, config);\n}\n","import './ProsemirrorEditorView.scss';\n\nimport React, { useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { EditorState } from 'prosemirror-state';\nimport { EditorView } from 'prosemirror-view';\nimport { DOMParser as pmDOMParser } from 'prosemirror-model';\n\nimport getPlugins from './getPlugins';\nimport editorSchema from './schema';\n\nimport stateToText from './converters/stateToText';\nimport textToDom from './converters/textToDom';\n\nimport 'prosemirror-view/style/prosemirror.css';\n\n\nfunction createEditorState(editorContent) {\n\treturn EditorState.create({\n\t\tdoc: pmDOMParser.fromSchema(editorSchema).parse(textToDom(editorContent), { preserveWhitespace: 'full' }),\n\t\tplugins: getPlugins()\n\t});\n}\n\nfunction createEditorView(editorState, updateFile, fileId) {\n\treturn new EditorView(null, {\n\t\tstate: editorState,\n\t\tdispatchTransaction: function dispatchTransaction(transaction) {\n\t\t\tconst { state, transactions } = this.state.applyTransaction(transaction);\n\n\t\t\tthis.updateState(state);\n\n\t\t\tif (transactions.some(tr => tr.docChanged)) {\n\t\t\t\tupdateFile(fileId, { content: stateToText(state) });\n\t\t\t}\n\t\t},\n\t});\n}\n\nfunction ProseMirrorEditorView(props) {\n\tconst { selectedFileId, editorContent, updateFile } = props;\n\n\tconst editorView = useRef();\n\tconst editorDom = useRef();\n\tconst previousFileId = usePrevious(selectedFileId);\n\n\t/**\n\t * Editor is recreated on component mount and on file change.\n\t * The later is needed as we need to to re-bind the change handler with the new file id.\n\t */\n\tfunction shouldCreateEditor() {\n\t\treturn selectedFileId && (!editorView.current || (previousFileId !== selectedFileId));\n\t}\n\n\t// Editor has been previously created, but now no file is selected anymore\n\tfunction isEditorOrphan() {\n\t\treturn editorExists() && !selectedFileId;\n\t}\n\n\tfunction editorExists() {\n\t\treturn editorView.current && editorView.current.dom.parentNode;\n\t}\n\n\tfunction destroyEditor() {\n\t\teditorView.current.dom.parentNode.removeChild(editorView.current.dom);\n\t}\n\n\tuseEffect(() => {\n\t\tif (shouldCreateEditor()) {\n\t\t\tif (editorExists()) {\n\t\t\t\tdestroyEditor();\n\t\t\t}\n\n\t\t\tconst editorState = createEditorState(editorContent);\n\t\t\teditorView.current = createEditorView(editorState, updateFile, selectedFileId);\n\t\t\teditorDom.current.appendChild(editorView.current.dom);\n\n\t\t\t// expose editor instance as a component property for unit tests\n\t\t\tProseMirrorEditorView.editorView = editorView.current;\n\n\t\t} else if (isEditorOrphan()) {\n\t\t\tdestroyEditor();\n\t\t}\n\t});\n\n\treturn (\n\t\t<div className={'prosemirrorWrapper'} ref={editorDom} />\n\t);\n}\n\nProseMirrorEditorView.defaultProps = {\n\tselectedFileId: '',\n\teditorContent: '',\n};\n\nProseMirrorEditorView.propTypes = {\n\tselectedFileId: PropTypes.string,\n\teditorContent: PropTypes.string,\n\tupdateFile: PropTypes.func.isRequired,\n};\n\nexport default ProseMirrorEditorView;\n\n\n// @see https://reactjs.org/docs/hooks-faq.html#how-to-get-the-previous-props-or-state\nfunction usePrevious(value) {\n\tconst ref = useRef();\n\tuseEffect(() => {\n\t\tref.current = value;\n\t});\n\treturn ref.current;\n}\n","import escapeHTML from './toSafeHtml';\n\n/**\n * @param {String} text\n * @returns {HTMLElement}\n */\nexport default function textToDom(text) {\n\tconst html = escapeHTML(text)\n\t\t.split('\\n')\n\t\t.map(line => `<p>${line}</p>`)\n\t\t.join('');\n\n\tconst div = document.createElement('div');\n\tdiv.innerHTML = escapeHTML(html);\n\n\treturn div;\n}\n","import { keymap } from 'prosemirror-keymap';\nimport { baseKeymap } from 'prosemirror-commands';\nimport { undo, redo, history as pmHistory } from 'prosemirror-history';\n\nexport default function getPlugins() {\n\treturn [\n\t\tpmHistory(),\n\t\tkeymap({ 'Mod-z': undo, 'Mod-y': redo }),\n\t\tkeymap(baseKeymap),\n\t];\n}\n","import './EditorLayout.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport EditorPreview from '../../../songRenderers/editorPreview/_containers/EditorPreview';\nimport ProseMirrorEditorView from '../prosemirror/ProsemirrorEditorView';\n\nfunction EditorLayout(props) {\n\tconst { selectedFile, updateFile } = props;\n\n\treturn (\n\t\t<div className={'songEditor'}>\n\t\t\t<div className={'songEditor-source'}>\n\t\t\t\t<ProseMirrorEditorView\n\t\t\t\t\teditorContent={selectedFile.content}\n\t\t\t\t\tupdateFile={updateFile}\n\t\t\t\t\tselectedFileId={selectedFile.id}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className={'songEditor-preview'}>\n\t\t\t\t<EditorPreview\n\t\t\t\t\tselectedFile={selectedFile}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nEditorLayout.propTypes = {\n\tselectedFile: PropTypes.object,\n\tupdateFile: PropTypes.func.isRequired,\n};\n\nexport default EditorLayout;\n","import './ExportPreview.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport SongRenderer from '../../_containers/SongRenderer';\n\nfunction ExportPreview(props) {\n\tconst { selectedFile } = props;\n\n\treturn (\n\t\t<div className={'exportPreview exp-SongRenderer'}>\n\t\t\t<SongRenderer content={selectedFile.content} />\n\t\t</div>\n\t);\n}\n\nExportPreview.propTypes = {\n\tselectedFile: PropTypes.object.isRequired,\n};\n\nexport default ExportPreview;\n","import './PlayRenderer.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport SongRenderer from '../../_containers/SongRenderer';\n\nfunction PlayRenderer(props) {\n\tconst { selectedFile, fontSize, chordsColor, highlightChords, columnsCount } = props;\n\n\tconst classNames = ['playRenderer'];\n\tclassNames.push('playRenderer--columns-' + columnsCount);\n\tclassNames.push('cmLine--fontSize' + fontSize);\n\tclassNames.push('cmChordSymbol--chordsColor-' + chordsColor);\n\tif (highlightChords) {\n\t\tclassNames.push('cmChordLine--highlightChords');\n\t}\n\n\n\treturn (\n\t\t<div className={'playRendererWrapper1'}>\n\t\t\t<div className={'playRendererWrapper2'}>\n\t\t\t\t<div className={classNames.join(' ')} data-testid={'playRenderer'}>\n\t\t\t\t\t<SongRenderer content={selectedFile.content} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nPlayRenderer.propTypes = {\n\tselectedFile: PropTypes.object.isRequired,\n\tcolumnsCount: PropTypes.number.isRequired,\n\tfontSize: PropTypes.number.isRequired,\n\tchordsColor: PropTypes.string.isRequired,\n\thighlightChords: PropTypes.bool.isRequired,\n};\n\nexport default PlayRenderer;\n","import { connect } from 'react-redux';\n\nimport { getOptionValue } from '../../../db/options/selectors';\n\nimport PlayRenderer from '../_components/PlayRenderer';\n\nexport default connect(\n\tstate => ({\n\t\tchordsColor: getOptionValue(state, 'rendering', 'chordsColor'),\n\t\thighlightChords: getOptionValue(state, 'rendering', 'highlightChords'),\n\t\tfontSize: getOptionValue(state, 'rendering', 'fontSize'),\n\t\tcolumnsCount: getOptionValue(state, 'rendering', 'columnsCount'),\n\t})\n)(PlayRenderer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport escapeHTML from '../../../core/escapeHTML';\n\nfunction Page(props) {\n\tconst { pageHeader, allColumnsLines, documentSize, documentMargins, printFontSize } = props;\n\n\tconst allSectionsRendered = allColumnsLines.map((columnLines, index) => {\n\t\tconst columnLinesTxt = columnLines.join('\\n');\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tkey={index}\n\t\t\t\tclassName={'printPreview-pageColumn'}\n\t\t\t\tdata-testid={'printPreview-pageColumn'}\n\t\t\t\tdangerouslySetInnerHTML={{ __html: escapeHTML(columnLinesTxt) }}\n\t\t\t/>\n\t\t);\n\t});\n\n\tconst pageClasses = ['printPreview-page'];\n\tpageClasses.push('printPreview-page--' + documentSize);\n\tpageClasses.push('printPreview-page--font' + printFontSize);\n\n\tconst pageContentWrapperClasses = ['printPreview-pageContentWrapper'];\n\tpageContentWrapperClasses.push('printPreview-pageContentWrapper--padding' + documentMargins);\n\n\treturn (\n\t\t<div\n\t\t\tclassName={pageClasses.join(' ')}\n\t\t\tdata-testid={'printPreview-page'}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={pageContentWrapperClasses.join(' ')}\n\t\t\t\tdata-testid={'printPreview-pageContentWrapper'}\n\t\t\t>\n\t\t\t\t<div className={'printPreview-pageContent'}>\n\t\t\t\t\t{pageHeader}\n\t\t\t\t\t<div className={'printPreview-pageColumnWrapper'}>\n\t\t\t\t\t\t{allSectionsRendered}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\nPage.defaultProps = {\n\tallColumnsLines: [],\n};\nPage.propTypes = {\n\tpageHeader: PropTypes.element,\n\tallColumnsLines: PropTypes.arrayOf(\n\t\tPropTypes.arrayOf(\n\t\t\tPropTypes.string\n\t\t)\n\t),\n\tdocumentSize: PropTypes.string.isRequired,\n\tdocumentMargins: PropTypes.number.isRequired,\n\tprintFontSize: PropTypes.number.isRequired,\n};\n\nexport default React.memo(Page);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction PageHeader(props) {\n\tconst { title } = props;\n\n\treturn (\n\t\t<div className={'printPreview-pageHeader'}>\n\t\t\t{title}\n\t\t</div>\n\t);\n}\nPageHeader.defaultProps = {\n\tallColumnsLines: [],\n};\nPageHeader.propTypes = {\n\ttitle: PropTypes.string.isRequired,\n};\n\nexport default React.memo(PageHeader);\n","const cssClasses = {\n\temptyLine: 'cmEmptyLine',\n\tchordLine: 'cmChordLine',\n\ttextLine: 'cmTextLine',\n};\n\n\n/**\n * @param {Object[]} allLinesWithHeight\n * @param {String} allLinesWithHeight.content\n * @param {Number} allLinesWithHeight.height\n * @param {Number} columnsCount\n * @param {Number} firstPageHeight\n * @param {Number} normalPageHeight\n * @param {Boolean} columnBreakOnParagraph\n * @param {Boolean} noEmptyLinesOnColumnStart\n * @param {Boolean} noOrphanTextLine\n * @returns {Array} array of pages, as array of columns\n */\nexport default function mapLinesToColumns(allLinesWithHeight, {\n\tcolumnsCount,\n\tfirstPageHeight,\n\tnormalPageHeight,\n\tcolumnBreakOnParagraph,\n\tnoEmptyLinesOnColumnStart = true,\n\tnoOrphanTextLine = true,\n}) {\n\tconst layout = layoutFactory({\n\t\tcolumnsCount,\n\t\tfirstPageHeight,\n\t\tnormalPageHeight,\n\t\tnoEmptyLinesOnColumnStart,\n\t});\n\n\tlet buffer = [];\n\tlet bufferHeight = 0;\n\n\tconst pageHeight = firstPageHeight || normalPageHeight;\n\n\tif (pageHeight > 0) {\n\t\tallLinesWithHeight.forEach((line, lineIndex) => {\n\n\t\t\tif (shouldRenderLine(layout, line, buffer, noEmptyLinesOnColumnStart)) {\n\t\t\t\tbuffer.push(line);\n\t\t\t\tbufferHeight += line.height;\n\t\t\t}\n\n\t\t\tif (buffer.length > 0 && isBreakable(\n\t\t\t\tline,\n\t\t\t\tallLinesWithHeight[lineIndex + 1],\n\t\t\t\t{ noOrphanTextLine, columnBreakOnParagraph }\n\t\t\t)) {\n\t\t\t\tif (layout.fitsOnCurrentColumn(bufferHeight)) {\n\t\t\t\t\tlayout.insert(buffer);\n\n\t\t\t\t} else if (layout.fitsOnNextColumn(bufferHeight)) {\n\t\t\t\t\tlayout.insertOnNextColumn(buffer);\n\n\t\t\t\t} else {\n\t\t\t\t\tlayout.insert(buffer);\n\t\t\t\t}\n\t\t\t\tbuffer = [];\n\t\t\t\tbufferHeight = 0;\n\t\t\t}\n\t\t});\n\t}\n\treturn layout.get();\n}\n\n/**\n * Try to spot the case where the line is empty and would be rendered as the first line\n * of the next column, which we may want to avoid\n */\nfunction shouldRenderLine(layout, line, buffer, noEmptyLinesOnColumnStart) {\n\treturn !(\n\t\tisEmptyLine(line)\n\t\t&& !layout.fitsOnCurrentColumn(line.height)\n\t\t&& buffer.length === 0\n\t\t&& noEmptyLinesOnColumnStart === true\n\t);\n}\n\nfunction isBreakable(currentLine, nextLine, { noOrphanTextLine, columnBreakOnParagraph }) {\n\tif (isEmptyLine(currentLine) || !nextLine) {\n\t\treturn true;\n\t}\n\n\tconst wouldProduceOrphanTextLine = isChordLine(currentLine) && isTextLine(nextLine);\n\tif (noOrphanTextLine === true && wouldProduceOrphanTextLine) {\n\t\treturn false;\n\t}\n\n\tconst isEndOfParagraph = isEmptyLine(nextLine);\n\tif (columnBreakOnParagraph === true && !isEndOfParagraph) {\n\t\treturn false;\n\t}\n\treturn true;\n}\n\nfunction isEmptyLine(line) {\n\treturn hasClass(line.content, cssClasses.emptyLine);\n}\n\nfunction isChordLine(line) {\n\treturn hasClass(line.content, cssClasses.chordLine);\n}\n\nfunction isTextLine(line) {\n\treturn hasClass(line.content, cssClasses.textLine);\n}\n\nfunction hasClass(line, className) {\n\treturn line.indexOf(className) > -1;\n}\n\n\nfunction layoutFactory({ firstPageHeight, normalPageHeight, columnsCount }) {\n\tconst allPagesColumns = [];\n\n\tlet pageIndex = 0;\n\tlet columnIndex = 0;\n\tlet maxColumnHeight = getMaxColumnHeight();\n\tlet currentColumnHeight = 0;\n\n\tallPagesColumns[pageIndex] = [];\n\tallPagesColumns[pageIndex][columnIndex] = [];\n\n\tfunction flushBuffer(buffer) {\n\t\tbuffer.forEach(line => {\n\t\t\tif (shouldChangeColumn(currentColumnHeight + line.height)) {\n\t\t\t\tchangeColumn();\n\t\t\t}\n\t\t\tallPagesColumns[pageIndex][columnIndex].push(line.content);\n\t\t\tcurrentColumnHeight += line.height;\n\t\t});\n\t}\n\n\tfunction getMaxColumnHeight() {\n\t\treturn (pageIndex === 0 && firstPageHeight) ? firstPageHeight : normalPageHeight;\n\t}\n\n\tfunction shouldChangeColumn(nextHeight) {\n\t\treturn nextHeight > maxColumnHeight;\n\t}\n\n\tfunction changeColumn() {\n\t\tif (shouldChangePage()) {\n\t\t\tpageIndex++;\n\t\t\tallPagesColumns[pageIndex] = [];\n\t\t\tcolumnIndex = 0;\n\t\t} else {\n\t\t\tcolumnIndex++;\n\t\t}\n\t\tallPagesColumns[pageIndex][columnIndex] = [];\n\t\tcurrentColumnHeight = 0;\n\t\tmaxColumnHeight = getMaxColumnHeight();\n\t}\n\n\tfunction shouldChangePage() {\n\t\treturn columnIndex === (columnsCount - 1);\n\t}\n\n\treturn {\n\t\tinsert(buffer) {\n\t\t\tflushBuffer(buffer);\n\t\t},\n\n\t\tinsertOnNextColumn(buffer) {\n\t\t\tchangeColumn();\n\t\t\tflushBuffer(buffer);\n\t\t},\n\n\t\tfitsOnCurrentColumn(bufferHeight) {\n\t\t\treturn (currentColumnHeight + bufferHeight) <= maxColumnHeight;\n\t\t},\n\n\t\tfitsOnNextColumn(bufferHeight) {\n\t\t\tconst nextColumnHeight = (pageIndex === 0 && columnIndex < columnsCount && firstPageHeight)\n\t\t\t\t? firstPageHeight\n\t\t\t\t: normalPageHeight;\n\t\t\treturn bufferHeight <= nextColumnHeight;\n\t\t},\n\n\t\tget() {\n\t\t\treturn allPagesColumns;\n\t\t},\n\t};\n}\n\n","import './getDimensionsFromDom.scss';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nexport default function getDimensionsFromDom(component, measuringFn) {\n\tconst container = document.createElement('div');\n\tcontainer.classList.add('measuring-node');\n\tdocument.body.appendChild(container);\n\n\treturn new Promise(resolve => {\n\t\tReactDOM.render(<div>{component}</div>, container, () => {\n\n\t\t\tconst measure = measuringFn(container);\n\n\t\t\tReactDOM.unmountComponentAtNode(container);\n\t\t\tcontainer.parentNode.removeChild(container);\n\n\t\t\tresolve(measure);\n\t\t});\n\t});\n}\n\n","export default function padColumns(columnCount, allColumns = []) {\n\tfor (let i = (allColumns.length || 0); i < columnCount; i++) {\n\t\tallColumns.push([]);\n\t}\n\treturn allColumns;\n}\n","export function getOffsetHeight(element) {\n\treturn element.offsetHeight;\n}\n\nexport function getClientHeight(element) {\n\treturn element.clientHeight;\n}\n","import React from 'react';\n\nimport getDimensionsFromDom from './getDimensionsFromDom';\nimport padColumns from './padColumns';\nimport { getOffsetHeight } from './element';\n\nimport Page from '../_components/Page';\n\nconst cssSelectors = {\n\tline: '.cmLine',\n};\n\nexport default async function getAllLinesHeight(allLines, {\n\tcolumnsCount,\n\tdocumentSize,\n\tdocumentMargins,\n\tprintFontSize\n}) {\n\tconst component = <div className={'printPreview'}>\n\t\t<Page\n\t\t\tallColumnsLines={padColumns(columnsCount, [allLines])}\n\t\t\tcolumnsCount={columnsCount}\n\t\t\tdocumentSize={documentSize}\n\t\t\tdocumentMargins={documentMargins}\n\t\t\tprintFontSize={printFontSize}\n\t\t/>\n\t</div>;\n\n\tconst measuringFn = (container) => {\n\t\tconst allLinesHeight = [];\n\t\tcontainer.querySelectorAll(cssSelectors.line).forEach(line => {\n\t\t\tallLinesHeight.push(getOffsetHeight(line));\n\t\t});\n\t\treturn allLinesHeight;\n\t};\n\n\treturn await getDimensionsFromDom(component, measuringFn);\n}\n","import React from 'react';\n\nimport getDimensionsFromDom from './getDimensionsFromDom';\nimport padColumns from './padColumns';\nimport { getClientHeight } from './element';\n\nimport Page from '../_components/Page';\nimport PageHeader from '../_components/PageHeader';\n\nexport default async function getAllLinesHeight(title, {\n\tcolumnsCount,\n\tdocumentSize,\n\tdocumentMargins,\n\tprintFontSize\n}) {\n\tconst component = <Page\n\t\tpageHeader={<PageHeader title={title} />}\n\t\tallColumnsLines={padColumns(columnsCount)}\n\t\tdocumentSize={documentSize}\n\t\tdocumentMargins={documentMargins}\n\t\tprintFontSize={printFontSize}\n\t/>;\n\n\tconst measuringFn = (container) => {\n\t\tconst pageContent = container.querySelector('.printPreview-pageContent');\n\t\tconst pageColumnWrapper = container.querySelector('.printPreview-pageColumnWrapper');\n\t\treturn {\n\t\t\tfirstPageHeight: getClientHeight(pageColumnWrapper),\n\t\t\tnormalPageHeight: getClientHeight(pageContent),\n\t\t};\n\t};\n\n\treturn await getDimensionsFromDom(component, measuringFn);\n}\n","import React, { useState, useLayoutEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Page from './Page';\nimport PageHeader from './PageHeader';\n\nimport mapLinesToColumns from '../helpers/mapLinesToColumns';\nimport getAllLinesHeight from '../helpers/getAllLinesHeight';\nimport getPagesHeight from '../helpers/getPagesHeight';\nimport padColumns from '../helpers/padColumns';\n\n\nfunction AllPages(props) {\n\tconst [ allPagesColumns, setAllPagesColumns ] = useState([]);\n\n\tconst {\n\t\ttitle,\n\t\tallLines,\n\t\tcolumnsCount,\n\t\tcolumnBreakOnParagraph,\n\t\tdocumentSize,\n\t\tdocumentMargins,\n\t\tprintFontSize,\n\t} = props;\n\n\tuseLayoutEffect(() => {\n\t\tconst getDimensions = async () => {\n\t\t\tconst pageOptions = {\n\t\t\t\tcolumnsCount,\n\t\t\t\tdocumentSize,\n\t\t\t\tdocumentMargins,\n\t\t\t\tprintFontSize\n\t\t\t};\n\n\t\t\tconst allLinesHeight = await getAllLinesHeight(allLines, pageOptions);\n\n\t\t\tconst { normalPageHeight, firstPageHeight } = await getPagesHeight(title, pageOptions);\n\n\t\t\tconst allLinesWithHeight = allLines.map((line, index) => ({\n\t\t\t\tcontent: line,\n\t\t\t\theight: allLinesHeight[index]\n\t\t\t}));\n\n\t\t\tconst mapped = mapLinesToColumns(allLinesWithHeight, {\n\t\t\t\tcolumnsCount,\n\t\t\t\tcolumnBreakOnParagraph,\n\t\t\t\tnormalPageHeight,\n\t\t\t\tfirstPageHeight,\n\t\t\t});\n\n\t\t\tsetAllPagesColumns(mapped);\n\t\t};\n\t\tgetDimensions();\n\t}, [\n\t\tallLines,\n\t\ttitle,\n\t\tcolumnsCount,\n\t\tcolumnBreakOnParagraph,\n\t\tdocumentSize,\n\t\tdocumentMargins,\n\t\tprintFontSize,\n\t]);\n\n\tconst allPagesRendered = allPagesColumns.map((pageColumns, index) => {\n\t\treturn <Page\n\t\t\tkey={index}\n\t\t\tpageHeader={(index === 0) ? <PageHeader title={title} /> : null}\n\t\t\tallColumnsLines={padColumns(columnsCount, pageColumns)}\n\t\t\tdocumentSize={documentSize}\n\t\t\tdocumentMargins={documentMargins}\n\t\t\tprintFontSize={printFontSize}\n\t\t/>;\n\t});\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t{allPagesRendered}\n\t\t</React.Fragment>\n\t);\n}\n\nAllPages.propTypes = {\n\ttitle: PropTypes.string.isRequired,\n\tallLines: PropTypes.arrayOf(PropTypes.string).isRequired,\n\tcolumnsCount: PropTypes.number.isRequired,\n\tcolumnBreakOnParagraph: PropTypes.bool.isRequired,\n\tdocumentSize: PropTypes.string.isRequired,\n\tdocumentMargins: PropTypes.number.isRequired,\n\tprintFontSize: PropTypes.number.isRequired,\n};\n\nexport default AllPages;\n","import './PrintPreview.scss';\n\nimport _pick from 'lodash/pick';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport renderSong from '../../../core/renderSong';\nimport AllPages from './AllPages';\n\n\nfunction PrintPreview(props) {\n\tconst { selectedFile, highlightChords } = props;\n\n\tconst renderOptions = _pick(props, [\n\t\t'alignBars',\n\t\t'harmonizeAccidentals',\n\t\t'accidentalsType',\n\t\t'transposeValue',\n\t\t'autoRepeatChords',\n\t\t'expandSectionRepeats',\n\t\t'useShortNamings',\n\t\t'simplifyChords',\n\t]);\n\n\tconst allLines = renderSong(selectedFile.content || '', renderOptions).split('\\n');\n\n\tconst classNames = ['printPreview'];\n\tif (highlightChords) {\n\t\tclassNames.push('cmChordLine--highlightChords');\n\t}\n\n\treturn (\n\t\t<div className={classNames.join(' ')} data-testid={'printPreview'}>\n\t\t\t<AllPages\n\t\t\t\ttitle={selectedFile.title}\n\t\t\t\tallLines={allLines}\n\t\t\t\tcolumnsCount={props.columnsCount}\n\t\t\t\tcolumnBreakOnParagraph={props.columnBreakOnParagraph}\n\t\t\t\tdocumentSize={props.documentSize}\n\t\t\t\tdocumentMargins={props.documentMargins}\n\t\t\t\tprintFontSize={props.printFontSize}\n\t\t\t/>\n\t\t</div>\n\t);\n}\nPrintPreview.propTypes = {\n\tselectedFile: PropTypes.object.isRequired,\n\tcolumnsCount: PropTypes.number.isRequired,\n\tcolumnBreakOnParagraph: PropTypes.bool.isRequired,\n\tdocumentSize: PropTypes.string.isRequired,\n\tdocumentMargins: PropTypes.number.isRequired,\n\tprintFontSize: PropTypes.number.isRequired,\n\thighlightChords: PropTypes.bool.isRequired,\n};\n\nexport default PrintPreview;\n\n","import { connect } from 'react-redux';\n\nimport { getOptionValue } from '../../../db/options/selectors';\n\nimport PrintPreview from '../_components/PrintPreview';\n\nexport default connect(\n\tstate => ({\n\t\tcolumnsCount: getOptionValue(state, 'rendering', 'columnsCount'),\n\t\tcolumnBreakOnParagraph: getOptionValue(state, 'rendering', 'columnBreakOnParagraph'),\n\t\tdocumentSize: getOptionValue(state, 'rendering', 'documentSize'),\n\t\tdocumentMargins: getOptionValue(state, 'rendering', 'documentMargins'),\n\t\taccidentalsType: getOptionValue(state, 'rendering', 'preferredAccidentals'),\n\t\talignBars: getOptionValue(state, 'rendering', 'alignBars'),\n\t\tharmonizeAccidentals: getOptionValue(state, 'rendering', 'harmonizeAccidentals'),\n\t\ttransposeValue: getOptionValue(state, 'rendering', 'transposeValue'),\n\t\tprintFontSize: getOptionValue(state, 'rendering', 'printFontSize'),\n\t\thighlightChords: getOptionValue(state, 'rendering', 'highlightChords'),\n\t\tautoRepeatChords: getOptionValue(state, 'rendering', 'autoRepeatChords'),\n\t\texpandSectionRepeats: getOptionValue(state, 'rendering', 'expandSectionRepeats'),\n\t\tuseShortNamings: getOptionValue(state, 'rendering', 'useShortNamings'),\n\t\tsimplifyChords: getOptionValue(state, 'rendering', 'simplifyChords'),\n\t})\n)(PrintPreview);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport EditorLayout from '../songEditor/_components/EditorLayout';\nimport ExportPreview from '../../songRenderers/exportPreview/_components/ExportPreview';\nimport PlayRenderer from '../../songRenderers/playRenderer/_containers/PlayRenderer';\nimport PrintPreview from '../../songRenderers/printPreview/_containers/PrintPreview';\n\nfunction Editor(props) {\n\tconst { editorMode } = props;\n\n\tswitch (editorMode) {\n\t\tcase 'edit': return <EditorLayout {...props} />;\n\t\tcase 'play': return <PlayRenderer {...props} />;\n\t\tcase 'print': return <PrintPreview {...props} />;\n\t\tcase 'export': return <ExportPreview {...props} />;\n\t}\n}\n\nEditor.propTypes = {\n\teditorMode: PropTypes.string.isRequired,\n};\n\nexport default Editor;\n","import { connect } from 'react-redux';\n\nimport { getSelectedId } from '../../fileManager/_state/selectors';\nimport { getEditorMode } from '../../ui/layout/app/_state/selectors';\n\nimport { getOne } from '../../db/files/selectors';\nimport { updateFile } from '../../db/files/actions';\n\nimport Editor from '../_components/Editor';\n\nexport default connect(\n\tstate => ({\n\t\tselectedFile: getOne(state, getSelectedId(state)) || {},\n\t\teditorMode: getEditorMode(state),\n\t}),\n\n\t{\n\t\tupdateFile\n\t}\n\n)(Editor);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction OptionsPanel(props) {\n\tconst {\n\t\tid,\n\t\tallWidgets,\n\t\tnonInteractableWidgets,\n\t\thiddenWidgets,\n\t\tsetOption,\n\t\tgetEntryComponent,\n\t} = props;\n\n\tconst classNames = [\n\t\t'optionsPanel',\n\t\t'optionsPanel-' + id\n\t];\n\n\tlet widget, groupWidget;\n\n\tlet WidgetComponent, GroupComponent;\n\tlet isGroupInteractable, isGroupWidgetInteractable;\n\n\tlet renderedGroupWidgets;\n\n\tconst renderedWidgets = allWidgets.widgetsOrder\n\t\t.filter(widgetId => {\n\t\t\treturn !(hiddenWidgets.includes(widgetId));\n\t\t})\n\t\t.map(widgetId => {\n\t\t\twidget = allWidgets.allWidgets[widgetId];\n\n\t\t\tif (widget.type === 'optionsGroup') {\n\t\t\t\trenderedGroupWidgets = widget.groupWidgetsOrder\n\t\t\t\t\t.filter(groupWidgetId => {\n\t\t\t\t\t\treturn !(hiddenWidgets.includes(groupWidgetId));\n\t\t\t\t\t})\n\t\t\t\t\t.map(groupWidgetId => {\n\t\t\t\t\t\tgroupWidget = widget.allGroupWidgets[groupWidgetId];\n\n\t\t\t\t\t\tisGroupWidgetInteractable = !(nonInteractableWidgets.includes(widgetId)) && !(nonInteractableWidgets.includes(groupWidgetId));\n\n\t\t\t\t\t\treturn renderWidget(\n\t\t\t\t\t\t\tgroupWidgetId,\n\t\t\t\t\t\t\tgroupWidget,\n\t\t\t\t\t\t\tisGroupWidgetInteractable\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\n\t\t\t\tGroupComponent = getEntryComponent(widget.type);\n\t\t\t\tisGroupInteractable = !(nonInteractableWidgets.includes(widgetId));\n\n\t\t\t\treturn (\n\t\t\t\t\t<GroupComponent\n\t\t\t\t\t\tkey={widgetId}\n\t\t\t\t\t\tisInteractable={isGroupInteractable}\n\t\t\t\t\t\tlabel={widget.label}\n\t\t\t\t\t\ticon={widget.icon}\n\t\t\t\t\t>\n\t\t\t\t\t\t{renderedGroupWidgets}\n\t\t\t\t\t</GroupComponent>\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\treturn renderWidget(\n\t\t\t\t\twidgetId,\n\t\t\t\t\twidget,\n\t\t\t\t\t!(nonInteractableWidgets.includes(widgetId))\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\n\tfunction renderWidget(widgetId, localWidget, isInteractable) {\n\t\tWidgetComponent = getEntryComponent(localWidget.type);\n\n\t\treturn (\n\t\t\t<WidgetComponent\n\t\t\t\tkey={widgetId}\n\t\t\t\tisInteractable={isInteractable}\n\n\t\t\t\toptionContext={localWidget.option.context}\n\t\t\t\toptionKey={localWidget.option.key}\n\t\t\t\toptionValue={props[localWidget.option.key]}\n\t\t\t\tsetOption={setOption}\n\n\t\t\t\tlabel={localWidget.label}\n\t\t\t\t{...localWidget.typeOptions}\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className={classNames.join(' ')}>\n\t\t\t{renderedWidgets}\n\t\t</div>\n\t);\n}\n\nOptionsPanel.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tallWidgets: PropTypes.object.isRequired,\n\tnonInteractableWidgets: PropTypes.arrayOf(PropTypes.string).isRequired,\n\thiddenWidgets: PropTypes.arrayOf(PropTypes.string).isRequired,\n\tsetOption: PropTypes.func.isRequired,\n\tgetEntryComponent: PropTypes.func.isRequired,\n};\n\nexport default OptionsPanel;\n","import './OptionsGroup.scss';\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../../_components/Icon';\n\nfunction OptionsGroup(props) {\n\tconst [ isOpened, setIsOpened ] = useState(props.isOpened);\n\n\tconst {\n\t\tisInteractable,\n\t\ticon,\n\t\tlabel\n\t} = props;\n\n\tconst classNames = ['sb-optionsGroup'];\n\tif (!shouldBeInteractable()) {\n\t\tclassNames.push('sb-optionsGroup-isNotInteractable');\n\t}\n\n\tif (shouldBeClosed()) {\n\t\tsetIsOpened(false);\n\t}\n\n\tfunction shouldBeInteractable() {\n\t\treturn isInteractable && props.children && props.children.length > 0;\n\t}\n\n\tfunction shouldBeClosed() {\n\t\treturn isOpened && (!props.children || props.children.length === 0);\n\t}\n\n\tfunction handleClick() {\n\t\tsetIsOpened(!isOpened);\n\t}\n\n\treturn (\n\t\t<div className={classNames.join(' ')}>\n\t\t\t<div\n\t\t\t\tclassName={'sb-optionsGroup-title'}\n\t\t\t\tonClick={(shouldBeInteractable()) ? handleClick : null}\n\t\t\t>\n\t\t\t\t<div className={'sb-optionsGroup-label'}>\n\t\t\t\t\t<span className={'sb-optionsGroup-iconTitle'}><Icon iconName={icon} /></span> {label}\n\t\t\t\t</div>\n\t\t\t\t<div className={'sb-optionsGroup-toggle'}>\n\t\t\t\t\t<span className={'sb-optionsGroup-iconToggle'}>\n\t\t\t\t\t\t<Icon iconName={(isOpened) ? 'unfold_less' : 'unfold_more' } />\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className={'sb-optionsGroup-content'}>\n\t\t\t\t{isOpened && props.children}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nOptionsGroup.propTypes = {\n\tisOpened: PropTypes.bool,\n\tisInteractable: PropTypes.bool.isRequired,\n\ticon: PropTypes.string.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\tchildren: PropTypes.arrayOf(PropTypes.element),\n};\n\nOptionsGroup.defaultProps = {\n\tisOpened: true,\n};\n\nexport default OptionsGroup;\n","import './Select.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../../_components/Icon';\n\nfunction SelectChoice(props) {\n\tconst {\n\t\tisSelected,\n\t\tlabel,\n\t\tonClick\n\t} = props;\n\n\tlet checkIcon;\n\tconst classNames = ['sb-optionSelectChoice'];\n\n\tif (isSelected) {\n\t\tclassNames.push('sb-optionSelectChoice-isSelected');\n\t\tcheckIcon = (\n\t\t\t<span className={'sb-optionSelectChoice-checkIcon'}>\n\t\t\t\t<Icon iconName={'check'} />\n\t\t\t</span>\n\t\t);\n\t}\n\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames.join(' ')}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t<div className={'sb-optionSelectChoice-check'}>\n\t\t\t\t{isSelected && checkIcon}\n\t\t\t</div>\n\t\t\t<div className={'sb-optionSelectChoice-label'}>\n\t\t\t\t{label}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nSelectChoice.propTypes = {\n\tisSelected: PropTypes.bool.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\tonClick: PropTypes.func.isRequired,\n};\n\nexport default React.memo(SelectChoice);\n\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport SelectChoice from './SelectChoice';\n\nimport Icon from '../../../_components/Icon';\n\nfunction Select(props) {\n\tconst [ isOpen, setIsOpen ] = useState(false);\n\n\tconst {\n\t\tisInteractable,\n\t\tlabel,\n\t\tallChoices,\n\t\toptionContext,\n\t\toptionKey,\n\t\toptionValue,\n\t\tsetOption\n\t} = props;\n\n\tconst classNames = ['sb-optionSelect'];\n\tif (!isInteractable) {\n\t\tclassNames.push('sb-optionSelect-isNotInteractable');\n\t}\n\n\tconst iconName = (isOpen) ? 'keyboard_arrow_down' : 'keyboard_arrow_right';\n\n\tfunction toggleChoices() {\n\t\tsetIsOpen(!isOpen);\n\t}\n\n\tconst renderedChoices = (!isOpen)\n\t\t? null\n\t\t: (\n\t\t\t<div className={'sb-optionSelect-choices'}>\n\t\t\t\t{allChoices.map(choice =>\n\t\t\t\t\t<SelectChoice\n\t\t\t\t\t\tkey={choice.value}\n\t\t\t\t\t\tlabel={choice.label}\n\t\t\t\t\t\tisSelected={(optionValue === choice.value)}\n\t\t\t\t\t\tonClick={() => setOption(optionContext, optionKey, choice.value)}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\n\n\treturn (\n\t\t<div className={classNames.join(' ')}>\n\t\t\t<div\n\t\t\t\tclassName={'sb-optionSelect-title'}\n\t\t\t\tonClick={(isInteractable) ? toggleChoices : null}\n\t\t\t>\n\t\t\t\t<div className={'sb-optionSelect-desc'}>{label}</div>\n\t\t\t\t<div className={'sb-optionSelect-toggle'}>\n\t\t\t\t\t<span className={'sb-optionSelect-icon'}>\n\t\t\t\t\t\t<Icon iconName={iconName} />\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{renderedChoices}\n\t\t</div>\n\t);\n}\n\nSelect.propTypes = {\n\tisInteractable: PropTypes.bool.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\tallChoices: PropTypes.array.isRequired,\n\toptionContext: PropTypes.string.isRequired,\n\toptionKey: PropTypes.string.isRequired,\n\toptionValue: PropTypes.string.isRequired,\n\tsetOption: PropTypes.func.isRequired\n};\n\nexport default Select;\n","import './Slider.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Slider(props) {\n\tconst {\n\t\tisInteractable,\n\t\tlabel,\n\t\tmin,\n\t\tmax,\n\t\tshowPlusSymbol,\n\t\toptionContext,\n\t\toptionKey,\n\t\toptionValue,\n\t\tsetOption\n\t} = props;\n\n\tconst classNames = ['sb-optionSlider'];\n\tif (!isInteractable) {\n\t\tclassNames.push('sb-optionSlider-isNotInteractable');\n\t}\n\n\tfunction handleChange(e) {\n\t\tsetOption(\n\t\t\toptionContext,\n\t\t\toptionKey,\n\t\t\tNumber.parseInt(e.target.value)\n\t\t);\n\t}\n\n\tconst valueDisplay = (optionValue > 0 && showPlusSymbol)\n\t\t? '+' + optionValue\n\t\t: optionValue;\n\n\treturn (\n\t\t<div className={classNames.join(' ')}>\n\t\t\t<div className={'sb-optionSlider-desc'}>{label}</div>\n\t\t\t<div className={'sb-optionSlider-value'}>{valueDisplay}</div>\n\t\t\t<div className={'sb-optionSlider-range'}>\n\t\t\t\t<input\n\t\t\t\t\tmin={min}\n\t\t\t\t\tmax={max}\n\t\t\t\t\tvalue={optionValue}\n\t\t\t\t\ttype={'range'}\n\t\t\t\t\tonChange={(isInteractable) ? handleChange : null}\n\t\t\t\t\tdisabled={!isInteractable}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nSlider.propTypes = {\n\tisInteractable: PropTypes.bool.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\tmin: PropTypes.number.isRequired,\n\tmax: PropTypes.number.isRequired,\n\tshowPlusSymbol: PropTypes.bool,\n\toptionContext: PropTypes.string.isRequired,\n\toptionKey: PropTypes.string.isRequired,\n\toptionValue: PropTypes.number.isRequired,\n\tsetOption: PropTypes.func.isRequired,\n};\n\nSlider.defaultProps = {\n\tshowPlusSymbol: true\n};\n\nexport default React.memo(Slider);\n","import './Toggle.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../../_components/Icon';\n\nfunction Toggle(props) {\n\tconst {\n\t\tisInteractable,\n\t\tlabel,\n\t\toptionContext,\n\t\toptionKey,\n\t\toptionValue,\n\t\tsetOption\n\t} = props;\n\n\tconst classNames = ['sb-optionToggle'];\n\tclassNames.push(\n\t\t(optionValue === true) ? 'sb-optionToggle-isOn' : 'sb-optionToggle-isOff'\n\t);\n\tif (!isInteractable) {\n\t\tclassNames.push('sb-optionToggle-isNotInteractable');\n\t}\n\n\tfunction handleClick() {\n\t\tsetOption(optionContext, optionKey, !optionValue);\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames.join(' ')}\n\t\t\tonClick={(isInteractable) ? handleClick : null}\n\t\t>\n\t\t\t<div className={'sb-optionToggle-desc'}>{label}</div>\n\t\t\t<div className={'sb-optionToggle-icon'}>\n\t\t\t\t<span className={'sb-optionToggle-icon'}>\n\t\t\t\t\t<Icon iconName={(optionValue === true) ? 'toggle_on' : 'toggle_off' } />\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nToggle.propTypes = {\n\tisInteractable: PropTypes.bool.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\toptionContext: PropTypes.string.isRequired,\n\toptionKey: PropTypes.string.isRequired,\n\toptionValue: PropTypes.bool.isRequired,\n\tsetOption: PropTypes.func.isRequired,\n};\n\nexport default React.memo(Toggle);\n","import './SidebarOptionsPanel.scss';\n\nimport React from 'react';\n\nimport OptionPanel from '../../../../optionsPanels/_components/OptionsPanel';\n\nimport OptionsGroup from './OptionsGroup';\nimport Select from './Select';\nimport Slider from './Slider';\nimport Toggle from './Toggle';\n\n\nfunction getEntryComponent(type) {\n\tswitch (type) {\n\t\tcase 'optionsGroup': return OptionsGroup;\n\t\tcase 'select': return Select;\n\t\tcase 'slider': return Slider;\n\t\tcase 'toggle': return Toggle;\n\t}\n}\n\nexport default function SidebarOptionPanel(props) {\n\treturn (\n\t\t<div className={'sb-optionsPanel'}>\n\t\t\t<OptionPanel\n\t\t\t\t{...props}\n\t\t\t\tgetEntryComponent={getEntryComponent}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n","import createAction from '../../core/createAction';\nimport * as actionTypes from './actionsTypes';\n\n\nexport const setOptionValue = (context, key, value) => {\n\tif (!context) {\n\t\tthrow new TypeError('Cannot set an option without a context');\n\t}\n\tif (!key) {\n\t\tthrow new TypeError('Cannot set an option without a key');\n\t}\n\tconst payload = {\n\t\tcontext,\n\t\tkey,\n\t\tvalue\n\t};\n\treturn createAction(actionTypes.DB_OPTION_SET_OPTION_VALUE, payload);\n};\n\n","/* eslint-disable max-lines */\nexport default {\n\twidgetsOrder: [\n\t\t'style',\n\t\t'alignBars',\n\t\t'autoRepeatChords',\n\t\t'expandSectionRepeats',\n\n\t\t'layout',\n\t\t'helpers',\n\t\t'chords',\n\t\t'format',\n\t],\n\n\tallWidgets: {\n\t\tstyle: {\n\t\t\tlabel: 'Rendering style',\n\t\t\ttype: 'select',\n\t\t\ttypeOptions: {\n\t\t\t\tallChoices: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'styleChordMark',\n\t\t\t\t\t\tlabel: 'ChordMark',\n\t\t\t\t\t\tvalue: 'chordmark'\n\t\t\t\t\t},\n\t\t\t\t\t// {\n\t\t\t\t\t// \tid: 'styleChordpro',\n\t\t\t\t\t// \tlabel: 'ChordPro',\n\t\t\t\t\t// \tvalue: 'chordpro'\n\t\t\t\t\t// },\n\t\t\t\t],\n\t\t\t},\n\t\t\toption: {\n\t\t\t\tcontext: 'rendering',\n\t\t\t\tkey: 'style'\n\t\t\t},\n\t\t},\n\t\talignBars: {\n\t\t\tlabel: 'Align bars',\n\t\t\ttype: 'toggle',\n\t\t\toption: {\n\t\t\t\tcontext: 'rendering',\n\t\t\t\tkey: 'alignBars'\n\t\t\t},\n\t\t},\n\t\tautoRepeatChords: {\n\t\t\tlabel: 'Auto repeat chords',\n\t\t\ttype: 'toggle',\n\t\t\toption: {\n\t\t\t\tcontext: 'rendering',\n\t\t\t\tkey: 'autoRepeatChords'\n\t\t\t},\n\t\t},\n\t\texpandSectionRepeats: {\n\t\t\tlabel: 'Expand section repeats',\n\t\t\ttype: 'toggle',\n\t\t\toption: {\n\t\t\t\tcontext: 'rendering',\n\t\t\t\tkey: 'expandSectionRepeats'\n\t\t\t},\n\t\t},\n\n\n\n\t\tlayout: {\n\t\t\ttype: 'optionsGroup',\n\t\t\tlabel: 'Layout',\n\t\t\ticon: 'view_compact',\n\n\t\t\tgroupWidgetsOrder: [\n\t\t\t\t'documentSize',\n\t\t\t\t'documentMargins',\n\t\t\t\t'columnsCount',\n\t\t\t\t'columnBreakOnParagraph',\n\t\t\t],\n\t\t\tallGroupWidgets: {\n\t\t\t\tdocumentSize: {\n\t\t\t\t\tlabel: 'Document size',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tallChoices: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'documentSizeA4',\n\t\t\t\t\t\t\t\tlabel: 'A4',\n\t\t\t\t\t\t\t\tvalue: 'a4'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'documentSizeBooxMax2Pro',\n\t\t\t\t\t\t\t\tlabel: 'Boox Max 2 Pro',\n\t\t\t\t\t\t\t\tvalue: 'booxmax2pro'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'documentSize'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tdocumentMargins: {\n\t\t\t\t\tlabel: 'Margins',\n\t\t\t\t\ttype: 'slider',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\tmax: 5\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'documentMargins'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tcolumnsCount: {\n\t\t\t\t\tlabel: 'Columns',\n\t\t\t\t\ttype: 'slider',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\tmax: 4\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'columnsCount'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tcolumnBreakOnParagraph: {\n\t\t\t\t\tlabel: 'Break on paragraph',\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'columnBreakOnParagraph'\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\n\n\t\thelpers: {\n\t\t\ttype: 'optionsGroup',\n\t\t\tlabel: 'Helpers',\n\t\t\ticon: 'remove_red_eye',\n\n\t\t\tgroupWidgetsOrder: [\n\t\t\t\t'showChords',\n\t\t\t\t'instrument',\n\t\t\t\t'showStrummingPattern',\n\t\t\t],\n\n\t\t\tallGroupWidgets: {\n\t\t\t\tshowChords: {\n\t\t\t\t\tlabel: 'Show chords diagrams',\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'showChords'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tinstrument: {\n\t\t\t\t\tlabel: 'Instrument',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tallChoices: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'instrumentGuitar',\n\t\t\t\t\t\t\t\tlabel: 'Guitar',\n\t\t\t\t\t\t\t\tvalue: 'guitar'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'instrumentUkulele',\n\t\t\t\t\t\t\t\tlabel: 'Ukulele',\n\t\t\t\t\t\t\t\tvalue: 'ukulele'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'instrumentMandolin',\n\t\t\t\t\t\t\t\tlabel: 'Mandolin',\n\t\t\t\t\t\t\t\tvalue: 'mandolin'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'instrumentPiano',\n\t\t\t\t\t\t\t\tlabel: 'Piano',\n\t\t\t\t\t\t\t\tvalue: 'piano'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'instrument'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tshowStrummingPattern: {\n\t\t\t\t\tlabel: 'Show strumming pattern',\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'showStrummingPattern'\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\n\n\t\tchords: {\n\t\t\ttype: 'optionsGroup',\n\t\t\tlabel: 'Chords',\n\t\t\ticon: 'music_note',\n\n\t\t\tgroupWidgetsOrder: [\n\t\t\t\t'transposeValue',\n\t\t\t\t'simplifyChords',\n\t\t\t\t'capoPosition',\n\t\t\t\t'harmonizeAccidentals',\n\t\t\t\t'preferredAccidentals',\n\t\t\t\t'useShortNamings',\n\t\t\t],\n\n\t\t\tallGroupWidgets: {\n\t\t\t\ttransposeValue: {\n\t\t\t\t\tlabel: 'Transpose',\n\t\t\t\t\ttype: 'slider',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tmin: -11,\n\t\t\t\t\t\tmax: 11,\n\t\t\t\t\t\tshowPlusSymbol: true,\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'transposeValue'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tsimplifyChords: {\n\t\t\t\t\tlabel: 'Simplify chords',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tallChoices: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'simplifyChordsNone',\n\t\t\t\t\t\t\t\tlabel: 'None',\n\t\t\t\t\t\t\t\tvalue: 'none',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'simplifyChordsMax',\n\t\t\t\t\t\t\t\tlabel: 'Max',\n\t\t\t\t\t\t\t\tvalue: 'max',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'simplifyChordsCore',\n\t\t\t\t\t\t\t\tlabel: 'Core',\n\t\t\t\t\t\t\t\tvalue: 'core',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'simplifyChords'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tcapoPosition: {\n\t\t\t\t\tlabel: 'Add capo on fret',\n\t\t\t\t\ttype: 'slider',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\tmax: 11,\n\t\t\t\t\t\tshowPlusSymbol: false,\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'capoPosition'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tharmonizeAccidentals: {\n\t\t\t\t\tlabel: 'Harmonize accidentals',\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'harmonizeAccidentals'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tpreferredAccidentals: {\n\t\t\t\t\tlabel: 'Preferred accidentals',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tallChoices: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'preferredAccidentalsAuto',\n\t\t\t\t\t\t\t\tlabel: 'Auto',\n\t\t\t\t\t\t\t\tvalue: 'auto'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'preferredAccidentalsSharp',\n\t\t\t\t\t\t\t\tlabel: 'Sharp (#)',\n\t\t\t\t\t\t\t\tvalue: 'sharp'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'preferredAccidentalsFlat',\n\t\t\t\t\t\t\t\tlabel: 'Flats (b)',\n\t\t\t\t\t\t\t\tvalue: 'flat'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'preferredAccidentals'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tuseShortNamings: {\n\t\t\t\t\tlabel: 'Use short names',\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'useShortNamings'\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\n\n\t\tformat: {\n\t\t\ttype: 'optionsGroup',\n\t\t\tlabel: 'Format',\n\t\t\ticon: 'format_size',\n\n\t\t\tgroupWidgetsOrder: [\n\t\t\t\t'fontSize',\n\t\t\t\t'printFontSize',\n\t\t\t\t'fontStyle',\n\t\t\t\t'chordsColor',\n\t\t\t\t'highlightChords',\n\t\t\t],\n\n\t\t\tallGroupWidgets: {\n\t\t\t\tfontSize: {\n\t\t\t\t\tlabel: 'Font size',\n\t\t\t\t\ttype: 'slider',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tmin: -5,\n\t\t\t\t\t\tmax: +5,\n\t\t\t\t\t\tshowPlusSymbol: true,\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'fontSize'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tprintFontSize: {\n\t\t\t\t\tlabel: 'Font size (print)',\n\t\t\t\t\ttype: 'slider',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tmin: -5,\n\t\t\t\t\t\tmax: +5,\n\t\t\t\t\t\tshowPlusSymbol: true,\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'printFontSize'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tfontStyle: {\n\t\t\t\t\tlabel: 'Font style',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tallChoices: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'fontStyleRoboto',\n\t\t\t\t\t\t\t\tlabel: 'Roboto',\n\t\t\t\t\t\t\t\tvalue: 'roboto'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'fontStyle'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tchordsColor: {\n\t\t\t\t\tlabel: 'Chords color',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tallChoices: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'chordsColor',\n\t\t\t\t\t\t\t\tlabel: 'Base',\n\t\t\t\t\t\t\t\tvalue: 'base'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'chordsColorRed',\n\t\t\t\t\t\t\t\tlabel: 'Red',\n\t\t\t\t\t\t\t\tvalue: 'red'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'chordsColorYellow',\n\t\t\t\t\t\t\t\tlabel: 'Yellow',\n\t\t\t\t\t\t\t\tvalue: 'yellow'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'chordsColorGreen',\n\t\t\t\t\t\t\t\tlabel: 'Green',\n\t\t\t\t\t\t\t\tvalue: 'green'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'chordsColor'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\thighlightChords: {\n\t\t\t\t\tlabel: 'Highlight Chords',\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'highlightChords'\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\t},\n};\n","import { connect } from 'react-redux';\n\nimport { getOptionValue } from '../../db/options/selectors';\nimport { setOptionValue } from '../../db/options/actions';\n\nexport default function OptionsPanelFactory(allWidgets, getNonInteractableWidgets, getHiddenWidgets, component) {\n\treturn connect(\n\t\tstate => {\n\t\t\tconst stateToProps = {\n\t\t\t\tallWidgets,\n\t\t\t\tnonInteractableWidgets: getNonInteractableWidgets(state),\n\t\t\t\thiddenWidgets: getHiddenWidgets(state),\n\t\t\t};\n\n\t\t\tlet widget;\n\t\t\tlet groupWidget;\n\n\t\t\tallWidgets.widgetsOrder.forEach(widgetId => {\n\t\t\t\twidget = allWidgets.allWidgets[widgetId];\n\n\t\t\t\tif (widget.type === 'optionsGroup') {\n\t\t\t\t\twidget.groupWidgetsOrder.forEach(groupWidgetId => {\n\t\t\t\t\t\tgroupWidget = widget.allGroupWidgets[groupWidgetId];\n\n\t\t\t\t\t\tstateToProps[groupWidget.option.key] = getOptionValue(state, groupWidget.option.context, groupWidget.option.key);\n\t\t\t\t\t});\n\n\t\t\t\t} else {\n\t\t\t\t\tstateToProps[widget.option.key] = getOptionValue(state, widget.option.context, widget.option.key);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn stateToProps;\n\t\t},\n\n\t\t{\n\t\t\tsetOption: setOptionValue\n\t\t}\n\n\t)(component);\n}\n\n","import Rendering from '../_components/Rendering';\nimport OptionsPanelFactory from '../../_containers/OptionsPanelFactory';\n\nimport allWidgets from '../allWidgets';\nimport { getNonInteractableWidgets, getHiddenWidgets } from '../_state/selectors';\n\nexport default OptionsPanelFactory(allWidgets, getNonInteractableWidgets, getHiddenWidgets, Rendering);\n","import { getEditorMode } from '../../../ui/layout/app/_state/selectors';\nimport { getOptionValue } from '../../../db/options/selectors';\n\nexport const getNonInteractableWidgets = (state) => {\n\tconst nonInteractableWidgets = [];\n\n\tconst editorMode = getEditorMode(state);\n\n\tswitch (editorMode) {\n\t\tcase 'edit': {\n\t\t\tnonInteractableWidgets.push('helpers');\n\t\t\tnonInteractableWidgets.push('layout');\n\t\t\tnonInteractableWidgets.push('style');\n\t\t\tnonInteractableWidgets.push('format');\n\n\t\t\tbreak;\n\t\t}\n\t\tcase 'play': {\n\t\t\tnonInteractableWidgets.push('documentSize');\n\t\t\tnonInteractableWidgets.push('documentMargins');\n\t\t\tnonInteractableWidgets.push('columnBreakOnParagraph');\n\t\t\tbreak;\n\t\t}\n\t\tcase 'print': {\n\t\t\tnonInteractableWidgets.push('chordsColor');\n\t\t\tbreak;\n\t\t}\n\t\tcase 'export': {\n\t\t\tnonInteractableWidgets.push('format');\n\t\t\tnonInteractableWidgets.push('layout');\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t//const style = getOptionValue(state, 'rendering', 'style');\n\t//if (style !== 'chordmark') {\n\t//\tnonInteractableWidgets.push('alignBars');\n\t//}\n\n\treturn nonInteractableWidgets;\n};\n\nexport const getHiddenWidgets = (state) => {\n\tconst hiddenWidgets = [];\n\n\tconst editorMode = getEditorMode(state);\n\n\t//const showChords = getOptionValue(state, 'rendering', 'showChords');\n\tconst harmonizeAccidentals = getOptionValue(state, 'rendering', 'harmonizeAccidentals');\n\n\t//if (!showChords) {\n\t//\thiddenWidgets.push('instrument');\n\t//}\n\tif (!harmonizeAccidentals) {\n\t\thiddenWidgets.push('preferredAccidentals');\n\t}\n\n\tif (editorMode === 'print') {\n\t\thiddenWidgets.push('fontSize');\n\t} else {\n\t\thiddenWidgets.push('printFontSize');\n\t}\n\n\thiddenWidgets.push('helpers');\n\t//hiddenWidgets.push('simplifyChords');\n\thiddenWidgets.push('capoPosition');\n\n\treturn hiddenWidgets;\n};\n","import './Rendering.scss';\n\nimport React from 'react';\n\nimport Icon from '../../../ui/_components/Icon';\n\nimport SidebarOptionPanel from '../../../ui/sideBar/options/_components/SidebarOptionsPanel';\n\nexport default function Rendering(props) {\n\treturn (\n\t\t<div className={'renderingOptionsPanel'}>\n\t\t\t<div className={'renderingOptionsPanel-isCollapsed'}>\n\t\t\t\t<span className={'renderingOptionsPanel-icon'}>\n\t\t\t\t\t<Icon iconName={'settings'} />\n\t\t\t\t</span>\n\t\t\t</div>\n\n\t\t\t<div className={'renderingOptionsPanel-isExpanded'}>\n\t\t\t\t<SidebarOptionPanel\n\t\t\t\t\t{...props}\n\t\t\t\t\tid={'rendering'}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from 'react';\n\nimport AppLayout from '../ui/layout/app/_containers/App';\nimport FileManager from '../fileManager/_containers/FileManager';\nimport Editor from '../editor/_containers/Editor';\nimport RightBarPanel from '../optionsPanels/rendering/_containers/Rendering';\n\nexport default function Edit() {\n\tconst fm = <FileManager />;\n\tconst rightBarPanel = <RightBarPanel />;\n\n\treturn (\n\t\t<AppLayout\n\t\t\tleftBar={fm}\n\t\t\trightBar={rightBarPanel}\n\t\t>\n\t\t\t<Editor />\n\t\t</AppLayout>\n\t);\n}\n","import UniversalRouter from 'universal-router';\nimport renderController from './renderController';\n\nimport Editor from './controllers/Editor';\n\nconst routes = [\n\t{\n\t\tpath: '/editor',\n\t\taction: () => Editor,\n\t},\n];\n\nconst universalRouter = new UniversalRouter(routes);\n\nexport default {\n\tnavigateTo(path) {\n\t\treturn universalRouter.resolve(path)\n\t\t\t.then(controller => {\n\t\t\t\treturn renderController(controller);\n\t\t\t});\n\t}\n};\n\n\n","import React from 'react';\nimport ReactDom from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport { getStore } from './state/store';\n\nimport ErrorBoundary from './ui/_components/ErrorBoundary';\n\nexport default function renderController(Controller) {\n\tReactDom.render(\n\t\t<Provider store={getStore()}>\n\t\t\t<React.StrictMode>\n\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t<Controller />\n\t\t\t\t</ErrorBoundary>\n\t\t\t</React.StrictMode>\n\t\t</Provider>,\n\t\tdocument.getElementById('app')\n\t);\n}\n","import '../scss/styles.scss';\n\nimport { createStore } from './state/store';\nimport router from './router';\n\nexport default function run() {\n\tcreateStore();\n\n\treturn router.navigateTo('/editor');\n}\n"],"sourceRoot":""}