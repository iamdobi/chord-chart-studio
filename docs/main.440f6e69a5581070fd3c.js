(()=>{"use strict";var e={"6g7X":(e,t,n)=>{var r=n("P4Tr"),o=n.n(r),i=n("ANjH"),a="db/files/Create",l="db/files/Update",s="db/files/Delete";function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={allFiles:{}};function m(e,t){var n=t.payload,r=n.id,o=n.title,i=n.content,a=u({},e.allFiles);return a[r]={id:r,title:o,content:i},u(u({},e),{},{allFiles:a})}function f(e,t){var n=t.payload,r=n.id,o=n.title,i=n.content;if(!o&&!i||!e.allFiles[r])return e;var a=u({},e.allFiles);return a[r]=u({},a[r]),o&&(a[r].title=o),i&&(a[r].content=i),u(u({},e),{},{allFiles:a})}function g(e,t){var n=t.payload.id;if(!n||!e.allFiles[n])return e;var r=u({},e.allFiles);return delete r[n],u(u({},e),{},{allFiles:r})}var h="db/options/setOptionValue";function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C={};const O=(0,i.UY)({files:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case a:return m(e,t);case l:return f(e,t);case s:return g(e,t)}return e},options:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case h:var n=t.payload,r=n.context,o=n.key,i=n.value;if(!e[r]||!e[r][o])return e;var a=v({},e[r]);a[o]=v(v({},a[o]),{},{value:i});var l=v({},e);return l[r]=a,l}return e}});var E="fileManager/select",S="fileManager/enableRename";function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N={selected:"",renamed:"",defaultTitle:"[untitled]"};var x="ui/layout/app/toggleLeftBar",j="ui/layout/app/toggleRightBar",q="ui/layout/app/setEditorMode";function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T={isLeftBarCollapsed:!1,isRightBarCollapsed:!1,editorMode:"edit"};const B=(0,i.UY)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case x:return M(M({},e),{},{isLeftBarCollapsed:!e.isLeftBarCollapsed});case j:return M(M({},e),{},{isRightBarCollapsed:!e.isRightBarCollapsed});case q:var n=t.payload.mode;return M(M({},e),{},{editorMode:n})}return e}}),z=(0,i.UY)({layout:B}),A=(0,i.UY)({db:O,fileManager:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case a:var n=t.payload.id;return w(w({},e),{},{selected:n,renamed:n});case l:return w(w({},e),{},{renamed:""});case s:return w(w({},e),{},{selected:"",renamed:""});case E:var r=t.payload.id;return w(w({},e),{},{selected:r,renamed:r===e.renamed?r:""});case S:var o=t.payload.id;return w(w({},e),{},{renamed:o})}return e},ui:z}),_={db:{options:{rendering:{style:{value:"chordmark",default:"chordmark",resetOnSongChange:!1},alignBars:{value:!0,default:!0,resetOnSongChange:!1},autoRepeatChords:{value:!0,default:!0,resetOnSongChange:!1},expandSectionRepeats:{value:!0,default:!0,resetOnSongChange:!1},documentSize:{value:"a4",default:"a4",resetOnSongChange:!1},documentMargins:{value:3,default:3,resetOnSongChange:!1},columnsCount:{value:1,default:1,resetOnSongChange:!1},columnBreakOnParagraph:{value:!0,default:!0,resetOnSongChange:!1},showChords:{value:!0,default:!0,resetOnSongChange:!1},instrument:{value:"guitar",default:"guitar",resetOnSongChange:!1},showStrummingPattern:{value:!0,default:!0,resetOnSongChange:!1},transposeValue:{value:0,default:0,resetOnSongChange:!0},simplifyChords:{value:"none",default:"none",resetOnSongChange:!0},capoPosition:{value:0,default:0,resetOnSongChange:!0},harmonizeAccidentals:{value:!0,default:!0,resetOnSongChange:!0},preferredAccidentals:{value:"auto",default:"auto",resetOnSongChange:!0},useShortNamings:{value:!0,default:!0,resetOnSongChange:!1},fontSize:{value:0,default:0,resetOnSongChange:!1},printFontSize:{value:0,default:0,resetOnSongChange:!1},fontStyle:{value:"roboto",default:"roboto",resetOnSongChange:!1},chordsColor:{value:"yellow",default:"yellow",resetOnSongChange:!1},highlightChords:{value:!0,default:!0,resetOnSongChange:!1}}}}};var I,L=[];function W(){window.__REDUX_DEVTOOLS_EXTENSION__&&L.push(window.__REDUX_DEVTOOLS_EXTENSION__({trace:!0}));var e=function(){try{var e=localStorage.getItem("state");if(!e)return;return JSON.parse(e)}catch(e){return}}(),t=o()(e,_);(I=(0,i.MT)(A,t,i.qC.apply(void 0,L))).subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(e){}}(I.getState())}))}var D=n("NCxb"),G=n("q1tI"),H=n("i8i4"),V=n("MY8Y"),U=(n("NBAS"),n("07d7"),n("JfAA"),n("17x9")),Y=n.n(U);function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Q(e);if(t){var o=Q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Z(this,n)}}function Z(e,t){return!t||"object"!==$(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(i,e);var t,n,r,o=J(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={error:null,errorInfo:null},t}return t=i,(n=[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.errorInfo?G.createElement("div",{className:"ErrorBoundary"},G.createElement("h2",null,"Something went wrong"),G.createElement("details",{style:{whiteSpace:"pre-wrap"},open:!0},this.state.error&&this.state.error.toString(),G.createElement("br",null),this.state.errorInfo.componentStack)):this.props.children}}])&&K(t.prototype,n),r&&K(t,r),i}(G.Component);ee.propTypes={children:Y().any};const te=ee;function ne(e,t){if(!e)throw new TypeError("Cannot create an action without an action type");return{type:e,payload:t}}var re=function(e){return e.ui.layout.app.isLeftBarCollapsed},oe=function(e){return e.ui.layout.app.isRightBarCollapsed},ie=function(e){return e.ui.layout.app.editorMode};n("oVuX");function ae(e){var t=e.iconName;return G.createElement("i",{className:["icon","material-icons"].join(" ")},t)}ae.propTypes={iconName:Y().string.isRequired};const le=G.memo(ae);function se(){return G.createElement("div",{className:"logo"},G.createElement("div",{className:"logo-isCollapsed"},G.createElement(le,{iconName:"queue_music"})),G.createElement("div",{className:"logo-isExpanded"},G.createElement("span",{className:"logo-icon"},G.createElement(le,{iconName:"queue_music"})),"Chords Charts Studio"))}const ce=G.memo(se);n("2B1R"),n("zKZe");function ue(e){var t=e.label,n=e.icon,r=e.editorMode,o=e.setEditorMode,i=["mainNavEntry"];return e.isActive&&i.push("mainNavEntry-isActive"),G.createElement("li",{className:i.join(" "),onClick:function(){o(r)}},G.createElement("span",{className:"mainNavEntry-icon"},G.createElement(le,{iconName:n})),t)}ue.propTypes={label:Y().string.isRequired,icon:Y().string.isRequired,editorMode:Y().string.isRequired,setEditorMode:Y().func.isRequired,isActive:Y().bool.isRequired};const de=G.memo(ue);function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function me(e){var t=e.currentMode,n=e.allEntries,r=e.setEditorMode;return G.createElement("nav",{className:"mainNav"},G.createElement("ul",{className:"mainNav-entries"},n.map((function(e,n){return G.createElement(de,pe({key:n,isActive:e.editorMode===t,setEditorMode:r},e))}))))}me.propTypes={currentMode:Y().string.isRequired,setEditorMode:Y().func.isRequired,allEntries:Y().arrayOf(Y().shape({id:Y().string.isRequired,label:Y().string.isRequired,icon:Y().string.isRequired,editorMode:Y().string.isRequired}))};const fe=G.memo(me);function ge(){var e={"chord-charts-studio":"v0.8.3","chord-symbol":"v2.0.0","chord-mark":"v0.5.5"};return G.createElement("div",{className:"appFooter"},"Chords Charts Studio ",e["chord-charts-studio"],"- ChordMark ",e["chord-mark"],"- ChordSymbol ",e["chord-symbol"])}const he=G.memo(ge),ye=[{id:"edit",label:"Edit",icon:"create",editorMode:"edit"},{id:"play",label:"Play",icon:"music_note",editorMode:"play"},{id:"print",label:"Print / PDF",icon:"print",editorMode:"print"},{id:"export",label:"Export",icon:"save_alt",editorMode:"export"}];function ve(e){var t=e.isLeftBarCollapsed,n=e.isRightBarCollapsed,r=e.editorMode,o=e.toggleLeftBar,i=e.toggleRightBar,a=e.setEditorMode,l=e.leftBar,s=e.rightBar,c=["leftBar"];t&&c.push("leftBar-isCollapsed");var u=["rightBar"];return n&&u.push("rightBar-isCollapsed"),G.createElement("div",{className:"appLayout-wrapper"},G.createElement("section",{className:c.join(" ")},G.createElement("div",{className:"leftBar-content",onClick:t?o:null},G.createElement(ce,null),l),G.createElement("div",{className:"leftBar-collapser",onClick:o,"data-testid":"leftBar-collapser"},G.createElement("span",{className:"leftBar-collapserIcon"},G.createElement(le,{iconName:"keyboard_arrow_left"})))),G.createElement("section",{className:"appLayout-main"},G.createElement("section",{className:"appLayout-header"},G.createElement(fe,{allEntries:ye,currentMode:r,setEditorMode:a})),G.createElement("section",{className:"appLayout-content"},e.children),G.createElement("section",{className:"appLayout-footer"},G.createElement(he,null))),G.createElement("section",{className:u.join(" ")},G.createElement("div",{className:"rightBar-collapser",onClick:i,"data-testid":"rightBar-collapser"},G.createElement("span",{className:"rightBar-collapserIcon"},G.createElement(le,{iconName:"keyboard_arrow_right"}))),G.createElement("div",{className:"rightBar-content",onClick:n?i:null},s)))}ve.propTypes={children:Y().element,isLeftBarCollapsed:Y().bool,isRightBarCollapsed:Y().bool,toggleLeftBar:Y().func.isRequired,toggleRightBar:Y().func.isRequired,editorMode:Y().string.isRequired,setEditorMode:Y().func.isRequired,leftBar:Y().element.isRequired,rightBar:Y().element.isRequired},ve.defaultProps={isLeftBarCollapsed:!1,isRightBarCollapsed:!1};const be=ve,Ce=(0,V.$j)((function(e){return{isLeftBarCollapsed:re(e),isRightBarCollapsed:oe(e),editorMode:ie(e)}}),{toggleLeftBar:function(){return ne(x)},toggleRightBar:function(){return ne(j)},setEditorMode:function(e){return ne(q,{mode:e})}})(be);var Oe=function(e){return e.fileManager.selected},Ee=function(e){return e.fileManager.renamed},Se=function(e){return e.fileManager.defaultTitle},Re=n("NiUT"),we=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=t.content;if(!e)throw new TypeError("Cannot update a file without an id");var o={id:e,title:n,content:r};return ne(l,o)},Pe=n("3WF5"),Ne=n.n(Pe),xe=n("Y+p1"),je=n.n(xe),qe=n("xweI"),ke=n.n(qe),Me=n("G4qV"),Fe=(0,Me.wN)(Me.PW,je())((function(e){return Ne()(e.db.files.allFiles,(function(e){return{title:e.title,id:e.id}}))}),(function(e){return ke()(e,(function(e){return e.title.toLowerCase()}))})),Te=function(e,t){return e.db.files.allFiles[t]};function Be(e){var t=e.icon,n=e.text,r=e.action;return G.createElement("span",{className:"fileManagerAction",onClick:r},G.createElement("span",{className:"fileManagerAction-icon"},G.createElement(le,{iconName:t})," ",n))}Be.propTypes={icon:Y().string.isRequired,text:Y().string.isRequired,action:Y().func.isRequired};const ze=G.memo(Be);function Ae(){return(Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _e(e){var t=e.createFile,n=e.deleteFile,r=[{icon:"add_circle",text:"New",action:t},{icon:"create",text:"Rename",action:e.enableRename},{icon:"delete",text:"Delete",action:n}];return G.createElement("div",{className:"fileManager-actionsList"},r.map((function(e,t){return G.createElement(ze,Ae({},e,{key:t}))})))}_e.propTypes={createFile:Y().func.isRequired,deleteFile:Y().func.isRequired,enableRename:Y().func.isRequired};const Ie=G.memo(_e);function Le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return We(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function De(e){var t=Le((0,G.useState)(e.title),2),n=t[0],r=t[1],o=e.fileId,i=e.isSelected,a=e.isRenamed,l=e.defaultTitle,s=e.selectFile,c=e.enableRename,u=e.updateFile,d=["fileManagerEntry"];i&&d.push("fileManagerEntry-isSelected"),a&&d.push("fileManagerEntry-isRenamed");var p=G.createRef();function m(e){u(o,{title:e=e||l}),r(e),p.current.scrollLeft=0}return(0,G.useEffect)((function(){a&&p.current.focus()}),[a,p]),G.createElement("li",{className:d.join(" "),onClick:function(){i||s(o)},onDoubleClick:function(e){a||(c(o),e.target.select())}},G.createElement("input",{className:"fileManagerEntry-input",ref:p,type:"text",value:n,readOnly:a?null:"readOnly",autoFocus:a?"autoFocus":null,onChange:function(e){r(e.target.value)},onBlur:function(e){a&&m(e.target.value)},onFocus:function(e){a&&e.target.select()},onKeyPress:function(e){a&&13===e.which&&(e.preventDefault(),window.getSelection().removeAllRanges(),m(e.target.value))}}))}De.propTypes={title:Y().string.isRequired,fileId:Y().string.isRequired,isSelected:Y().bool.isRequired,isRenamed:Y().bool.isRequired,defaultTitle:Y().string.isRequired,selectFile:Y().func.isRequired,enableRename:Y().func.isRequired,updateFile:Y().func.isRequired};const Ge=De;function He(e){var t=e.allTitles,n=e.selected,r=e.renamed,o=e.defaultTitle,i=e.selectFile,a=e.createFile,l=e.deleteFile,s=e.enableRename,c=e.updateFile;return G.createElement("div",{className:"fileManager"},G.createElement("div",{className:"fileManager-isCollapsed"},G.createElement("span",{className:"fileManager-icon"},G.createElement(le,{iconName:"file_copy"}))),G.createElement("div",{className:"fileManager-isExpanded"},G.createElement(Ie,{createFile:function(){return a(o)},deleteFile:function(){return l(n)},enableRename:function(){return s(n)}}),G.createElement("ul",{className:"fileManager-entriesList"},t.map((function(e){return G.createElement(Ge,{title:e.title,defaultTitle:o,fileId:e.id,isSelected:n===e.id,isRenamed:r===e.id,selectFile:i,updateFile:c,enableRename:s,key:e.id})})))))}He.propTypes={allTitles:Y().arrayOf(Y().shape({title:Y().string.isRequired,id:Y().string.isRequired})).isRequired,selected:Y().string.isRequired,renamed:Y().string.isRequired,defaultTitle:Y().string.isRequired,selectFile:Y().func.isRequired,createFile:Y().func.isRequired,deleteFile:Y().func.isRequired,enableRename:Y().func.isRequired,updateFile:Y().func.isRequired};const Ve=He,Ue=(0,V.$j)((function(e){return{selected:Oe(e),renamed:Ee(e),defaultTitle:Se(e),allTitles:Fe(e)}}),{selectFile:function(e){return ne(E,{id:e})},createFile:function(e){if(!e)throw new TypeError("Cannot create a file without title");var t={id:(0,Re.Z)(),title:e,content:""};return ne(a,t)},deleteFile:function(e){return ne(s,{id:e})},updateFile:we,enableRename:function(e){return ne(S,{id:e})}})(Ve);n("noZS");var Ye=function(e,t,n){if(e.db.options[t]&&e.db.options[t][n])return e.db.options[t][n].value},$e=n("JZM8"),Ke=n.n($e),Xe=n("wMS7"),Je=n.n(Xe);function Ze(e){return Je().sanitize(e)}var Qe=n("XHOe");function et(e,t){var n=(0,Qe.parseSong)(e);return(0,Qe.renderSong)(n,t)}function tt(e){var t=e.content,n=Ke()(e,["alignBars","harmonizeAccidentals","accidentalsType","transposeValue","autoRepeatChords","expandSectionRepeats","useShortNamings","simplifyChords"]);return G.createElement("div",{className:"songRenderer"},G.createElement("div",{dangerouslySetInnerHTML:{__html:Ze(et(t,n))}}))}tt.propTypes={content:Y().string},tt.defaultProps={content:""};const nt=tt,rt=(0,V.$j)((function(e){return{accidentalsType:Ye(e,"rendering","preferredAccidentals"),alignBars:Ye(e,"rendering","alignBars"),harmonizeAccidentals:Ye(e,"rendering","harmonizeAccidentals"),transposeValue:Ye(e,"rendering","transposeValue"),autoRepeatChords:Ye(e,"rendering","autoRepeatChords"),expandSectionRepeats:Ye(e,"rendering","expandSectionRepeats"),useShortNamings:Ye(e,"rendering","useShortNamings"),simplifyChords:Ye(e,"rendering","simplifyChords")}}))(nt);function ot(e){var t=e.selectedFile;return G.createElement("div",{className:["editorPreview"].join(" ")},G.createElement(rt,{content:t.content}))}ot.propTypes={selectedFile:Y().object.isRequired};const it=ot,at=(0,V.$j)((function(){return{}}))(it);n("Rfxz");var lt=n("UxO+"),st=n("V2qZ"),ct=n("BUsU"),ut=n("h2RY"),dt=n("ABBN"),pt=n("lGMC");var mt=n("IhAg");const ft=new ct.V_({nodes:mt.td,marks:mt.EI});n("E9XD"),n("vxnP");function gt(e){return e.toJSON().doc.content.map((function(e){return e.content?e.content.reduce((function(e,t){return e+=t.text}),""):""})).join("\n")}n("rB9j"),n("EnZy");function ht(e){return Je().sanitize(e,{ALLOWED_TAGS:["p","#text"],KEEP_CONTENT:!1})}function yt(e){var t,n,r=e.selectedFileId,o=e.editorContent,i=e.updateFile,a=(0,G.useRef)(),l=(0,G.useRef)(),s=(t=r,n=(0,G.useRef)(),(0,G.useEffect)((function(){n.current=t})),n.current);function c(){return a.current&&a.current.dom.parentNode}function u(){a.current.dom.parentNode.removeChild(a.current.dom)}return(0,G.useEffect)((function(){if(!r||a.current&&s===r)c()&&!r&&u();else{c()&&u();var e=function(e){return lt.yy.create({doc:ct.aw.fromSchema(ft).parse((t=e,n=ht(t).split("\n").map((function(e){return"<p>".concat(e,"</p>")})).join(""),r=document.createElement("div"),r.innerHTML=ht(n),r),{preserveWhitespace:"full"}),plugins:[(0,pt.m8)(),(0,ut.h)({"Mod-z":pt.Yw,"Mod-y":pt.KX}),(0,ut.h)(dt.YR)]});var t,n,r}(o);a.current=function(e,t,n){return new st.tk(null,{state:e,dispatchTransaction:function(e){var r=this.state.applyTransaction(e),o=r.state,i=r.transactions;this.updateState(o),i.some((function(e){return e.docChanged}))&&t(n,{content:gt(o)})}})}(e,i,r),l.current.appendChild(a.current.dom),yt.editorView=a.current}})),G.createElement("div",{className:"prosemirrorWrapper",ref:l})}yt.defaultProps={selectedFileId:"",editorContent:""},yt.propTypes={selectedFileId:Y().string,editorContent:Y().string,updateFile:Y().func.isRequired};const vt=yt;function bt(e){var t=e.selectedFile,n=e.updateFile;return G.createElement("div",{className:"songEditor"},G.createElement("div",{className:"songEditor-source"},G.createElement(vt,{editorContent:t.content,updateFile:n,selectedFileId:t.id})),G.createElement("div",{className:"songEditor-preview"},G.createElement(at,{selectedFile:t})))}bt.propTypes={selectedFile:Y().object,updateFile:Y().func.isRequired};const Ct=bt;function Ot(e){var t=e.selectedFile;return G.createElement("div",{className:"exportPreview exp-SongRenderer"},G.createElement(rt,{content:t.content}))}Ot.propTypes={selectedFile:Y().object.isRequired};const Et=Ot;function St(e){var t=e.selectedFile,n=e.fontSize,r=e.chordsColor,o=e.highlightChords,i=e.columnsCount,a=["playRenderer"];return a.push("playRenderer--columns-"+i),a.push("cmLine--fontSize"+n),a.push("cmChordSymbol--chordsColor-"+r),o&&a.push("cmChordLine--highlightChords"),G.createElement("div",{className:"playRendererWrapper1"},G.createElement("div",{className:"playRendererWrapper2"},G.createElement("div",{className:a.join(" "),"data-testid":"playRenderer"},G.createElement(rt,{content:t.content}))))}St.propTypes={selectedFile:Y().object.isRequired,columnsCount:Y().number.isRequired,fontSize:Y().number.isRequired,chordsColor:Y().string.isRequired,highlightChords:Y().bool.isRequired};const Rt=St,wt=(0,V.$j)((function(e){return{chordsColor:Ye(e,"rendering","chordsColor"),highlightChords:Ye(e,"rendering","highlightChords"),fontSize:Ye(e,"rendering","fontSize"),columnsCount:Ye(e,"rendering","columnsCount")}}))(Rt);n("ls82");function Pt(e){var t=e.pageHeader,n=e.allColumnsLines,r=e.documentSize,o=e.documentMargins,i=e.printFontSize,a=n.map((function(e,t){var n=e.join("\n");return G.createElement("div",{key:t,className:"printPreview-pageColumn","data-testid":"printPreview-pageColumn",dangerouslySetInnerHTML:{__html:Ze(n)}})})),l=["printPreview-page"];l.push("printPreview-page--"+r),l.push("printPreview-page--font"+i);var s=["printPreview-pageContentWrapper"];return s.push("printPreview-pageContentWrapper--padding"+o),G.createElement("div",{className:l.join(" "),"data-testid":"printPreview-page"},G.createElement("div",{className:s.join(" "),"data-testid":"printPreview-pageContentWrapper"},G.createElement("div",{className:"printPreview-pageContent"},t,G.createElement("div",{className:"printPreview-pageColumnWrapper"},a))))}Pt.defaultProps={allColumnsLines:[]},Pt.propTypes={pageHeader:Y().element,allColumnsLines:Y().arrayOf(Y().arrayOf(Y().string)),documentSize:Y().string.isRequired,documentMargins:Y().number.isRequired,printFontSize:Y().number.isRequired};const Nt=G.memo(Pt);function xt(e){var t=e.title;return G.createElement("div",{className:"printPreview-pageHeader"},t)}xt.defaultProps={allColumnsLines:[]},xt.propTypes={title:Y().string.isRequired};const jt=G.memo(xt);n("QWBl"),n("yXV3"),n("FZtP");var qt="cmEmptyLine",kt="cmChordLine",Mt="cmTextLine";function Ft(e,t){var n=t.columnsCount,r=t.firstPageHeight,o=t.normalPageHeight,i=t.columnBreakOnParagraph,a=t.noEmptyLinesOnColumnStart,l=void 0===a||a,s=t.noOrphanTextLine,c=void 0===s||s,u=function(e){var t=e.firstPageHeight,n=e.normalPageHeight,r=e.columnsCount,o=[],i=0,a=0,l=u(),s=0;function c(e){e.forEach((function(e){d(s+e.height)&&p(),o[i][a].push(e.content),s+=e.height}))}function u(){return 0===i&&t?t:n}function d(e){return e>l}function p(){m()?(i++,o[i]=[],a=0):a++,o[i][a]=[],s=0,l=u()}function m(){return a===r-1}return o[i]=[],o[i][a]=[],{insert:function(e){c(e)},insertOnNextColumn:function(e){p(),c(e)},fitsOnCurrentColumn:function(e){return s+e<=l},fitsOnNextColumn:function(e){return e<=(0===i&&a<r&&t?t:n)},get:function(){return o}}}({columnsCount:n,firstPageHeight:r,normalPageHeight:o,noEmptyLinesOnColumnStart:l}),d=[],p=0;return(r||o)>0&&e.forEach((function(t,n){(function(e,t,n,r){return!(Tt(t)&&!e.fitsOnCurrentColumn(t.height)&&0===n.length&&!0===r)})(u,t,d,l)&&(d.push(t),p+=t.height),d.length>0&&function(e,t,n){var r=n.noOrphanTextLine,o=n.columnBreakOnParagraph;if(Tt(e)||!t)return!0;var i=function(e){return Bt(e.content,kt)}(e)&&function(e){return Bt(e.content,Mt)}(t);if(!0===r&&i)return!1;var a=Tt(t);if(!0===o&&!a)return!1;return!0}(t,e[n+1],{noOrphanTextLine:c,columnBreakOnParagraph:i})&&(u.fitsOnCurrentColumn(p)?u.insert(d):u.fitsOnNextColumn(p)?u.insertOnNextColumn(d):u.insert(d),d=[],p=0)})),u.get()}function Tt(e){return Bt(e.content,qt)}function Bt(e,t){return e.indexOf(t)>-1}n("5s+n");function zt(e,t){var n=document.createElement("div");return n.classList.add("measuring-node"),document.body.appendChild(n),new Promise((function(r){H.render(G.createElement("div",null,e),n,(function(){var e=t(n);H.unmountComponentAtNode(n),n.parentNode.removeChild(n),r(e)}))}))}function At(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.length||0;n<e;n++)t.push([]);return t}function _t(e){return e.offsetHeight}function It(e){return e.clientHeight}function Lt(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function Wt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Lt(i,r,o,a,l,"next",e)}function l(e){Lt(i,r,o,a,l,"throw",e)}a(void 0)}))}}var Dt=".cmLine";function Gt(e,t){return Ht.apply(this,arguments)}function Ht(){return(Ht=Wt(regeneratorRuntime.mark((function e(t,n){var r,o,i,a,l,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.columnsCount,o=n.documentSize,i=n.documentMargins,a=n.printFontSize,l=G.createElement("div",{className:"printPreview"},G.createElement(Nt,{allColumnsLines:At(r,[t]),columnsCount:r,documentSize:o,documentMargins:i,printFontSize:a})),s=function(e){var t=[];return e.querySelectorAll(Dt).forEach((function(e){t.push(_t(e))})),t},e.next=5,zt(l,s);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vt(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function Ut(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Vt(i,r,o,a,l,"next",e)}function l(e){Vt(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Yt(e,t){return $t.apply(this,arguments)}function $t(){return($t=Ut(regeneratorRuntime.mark((function e(t,n){var r,o,i,a,l,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.columnsCount,o=n.documentSize,i=n.documentMargins,a=n.printFontSize,l=G.createElement(Nt,{pageHeader:G.createElement(jt,{title:t}),allColumnsLines:At(r),documentSize:o,documentMargins:i,printFontSize:a}),s=function(e){var t=e.querySelector(".printPreview-pageContent");return{firstPageHeight:It(e.querySelector(".printPreview-pageColumnWrapper")),normalPageHeight:It(t)}},e.next=5,zt(l,s);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kt(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function Xt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zt(e){var t=Xt((0,G.useState)([]),2),n=t[0],r=t[1],o=e.title,i=e.allLines,a=e.columnsCount,l=e.columnBreakOnParagraph,s=e.documentSize,c=e.documentMargins,u=e.printFontSize;(0,G.useLayoutEffect)((function(){(function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n,d,p,m,f,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={columnsCount:a,documentSize:s,documentMargins:c,printFontSize:u},e.next=3,Gt(i,t);case 3:return n=e.sent,e.next=6,Yt(o,t);case 6:d=e.sent,p=d.normalPageHeight,m=d.firstPageHeight,f=i.map((function(e,t){return{content:e,height:n[t]}})),g=Ft(f,{columnsCount:a,columnBreakOnParagraph:l,normalPageHeight:p,firstPageHeight:m}),r(g);case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Kt(i,r,o,a,l,"next",e)}function l(e){Kt(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}})()()}),[i,o,a,l,s,c,u]);var d=n.map((function(e,t){return G.createElement(Nt,{key:t,pageHeader:0===t?G.createElement(jt,{title:o}):null,allColumnsLines:At(a,e),documentSize:s,documentMargins:c,printFontSize:u})}));return G.createElement(G.Fragment,null,d)}Zt.propTypes={title:Y().string.isRequired,allLines:Y().arrayOf(Y().string).isRequired,columnsCount:Y().number.isRequired,columnBreakOnParagraph:Y().bool.isRequired,documentSize:Y().string.isRequired,documentMargins:Y().number.isRequired,printFontSize:Y().number.isRequired};const Qt=Zt;function en(e){var t=e.selectedFile,n=e.highlightChords,r=Ke()(e,["alignBars","harmonizeAccidentals","accidentalsType","transposeValue","autoRepeatChords","expandSectionRepeats","useShortNamings","simplifyChords"]),o=et(t.content||"",r).split("\n"),i=["printPreview"];return n&&i.push("cmChordLine--highlightChords"),G.createElement("div",{className:i.join(" "),"data-testid":"printPreview"},G.createElement(Qt,{title:t.title,allLines:o,columnsCount:e.columnsCount,columnBreakOnParagraph:e.columnBreakOnParagraph,documentSize:e.documentSize,documentMargins:e.documentMargins,printFontSize:e.printFontSize}))}en.propTypes={selectedFile:Y().object.isRequired,columnsCount:Y().number.isRequired,columnBreakOnParagraph:Y().bool.isRequired,documentSize:Y().string.isRequired,documentMargins:Y().number.isRequired,printFontSize:Y().number.isRequired,highlightChords:Y().bool.isRequired};const tn=en,nn=(0,V.$j)((function(e){return{columnsCount:Ye(e,"rendering","columnsCount"),columnBreakOnParagraph:Ye(e,"rendering","columnBreakOnParagraph"),documentSize:Ye(e,"rendering","documentSize"),documentMargins:Ye(e,"rendering","documentMargins"),accidentalsType:Ye(e,"rendering","preferredAccidentals"),alignBars:Ye(e,"rendering","alignBars"),harmonizeAccidentals:Ye(e,"rendering","harmonizeAccidentals"),transposeValue:Ye(e,"rendering","transposeValue"),printFontSize:Ye(e,"rendering","printFontSize"),highlightChords:Ye(e,"rendering","highlightChords"),autoRepeatChords:Ye(e,"rendering","autoRepeatChords"),expandSectionRepeats:Ye(e,"rendering","expandSectionRepeats"),useShortNamings:Ye(e,"rendering","useShortNamings"),simplifyChords:Ye(e,"rendering","simplifyChords")}}))(tn);function rn(e){switch(e.editorMode){case"edit":return G.createElement(Ct,e);case"play":return G.createElement(wt,e);case"print":return G.createElement(nn,e);case"export":return G.createElement(Et,e)}}rn.propTypes={editorMode:Y().string.isRequired};const on=rn,an=(0,V.$j)((function(e){return{selectedFile:Te(e,Oe(e))||{},editorMode:ie(e)}}),{updateFile:we})(on);n("TeQF"),n("yq1k"),n("JTJg");function ln(){return(ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function sn(e){var t,n,r,o,i,a,l,s=e.id,c=e.allWidgets,u=e.nonInteractableWidgets,d=e.hiddenWidgets,p=e.setOption,m=e.getEntryComponent,f=["optionsPanel","optionsPanel-"+s],g=c.widgetsOrder.filter((function(e){return!d.includes(e)})).map((function(e){return"optionsGroup"===(t=c.allWidgets[e]).type?(l=t.groupWidgetsOrder.filter((function(e){return!d.includes(e)})).map((function(r){return n=t.allGroupWidgets[r],a=!u.includes(e)&&!u.includes(r),h(r,n,a)})),o=m(t.type),i=!u.includes(e),G.createElement(o,{key:e,isInteractable:i,label:t.label,icon:t.icon},l)):h(e,t,!u.includes(e))}));function h(t,n,o){return r=m(n.type),G.createElement(r,ln({key:t,isInteractable:o,optionContext:n.option.context,optionKey:n.option.key,optionValue:e[n.option.key],setOption:p,label:n.label},n.typeOptions))}return G.createElement("div",{className:f.join(" ")},g)}sn.propTypes={id:Y().string.isRequired,allWidgets:Y().object.isRequired,nonInteractableWidgets:Y().arrayOf(Y().string).isRequired,hiddenWidgets:Y().arrayOf(Y().string).isRequired,setOption:Y().func.isRequired,getEntryComponent:Y().func.isRequired};const cn=sn;function un(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pn(e){var t=un((0,G.useState)(e.isOpened),2),n=t[0],r=t[1],o=e.isInteractable,i=e.icon,a=e.label,l=["sb-optionsGroup"];function s(){return o&&e.children&&e.children.length>0}return s()||l.push("sb-optionsGroup-isNotInteractable"),!n||e.children&&0!==e.children.length||r(!1),G.createElement("div",{className:l.join(" ")},G.createElement("div",{className:"sb-optionsGroup-title",onClick:s()?function(){r(!n)}:null},G.createElement("div",{className:"sb-optionsGroup-label"},G.createElement("span",{className:"sb-optionsGroup-iconTitle"},G.createElement(le,{iconName:i}))," ",a),G.createElement("div",{className:"sb-optionsGroup-toggle"},G.createElement("span",{className:"sb-optionsGroup-iconToggle"},G.createElement(le,{iconName:n?"unfold_less":"unfold_more"})))),G.createElement("div",{className:"sb-optionsGroup-content"},n&&e.children))}pn.propTypes={isOpened:Y().bool,isInteractable:Y().bool.isRequired,icon:Y().string.isRequired,label:Y().string.isRequired,children:Y().arrayOf(Y().element)},pn.defaultProps={isOpened:!0};const mn=pn;function fn(e){var t,n=e.isSelected,r=e.label,o=e.onClick,i=["sb-optionSelectChoice"];return n&&(i.push("sb-optionSelectChoice-isSelected"),t=G.createElement("span",{className:"sb-optionSelectChoice-checkIcon"},G.createElement(le,{iconName:"check"}))),G.createElement("div",{className:i.join(" "),onClick:o},G.createElement("div",{className:"sb-optionSelectChoice-check"},n&&t),G.createElement("div",{className:"sb-optionSelectChoice-label"},r))}fn.propTypes={isSelected:Y().bool.isRequired,label:Y().string.isRequired,onClick:Y().func.isRequired};const gn=G.memo(fn);function hn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vn(e){var t=hn((0,G.useState)(!1),2),n=t[0],r=t[1],o=e.isInteractable,i=e.label,a=e.allChoices,l=e.optionContext,s=e.optionKey,c=e.optionValue,u=e.setOption,d=["sb-optionSelect"];o||d.push("sb-optionSelect-isNotInteractable");var p=n?"keyboard_arrow_down":"keyboard_arrow_right";var m=n?G.createElement("div",{className:"sb-optionSelect-choices"},a.map((function(e){return G.createElement(gn,{key:e.value,label:e.label,isSelected:c===e.value,onClick:function(){return u(l,s,e.value)}})}))):null;return G.createElement("div",{className:d.join(" ")},G.createElement("div",{className:"sb-optionSelect-title",onClick:o?function(){r(!n)}:null},G.createElement("div",{className:"sb-optionSelect-desc"},i),G.createElement("div",{className:"sb-optionSelect-toggle"},G.createElement("span",{className:"sb-optionSelect-icon"},G.createElement(le,{iconName:p})))),m)}vn.propTypes={isInteractable:Y().bool.isRequired,label:Y().string.isRequired,allChoices:Y().array.isRequired,optionContext:Y().string.isRequired,optionKey:Y().string.isRequired,optionValue:Y().string.isRequired,setOption:Y().func.isRequired};const bn=vn;n("qePV"),n("JevA");function Cn(e){var t=e.isInteractable,n=e.label,r=e.min,o=e.max,i=e.showPlusSymbol,a=e.optionContext,l=e.optionKey,s=e.optionValue,c=e.setOption,u=["sb-optionSlider"];t||u.push("sb-optionSlider-isNotInteractable");var d=s>0&&i?"+"+s:s;return G.createElement("div",{className:u.join(" ")},G.createElement("div",{className:"sb-optionSlider-desc"},n),G.createElement("div",{className:"sb-optionSlider-value"},d),G.createElement("div",{className:"sb-optionSlider-range"},G.createElement("input",{min:r,max:o,value:s,type:"range",onChange:t?function(e){c(a,l,Number.parseInt(e.target.value))}:null,disabled:!t})))}Cn.propTypes={isInteractable:Y().bool.isRequired,label:Y().string.isRequired,min:Y().number.isRequired,max:Y().number.isRequired,showPlusSymbol:Y().bool,optionContext:Y().string.isRequired,optionKey:Y().string.isRequired,optionValue:Y().number.isRequired,setOption:Y().func.isRequired},Cn.defaultProps={showPlusSymbol:!0};const On=G.memo(Cn);function En(e){var t=e.isInteractable,n=e.label,r=e.optionContext,o=e.optionKey,i=e.optionValue,a=e.setOption,l=["sb-optionToggle"];return l.push(!0===i?"sb-optionToggle-isOn":"sb-optionToggle-isOff"),t||l.push("sb-optionToggle-isNotInteractable"),G.createElement("div",{className:l.join(" "),onClick:t?function(){a(r,o,!i)}:null},G.createElement("div",{className:"sb-optionToggle-desc"},n),G.createElement("div",{className:"sb-optionToggle-icon"},G.createElement("span",{className:"sb-optionToggle-icon"},G.createElement(le,{iconName:!0===i?"toggle_on":"toggle_off"}))))}En.propTypes={isInteractable:Y().bool.isRequired,label:Y().string.isRequired,optionContext:Y().string.isRequired,optionKey:Y().string.isRequired,optionValue:Y().bool.isRequired,setOption:Y().func.isRequired};const Sn=G.memo(En);function Rn(){return(Rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function wn(e){switch(e){case"optionsGroup":return mn;case"select":return bn;case"slider":return On;case"toggle":return Sn}}function Pn(e){return G.createElement("div",{className:"sb-optionsPanel"},G.createElement(cn,Rn({},e,{getEntryComponent:wn})))}function Nn(){return(Nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var xn=function(e,t,n){if(!e)throw new TypeError("Cannot set an option without a context");if(!t)throw new TypeError("Cannot set an option without a key");return ne(h,{context:e,key:t,value:n})};const jn=function(e,t,n,r){return(0,V.$j)((function(r){var o,i,a={allWidgets:e,nonInteractableWidgets:t(r),hiddenWidgets:n(r)};return e.widgetsOrder.forEach((function(t){"optionsGroup"===(o=e.allWidgets[t]).type?o.groupWidgetsOrder.forEach((function(e){i=o.allGroupWidgets[e],a[i.option.key]=Ye(r,i.option.context,i.option.key)})):a[o.option.key]=Ye(r,o.option.context,o.option.key)})),a}),{setOption:xn})(r)}({widgetsOrder:["style","alignBars","autoRepeatChords","expandSectionRepeats","layout","helpers","chords","format"],allWidgets:{style:{label:"Rendering style",type:"select",typeOptions:{allChoices:[{id:"styleChordMark",label:"ChordMark",value:"chordmark"}]},option:{context:"rendering",key:"style"}},alignBars:{label:"Align bars",type:"toggle",option:{context:"rendering",key:"alignBars"}},autoRepeatChords:{label:"Auto repeat chords",type:"toggle",option:{context:"rendering",key:"autoRepeatChords"}},expandSectionRepeats:{label:"Expand section repeats",type:"toggle",option:{context:"rendering",key:"expandSectionRepeats"}},layout:{type:"optionsGroup",label:"Layout",icon:"view_compact",groupWidgetsOrder:["documentSize","documentMargins","columnsCount","columnBreakOnParagraph"],allGroupWidgets:{documentSize:{label:"Document size",type:"select",typeOptions:{allChoices:[{id:"documentSizeA4",label:"A4",value:"a4"},{id:"documentSizeBooxMax2Pro",label:"Boox Max 2 Pro",value:"booxmax2pro"}]},option:{context:"rendering",key:"documentSize"}},documentMargins:{label:"Margins",type:"slider",typeOptions:{min:1,max:5},option:{context:"rendering",key:"documentMargins"}},columnsCount:{label:"Columns",type:"slider",typeOptions:{min:1,max:4},option:{context:"rendering",key:"columnsCount"}},columnBreakOnParagraph:{label:"Break on paragraph",type:"toggle",option:{context:"rendering",key:"columnBreakOnParagraph"}}}},helpers:{type:"optionsGroup",label:"Helpers",icon:"remove_red_eye",groupWidgetsOrder:["showChords","instrument","showStrummingPattern"],allGroupWidgets:{showChords:{label:"Show chords diagrams",type:"toggle",option:{context:"rendering",key:"showChords"}},instrument:{label:"Instrument",type:"select",typeOptions:{allChoices:[{id:"instrumentGuitar",label:"Guitar",value:"guitar"},{id:"instrumentUkulele",label:"Ukulele",value:"ukulele"},{id:"instrumentMandolin",label:"Mandolin",value:"mandolin"},{id:"instrumentPiano",label:"Piano",value:"piano"}]},option:{context:"rendering",key:"instrument"}},showStrummingPattern:{label:"Show strumming pattern",type:"toggle",option:{context:"rendering",key:"showStrummingPattern"}}}},chords:{type:"optionsGroup",label:"Chords",icon:"music_note",groupWidgetsOrder:["transposeValue","simplifyChords","capoPosition","harmonizeAccidentals","preferredAccidentals","useShortNamings"],allGroupWidgets:{transposeValue:{label:"Transpose",type:"slider",typeOptions:{min:-11,max:11,showPlusSymbol:!0},option:{context:"rendering",key:"transposeValue"}},simplifyChords:{label:"Simplify chords",type:"select",typeOptions:{allChoices:[{id:"simplifyChordsNone",label:"None",value:"none"},{id:"simplifyChordsMax",label:"Max",value:"max"},{id:"simplifyChordsCore",label:"Core",value:"core"}]},option:{context:"rendering",key:"simplifyChords"}},capoPosition:{label:"Add capo on fret",type:"slider",typeOptions:{min:0,max:11,showPlusSymbol:!1},option:{context:"rendering",key:"capoPosition"}},harmonizeAccidentals:{label:"Harmonize accidentals",type:"toggle",option:{context:"rendering",key:"harmonizeAccidentals"}},preferredAccidentals:{label:"Preferred accidentals",type:"select",typeOptions:{allChoices:[{id:"preferredAccidentalsAuto",label:"Auto",value:"auto"},{id:"preferredAccidentalsSharp",label:"Sharp (#)",value:"sharp"},{id:"preferredAccidentalsFlat",label:"Flats (b)",value:"flat"}]},option:{context:"rendering",key:"preferredAccidentals"}},useShortNamings:{label:"Use short names",type:"toggle",option:{context:"rendering",key:"useShortNamings"}}}},format:{type:"optionsGroup",label:"Format",icon:"format_size",groupWidgetsOrder:["fontSize","printFontSize","fontStyle","chordsColor","highlightChords"],allGroupWidgets:{fontSize:{label:"Font size",type:"slider",typeOptions:{min:-5,max:5,showPlusSymbol:!0},option:{context:"rendering",key:"fontSize"}},printFontSize:{label:"Font size (print)",type:"slider",typeOptions:{min:-5,max:5,showPlusSymbol:!0},option:{context:"rendering",key:"printFontSize"}},fontStyle:{label:"Font style",type:"select",typeOptions:{allChoices:[{id:"fontStyleRoboto",label:"Roboto",value:"roboto"}]},option:{context:"rendering",key:"fontStyle"}},chordsColor:{label:"Chords color",type:"select",typeOptions:{allChoices:[{id:"chordsColor",label:"Base",value:"base"},{id:"chordsColorRed",label:"Red",value:"red"},{id:"chordsColorYellow",label:"Yellow",value:"yellow"},{id:"chordsColorGreen",label:"Green",value:"green"}]},option:{context:"rendering",key:"chordsColor"}},highlightChords:{label:"Highlight Chords",type:"toggle",option:{context:"rendering",key:"highlightChords"}}}}}},(function(e){var t=[];switch(ie(e)){case"edit":t.push("helpers"),t.push("layout"),t.push("style"),t.push("format");break;case"play":t.push("documentSize"),t.push("documentMargins"),t.push("columnBreakOnParagraph");break;case"print":t.push("chordsColor");break;case"export":t.push("format"),t.push("layout")}return t}),(function(e){var t=[],n=ie(e);return Ye(e,"rendering","harmonizeAccidentals")||t.push("preferredAccidentals"),"print"===n?t.push("fontSize"):t.push("printFontSize"),t.push("helpers"),t.push("capoPosition"),t}),(function(e){return G.createElement("div",{className:"renderingOptionsPanel"},G.createElement("div",{className:"renderingOptionsPanel-isCollapsed"},G.createElement("span",{className:"renderingOptionsPanel-icon"},G.createElement(le,{iconName:"settings"}))),G.createElement("div",{className:"renderingOptionsPanel-isExpanded"},G.createElement(Pn,Nn({},e,{id:"rendering"}))))}));function qn(){var e=G.createElement(Ue,null),t=G.createElement(jn,null);return G.createElement(Ce,{leftBar:e,rightBar:t},G.createElement(an,null))}var kn=[{path:"/editor",action:function(){return qn}}],Mn=new D.Z(kn);const Fn=function(e){return Mn.resolve(e).then((function(e){return t=e,void H.render(G.createElement(V.zt,{store:I},G.createElement(G.StrictMode,null,G.createElement(te,null,G.createElement(t,null)))),document.getElementById("app"));var t}))};W(),Fn("/editor")}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.x=e=>{},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={179:0},t=[["6g7X",216]],r=e=>{},o=(o,i)=>{for(var a,l,[s,c,u,d]=i,p=0,m=[];p<s.length;p++)l=s[p],n.o(e,l)&&e[l]&&m.push(e[l][0]),e[l]=0;for(a in c)n.o(c,a)&&(n.m[a]=c[a]);for(u&&u(n),o&&o(i);m.length;)m.shift()();return d&&t.push.apply(t,d),r()},i=self.webpackChunk_touffi_chords_charts_studio=self.webpackChunk_touffi_chords_charts_studio||[];function a(){for(var r,o=0;o<t.length;o++){for(var i=t[o],a=!0,l=1;l<i.length;l++){var s=i[l];0!==e[s]&&(a=!1)}a&&(t.splice(o--,1),r=n(n.s=i[0]))}return 0===t.length&&(n.x(),n.x=e=>{}),r}i.forEach(o.bind(null,0)),i.push=o.bind(null,i.push.bind(i));var l=n.x;n.x=()=>(n.x=l||(e=>{}),(r=a)())})(),n.x()})();
//# sourceMappingURL=main.440f6e69a5581070fd3c.js.map