!function(e){function n(n){for(var r,i,s=n[0],d=n[1],l=n[2],c=0,h=[];c<s.length;c++)i=s[c],o[i]&&h.push(o[i][0]),o[i]=0;for(r in d)Object.prototype.hasOwnProperty.call(d,r)&&(e[r]=d[r]);for(u&&u(n);h.length;)h.shift()();return a.push.apply(a,l||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],r=!0,s=1;s<t.length;s++){var d=t[s];0!==o[d]&&(r=!1)}r&&(a.splice(n--,1),e=i(i.s=t[0]))}return e}var r={},o={0:0},a=[];function i(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=e,i.c=r,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)i.d(t,r,function(n){return e[n]}.bind(null,r));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="/";var s=window.webpackJsonp=window.webpackJsonp||[],d=s.push.bind(s);s.push=n,s=s.slice();for(var l=0;l<s.length;l++)n(s[l]);var u=d;a.push(["Vtdi",1]),t()}({Vtdi:function(e,n,t){"use strict";t.r(n);var r=t("b/sn"),o=t("cD+i"),a=t("byeC"),i=t("VuzU"),s=t("++pP"),d=t("Mhoe");function l(e){return new r.Plugin({key:"onStateChange",view:()=>({update(n){e.emit("statechange",n.state)}})})}var u=t("n5wB");var c=new a.Schema({nodes:u.schema.spec.nodes,marks:u.schema.spec.marks});var h=t("cjKa");t("Qe33");var b=t("PIqb");function m(e,n=" "){return e.replace(/  +/g,n)}var p=t("LvDl"),y=t.n(p);class w extends Error{constructor({string:e,symbol:n,duration:t,beatCount:r,beatsPerBar:o}={}){if(!e||!y.a.isString(e))throw new TypeError("InvalidChordRepetitionException cannot be created without chord string, received: "+e);if(!n||!y.a.isString(n))throw new TypeError("InvalidChordRepetitionException cannot be created without chord symbol, received: "+n);if(!t||!y.a.isFinite(t))throw new TypeError("InvalidChordRepetitionException cannot be created without chord duration, received: "+t);if(!r||!y.a.isFinite(r))throw new TypeError("InvalidChordRepetitionException cannot be created without beatCount, received: "+r);if(!o||!y.a.isFinite(o))throw new TypeError("InvalidChordRepetitionException cannot be created without beatsPerBar, received: "+o);super(),this.name="IncorrectBeatCountException",this.string=e,this.symbol=n,this.duration=t,this.beatCount=r,this.beatsPerBar=o}}class f extends Error{constructor({string:e,symbol:n}={}){if(!e||!y.a.isString(e))throw new TypeError("InvalidChordRepetitionException cannot be created without chord string, received: "+e);if(!n||!y.a.isString(n))throw new TypeError("InvalidChordRepetitionException cannot be created without chord symbol, received: "+n);super(),this.name="InvalidChordRepetitionException",this.string=e,this.symbol=n}}const g={0:{"":[]},3:{3:[3],12:[2,4],21:[6,0],111:[2,2,0]},4:{4:[3],13:[1,4],22:[3,2],31:[5,0],112:[1,1,3],121:[1,4,0],211:[4,1,0],1111:[2,2,2]}};var v={render(e,{chordRenderer:n}={}){let t=0;if(r=n,!y.a.isObject(r)||!y.a.isFunction(r.render))throw new TypeError("chordRenderer is not a valid renderer");var r;return e.allChords.reduce((e,r)=>(t=y.a.isFinite(r.spacesAfter)?r.spacesAfter:2,e+=n.render(r.symbol)+" ".repeat(t)),"")}};const A=new b.Chords;var C={render:e=>A.print(A.parse(e).symbol)};const E=new b.Chords;function _(e){return m(e," ").trim().split(" ").every(e=>E.isChord(e.replace(/\./g,"")))}function I(e){const n=e.split("\n").map(e=>({content:e,type:_(e)?"chord":"text"})).map(e=>{if("chord"===e.type)try{const n=function(e){const n=y.a.cloneDeep(e);let t=0,r="",o=[];return n.allBars.forEach(e=>{t=0,r="",e.allChords.forEach(e=>{r+=e.duration.toString(),t+=e.duration}),o=g[t][r];for(let n=0;n<r.length;n++)e.allChords[n].spacesAfter=o[n]}),n}(function(e,{beatsPerBar:n=4}={}){const t=m(e).trim().split(" "),r=[];let o={allChords:[]},a={},i=0,s=0,d={};if(t.forEach(e=>{if(a={string:e,duration:(e.match(/\./g)||[]).length||n,symbol:e.replace(/\./g,"")},i+=a.duration,o.allChords.length>0&&(d=o.allChords[o.allChords.length-1]).symbol===a.symbol)throw new f({string:a.string,symbol:a.symbol});if(o.allChords.push(a),s++,i===n)r.push(y.a.cloneDeep(o)),o={allChords:[]},i=0,d={};else if(i>n)throw new w({message:"",string:a.string,symbol:a.symbol,duration:a.duration,beatCount:i,beatsPerBar:n})}),i>0&&i<n)throw new w({message:"",string:a.string,symbol:a.symbol,duration:a.duration,beatCount:i,beatsPerBar:n});return{chordCount:s,allBars:r}}(e.content)).allBars.map(e=>(e.rendered=v.render(e,{chordRenderer:C}),e.rendered));e.rendered="| "+n.join(" | ")+" |"}catch(n){if(n instanceof f)console.log("A chord cannot follow himself in the same bar: "+n.string);else{if(!(n instanceof w))throw n;n.beatCount>n.beatsPerBar?console.log(`Duration of chord ${n.string} is too long for current bar`):console.log(`Bar has insufficient beat count: increase ${n.string} duration or add another chord`)}e.rendered=e.content}else e.rendered=e.content;return e});return{render:()=>n.map(e=>e.rendered).join("\n"),toString(){return this.render()}}}var M="A A\nYou don't have to be beautiful\nA A\nTo turn me on\nA A\nI just need your body, baby\nA A\nFrom dusk till dawn\n\nD D\nYou don't need experience\nD D\nTo turn me out\nA A\nYou just leave it all up to me\nA A\nI'm gonna show you what it's all about\n\nE E\nYou don't have to be rich to be my girl\nD D\nYou don't have to be cool to rule my world\nE E\nAin't no particular sign I'm more compatible with\nD D\nI just want your extra time and your...Kiss\n\nA A\nYou got to not talk dirty, baby\nA A\nIf you wanna impress me\nA A\nYou can't be too flirty, Mama\nA A\nI know how to undress me, yeah\n\nD D\nI want to be your fantasy\nD D\nMaybe you could be mine?\n\nA A\nYou just leave it all up to me\nA A\nWe could have a good time\n\nChorus\n\nI think I wanna dance\n\nA A\nWomen, not girls, rule my world\nA A\nI said they rule my world\nA A\nAct your age, Mama! Not your shoe size(Not your shoe size)\nA A\nMaybe we could do the twirl\n\nD D\nYou don't have to watch Dynasty\nD D \nTo have an attitude (Uh)\nA A\nYou just leave it all up to me\nA A\nMy love... will be your food\n\nChorus";const B=function(e){const n=new h.EventEmitter2,t=function(e){return[Object(d.history)(),Object(i.keymap)({"Mod-z":d.undo,"Mod-y":d.redo}),Object(i.keymap)(s.baseKeymap),l(e)]}(n);let u;return n.on("statechange",e=>{n.emit("change",function(e){return e.toJSON().doc.content.map(e=>e.content?e.content.reduce((e,n)=>e+=n.text,""):"")}(e))}),Object.assign(n,{load(i){const s=r.EditorState.create({doc:a.DOMParser.fromSchema(c).parse(i),plugins:t});u?u.updateState(s):u=new o.EditorView(e,{state:s}),n.emit("statechange",s)}})}(document.querySelector("#editor")),D=document.querySelector("#rendered-song");function j(e){const n=document.createElement("div");return n.innerHTML=e.split("\n").map(e=>`<p>${e}</p>`).join(""),n}B.on("change",e=>{const n=I(e.join("\n"));D.innerHTML=n.toString()}),B.load(j(M)),document.querySelector(".song-selector").addEventListener("change",e=>{switch(e.target.value){case"kiss":B.load(j(M));break;case"world":B.load(j("# Intro\nAb.. Cm.. Bb\n\nAb.. Cm..\n_ If I ruled _ the world,\nBb\n_ Every day would be the first day of\nAb.. Cm..\nspring _\nBb\n_ Every heart would have a\nEb/G.. Ab..\nnew song _ to sing,\nCm7/4 EbM7/Bb Bb9\n_ And we'd sing of the _joy every morning would bring _\n\nAb.. Cm..\n_ If I ruled _ the world,\nBb\n_ Every man would be as free as a\nAb.. Cm..\nbird.\nBb\n_ Every voice would be a\nEb/G.. Ab..\nvoice to be _heard,\nCm EbM7/Bb Eb6/Bb.. Bb9. F/G.\n_ Take my word we would _treasure each day that oc_curred _ _\n\n\nCM.. Dm7/C.. FM9/C.. CM9. Dm7/C.\nMy world _ would be a _beautiful place _ _\nCM.. CM9.. Fm7.. Fm7/Bb..\nWhere we would _weave _ such wonderful _dreams _\n\nEbM.. Fm9/Eb.. EbM.. Fm9/Eb..\nMy _ world _ would wear a _smile on its _face,\nCm7.. Cm6.. Am7/5b. D7. Fm7. AbM9/Bb.\nLike the _man and the _moon has, _when _the moon _ _ beams _\n\nAb.. Cm.. Bb\n\nIf I ruled the world,\nEvery man would see the world was his friend. Yeah\nThere'd be happiness that no man could end,\nNo my friend, not if I ruled the world.\nEvery hand would be held up high,\nThere'd be sunshine in everyone's sky.\nIf the day ever dawned,\nWill I rule the world.\nEvery hand would be held up high,\nEvery star would shine in everyone's sky.\nIf the day ever dawned,\nWill I rule the world."))}})}});
//# sourceMappingURL=main.4ae3b1d4d84c50224879.js.map