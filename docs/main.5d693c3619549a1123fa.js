(()=>{"use strict";var e,t={"1mQe":(e,t,n)=>{var r=n("P4Tr"),o=n.n(r),i=n("m14p"),a=n("5HXA"),s=n("sINF"),l=n("R0vF"),c=(n("yq1k"),n("tkto"),n("pNMO"),n("TeQF"),n("07d7"),n("5DmW"),n("FZtP"),n("27RR"),n("JZM8")),u=n.n(c);function p(){return Date.now()}var d="db/files/Create",m="db/files/Delete",f="db/files/Import",g="db/files/Update",h="db/options/setOptionValue",y="ui/layout/app/setEditorMode",b="ui/layout/app/toggleLeftBar",v="ui/layout/app/toggleRightBar",O=function(e){return e.ui.layout.app.isLeftBarCollapsed},C=function(e){return e.ui.layout.app.isRightBarCollapsed},E=function(e){return e.ui.layout.app.editorMode},w=function(e){return e.fileManager.selected},P=function(e){return e.fileManager.renamed},S=function(e){return e.fileManager.defaultTitle},R=(n("ToJy"),n("zKZe"),n("3WF5")),F=n.n(R),j=n("BkRI"),N=n.n(j),q=n("Y+p1"),x=n.n(q),k=n("xweI"),I=n.n(k),M=n("G4qV"),A=n("EsgF");function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=(0,M.wN)(A.PW,x())((function(e){return F()(e.db.files.allFiles,(function(e){return{title:e.title,id:e.id}}))}),(function(e){return I()(e,(function(e){return e.title.toLowerCase()}))})),D=function(e,t){return e.db.files.allFiles[t]},_=function(e,t,n){var r=e.db.files.allFiles[t];if(r&&(r.options||{})[n]){if(0===Object.keys(r.options[n]).length)return;return N()(r.options[n])}},W=function(e,t){var n=e.db.files.allFiles[t];if(n){var r=n.options||{},o=[];if(r.edit&&o.push(B({},r.edit)),r.play&&o.push(B({},r.play)),r.print&&o.push(B({},r.print)),r.export&&o.push(B({},r.export)),o.length)return o.sort((function(e,t){return e.updatedAt-t.updatedAt})),o.reduce((function(e,t){return Object.assign(e,t)}),{})}};const H={edit:[],play:["chordsAndLyricsDisplay","alignChordsWithLyrics","harmonizeAccidentals","preferredAccidentals","useShortNamings","simplifyChords","transposeValue","alignBars","autoRepeatChords","expandSectionMultiply","columnsCount","fontSize","fontStyle","chordsColor","highlightChords"],print:["chordsAndLyricsDisplay","alignChordsWithLyrics","harmonizeAccidentals","preferredAccidentals","useShortNamings","simplifyChords","transposeValue","alignBars","autoRepeatChords","expandSectionMultiply","documentSize","documentMargins","columnsCount","columnBreakOnParagraph","printFontSize","fontStyle","chordsColor","highlightChords"],export:["chordsAndLyricsDisplay","alignChordsWithLyrics","harmonizeAccidentals","preferredAccidentals","useShortNamings","simplifyChords","transposeValue","style","alignBars","autoRepeatChords","expandSectionMultiply"]};function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U={allFiles:{}};function $(e,t){var n=t.payload,r=n.id,o=n.title,i=n.content,a=V({},e.allFiles);return a[r]={id:r,title:o,content:i},V(V({},e),{},{allFiles:a})}function K(e,t){var n=t.payload,r=n.id,o=n.title,i=n.content;if(!o&&!i||!e.allFiles[r])return e;var a=V({},e.allFiles);return a[r]=V({},a[r]),o&&(a[r].title=o),i&&(a[r].content=i),V(V({},e),{},{allFiles:a})}function J(e,t){var n=t.payload.id;if(!n||!e.allFiles[n])return e;var r=V({},e.allFiles);return delete r[n],V(V({},e),{},{allFiles:r})}function Y(e,t,n){var r=t.payload,o=r.context,i=r.key,a=r.value,s=w(n),l=V({},e.allFiles);if(["songFormatting","songPreferences"].includes(o)&&l[s]){var c=E(n),u="songPreferences"===o?"preferences":c;return l[s]=function(e,t,n,r){return V(V({},e),{},{options:V(V({},e.options),{},Z({},t,V(V({},(e.options||{})[t]),{},Z({updatedAt:p()},n,r))))})}(l[s],u,i,a),V(V({},e),{},{allFiles:l})}return e}function X(e,t,n){var r=w(n),o=t.payload.mode;if(!!!_(n,r,o)){var i=u()(W(n,r)||{},H[o]);if(Object.keys(i).length){i.updatedAt=p();var a=V({},e.allFiles);return a[r]=V(V({},a[r]),{},{options:V(V({},a[r].options),{},Z({},o,i))}),V(V({},e),{},{allFiles:a})}}return e}n("4mDm"),n("3bBZ");var Q="fileManager/select",ee="fileManager/enableRename",te=function(e,t,n){if(e.db.options[t]&&e.db.options[t].values&&void 0!==e.db.options[t].values[n])return e.db.options[t].values[n]},ne=function(e,t){if(e.db.options[t]&&e.db.options[t].defaults)return N()(e.db.options[t].defaults)};function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ae={};function se(e,t){var n=t.payload,r=n.context,o=n.key,i=n.value;if(!e[r]||!e[r].values||void 0===e[r].values[o])return e;var a=oe(oe({},e),{},ie({},r,oe(oe({},e[r]),{},{values:oe({},e[r].values)})));return a[r].values[o]=i,a}function le(e,t,n){var r=ce(n,w(n),t.payload.mode);return oe(oe({},e),{},{songFormatting:oe(oe({},e.songFormatting),{},{values:oe({},r)})})}function ce(e,t,n){var r=ne(e,"songFormatting"),o=_(e,t,n);return o||(o=W(e,t)||{}),delete o.updatedAt,Object.assign(r,o)}function ue(e,t,n){var r=t.payload.id,o=ce(n,r,E(n)),i=_(n,r,"preferences")||{};delete i.updatedAt;var a=ne(n,"songPreferences"),s=Object.assign(a,i);return oe(oe({},e),{},{songPreferences:oe(oe({},e.songPreferences),{},{values:oe({},s)}),songFormatting:oe(oe({},e.songFormatting),{},{values:oe({},o)})})}const pe=(0,l.Z)({files:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};switch(t.type){case d:case f:return $(e,t);case g:return K(e,t);case m:return J(e,t);case h:return Y(e,t,n);case y:return X(e,t,n)}return e},options:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};switch(t.type){case h:return se(e,t);case y:return le(e,t,n);case Q:return ue(e,t,n)}return e}});function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ge={selected:"",renamed:"",defaultTitle:"[untitled]"};var he="songImporter/import/cancel",ye="songImporter/import/start",be="songImporter/setContent",ve="songImporter/setInputFormat",Oe=n("wMS7"),Ce=n.n(Oe);function Ee(e){return Ce().sanitize(e,{ALLOWED_TAGS:["#text"],KEEP_CONTENT:!0})}function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){Se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Re={content:"",isFromWeb:!1,isImporting:!1,inputFormat:"basic",title:""};function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qe={isLeftBarCollapsed:!1,isRightBarCollapsed:!1,editorMode:"edit",activeModal:"none"};const xe=(0,l.Z)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case b:return je(je({},e),{},{isLeftBarCollapsed:!e.isLeftBarCollapsed});case v:return je(je({},e),{},{isRightBarCollapsed:!e.isRightBarCollapsed});case y:var n=t.payload.mode;return je(je({},e),{},{editorMode:n});case m:case d:case f:return je(je({},e),{},{editorMode:"edit"})}return e}}),ke=(0,l.Z)({layout:xe}),Ie=(0,l.Z)({db:pe,fileManager:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case d:var n=t.payload.id;return me(me({},e),{},{selected:n,renamed:n});case f:var r=t.payload.id;return me(me({},e),{},{selected:r,renamed:""});case g:return me(me({},e),{},{renamed:""});case m:return me(me({},e),{},{selected:"",renamed:""});case Q:var o=t.payload.id;return me(me({},e),{},{selected:o,renamed:o===e.renamed?o:""});case ee:var i=t.payload.id;return me(me({},e),{},{renamed:i})}return e},songImporter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case be:var n=t.payload,r=n.content,o=n.title,i=void 0===o?"":o;return Pe(Pe({},e),{},{content:Ee(r),title:i?Ee(i):e.title});case ve:var a=t.payload.inputFormat;return Pe(Pe({},e),{},{inputFormat:a});case f:case he:return Pe(Pe({},e),{},{content:"",title:"",isImporting:!1});case ye:var s=t.payload,l=s.content,c=s.inputFormat,u=s.title,p=s.isFromWeb;return Pe(Pe({},e),{},{isImporting:!0,content:l?Ee(l):"",title:u?Ee(u):"",inputFormat:c||e.inputFormat,isFromWeb:p})}return e},ui:ke}),Me={db:{options:{songPreferences:{values:{chordsAndLyricsDisplay:"all",alignChordsWithLyrics:!0,harmonizeAccidentals:!0,preferredAccidentals:"auto",useShortNamings:!0,simplifyChords:"none",transposeValue:0},defaults:{chordsAndLyricsDisplay:"all",alignChordsWithLyrics:!0,harmonizeAccidentals:!0,preferredAccidentals:"auto",useShortNamings:!0,simplifyChords:"none",transposeValue:0}},songFormatting:{values:{style:"chordmark",alignBars:!0,autoRepeatChords:!0,expandSectionMultiply:!0,documentSize:"a4",documentMargins:3,columnsCount:1,columnBreakOnParagraph:!0,fontSize:0,printFontSize:0,fontStyle:"roboto",chordsColor:"yellow",highlightChords:!0},defaults:{style:"chordmark",alignBars:!0,autoRepeatChords:!0,expandSectionMultiply:!0,documentSize:"a4",documentMargins:3,columnsCount:1,columnBreakOnParagraph:!0,fontSize:0,printFontSize:0,fontStyle:"roboto",chordsColor:"yellow",highlightChords:!0}}}}};var Ae;function Te(){var e=(0,a.Uo)((0,i.md)(s.Z)),t=function(){try{var e=localStorage.getItem("state");if(!e)return;return JSON.parse(e)}catch(e){return}}(),n=o()(t,Me);(Ae=(0,i.MT)(Ie,n,e)).subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(e){}}(Ae.getState())}))}function Be(){return Ae}function Le(e,t){if(!e)throw new TypeError("Cannot create an action without an action type");return{type:e,payload:t}}var ze={"@CCS/IMPORT_TAB":function(e){var t=Be(),n=De(e.title,e.artist);t.dispatch(function(e,t,n){return Le(ye,{content:t,inputFormat:e,title:n,isFromWeb:!0})}(e.source,e.chordChart,n))}},De=function(e,t){var n=e;return t&&(n+=" - "+t),n};function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var He=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){We(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ze);if(e.source!==window||e.origin!==window.location.origin)return!1;var n=e.data;return"function"==typeof t[n.type]&&t[n.type](n.payload),!0},Ge=n("9Mdx"),Ve=n("q1tI"),Ze=n("i8i4"),Ue=n("rL7s"),$e=(n("JfAA"),n("NBAS"),n("SuFq"),n("4Brf"),n("0oug"),n("PKPk"),n("17x9")),Ke=n.n($e);function Je(e){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je(e)}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xe(e,t){return Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xe(e,t)}function Qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tt(e);if(t){var o=tt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return et(this,n)}}function et(e,t){if(t&&("object"===Je(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function tt(e){return tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},tt(e)}var nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(i,e);var t,n,r,o=Qe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={error:null,errorInfo:null},t}return t=i,(n=[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.errorInfo?Ve.createElement("div",{className:"ErrorBoundary"},Ve.createElement("h2",null,"Something went wrong"),Ve.createElement("details",{style:{whiteSpace:"pre-wrap"},open:!0},this.state.error&&this.state.error.toString(),Ve.createElement("br",null),this.state.errorInfo.componentStack)):this.props.children}}])&&Ye(t.prototype,n),r&&Ye(t,r),i}(Ve.Component);nt.propTypes={children:Ke().any};const rt=nt;n("oVuX");function ot(e){var t=e.iconName;return Ve.createElement("i",{className:["icon","material-icons"].join(" ")},t)}ot.propTypes={iconName:Ke().string.isRequired};const it=Ve.memo(ot);function at(){return Ve.createElement("div",{className:"logo"},Ve.createElement("div",{className:"logo-isCollapsed"},Ve.createElement(it,{iconName:"queue_music"})),Ve.createElement("div",{className:"logo-isExpanded"},Ve.createElement("span",{className:"logo-icon"},Ve.createElement(it,{iconName:"queue_music"})),"Chords Charts Studio"))}const st=Ve.memo(at);n("2B1R");function lt(e){var t=e.label,n=e.icon,r=e.editorMode,o=e.setEditorMode,i=e.isActive,a=e.isDisabled,s=["mainNavEntry"];return i&&s.push("mainNavEntry-isActive"),a&&s.push("mainNavEntry-isDisabled"),Ve.createElement("li",{className:s.join(" "),onClick:function(){a||o(r)}},Ve.createElement("span",{className:"mainNavEntry-icon"},Ve.createElement(it,{iconName:n})),t)}lt.propTypes={label:Ke().string.isRequired,icon:Ke().string.isRequired,editorMode:Ke().string.isRequired,setEditorMode:Ke().func.isRequired,isActive:Ke().bool.isRequired,isDisabled:Ke().bool.isRequired};const ct=Ve.memo(lt);function ut(){return ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ut.apply(this,arguments)}function pt(e){var t=e.currentMode,n=e.allEntries,r=e.setEditorMode,o=e.selectedId;return Ve.createElement("nav",{className:"mainNav"},Ve.createElement("ul",{className:"mainNav-entries"},n.map((function(e,n){return Ve.createElement(ct,ut({key:n,isActive:!!o&&e.editorMode===t,isDisabled:!o,setEditorMode:r},e))}))))}pt.propTypes={currentMode:Ke().string.isRequired,setEditorMode:Ke().func.isRequired,selectedId:Ke().string,allEntries:Ke().arrayOf(Ke().shape({id:Ke().string.isRequired,label:Ke().string.isRequired,icon:Ke().string.isRequired,editorMode:Ke().string.isRequired}))};const dt=Ve.memo(pt);function mt(){var e={"chord-charts-studio":"v0.8.3","chord-symbol":"v2.1.0","chord-mark":"v0.6.1"};return Ve.createElement("div",{className:"appFooter"},"Chords Charts Studio ",e["chord-charts-studio"],"- ChordMark"," ",e["chord-mark"],"- ChordSymbol ",e["chord-symbol"])}const ft=Ve.memo(mt);var gt=n("NiUT"),ht=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=t.content;if(!e)throw new TypeError("Cannot update a file without an id");var o={id:e,title:n,content:r};return Le(g,o)},yt=function(e){return e.songImporter.content},bt=function(e){return e.songImporter.inputFormat},vt=function(e){return e.songImporter.title},Ot=function(e){return e.songImporter.isImporting},Ct=function(e){return e.songImporter.isFromWeb};function Et(e){var t=e.children,n=e.closeModal;return(0,Ve.useEffect)((function(){var e=function(e){"Escape"===e.key&&n()};return window.addEventListener("keyup",e),function(){window.removeEventListener("keyup",e)}})),Ve.createElement("section",{className:"mod-ModalContainer"},Ve.createElement("div",{className:"mod-Overlay",onClick:n,"data-testid":"modal-overlay"}),Ve.createElement("div",{className:"mod-ContentContainer"},t))}Et.propTypes={children:Ke().element.isRequired,closeModal:Ke().func.isRequired};const wt=Et;var Pt=function(e){var t=e.children,n=e.isDisabled,r=e.buttonName,o=e.onClick,i=e.type,a=["Button"];return"primary"===i&&a.push("Button-primary"),"secondary"===i&&a.push("Button-secondary"),n&&a.push("Button-isDisabled"),Ve.createElement("button",{className:a.join(" "),disabled:n,type:"button",name:r,onClick:o},t)};Pt.propTypes={children:Ke().string.isRequired,isDisabled:Ke().bool,buttonName:Ke().string.isRequired,type:Ke().string.isRequired,onClick:Ke().func.isRequired},Pt.defaultProps={isDisabled:!1};const St=Pt;var Rt=function(e){var t=e.cancelImport,n=e.chordMarkContent,r=e.importFile,o=e.title,i=e.content,a=e.error,s=o?'Import "'+o+'"':"Import song";return Ve.createElement("div",{className:"sim-Header_Container"},Ve.createElement("div",{className:"sim-Header_Title"},s),Ve.createElement("div",{className:"sim-Header_Actions"},Ve.createElement(St,{onClick:t,buttonName:"cancel",type:"secondary"},"CANCEL"),Ve.createElement(St,{onClick:function(){r(o||"[untitled]",n)},buttonName:"import",type:"primary",isDisabled:""===i||""!==a},"IMPORT")))};Rt.propTypes={cancelImport:Ke().func.isRequired,chordMarkContent:Ke().string,content:Ke().string,error:Ke().string,importFile:Ke().func.isRequired,title:Ke().string};const Ft=Rt;n("5s+n"),n("sMBO");var jt=n("zuWl"),Nt=n.n(jt),qt=function(e){return e.name.substr(0,e.name.lastIndexOf("."))},xt=function(e){return e.size>51200},kt=function(e){return 0===e.type.indexOf("text")||0===e.type.length},It=function(e){return"The selected file is too big: "+Nt()(e,{round:0})+" (maximum allowed file size is "+Nt()(51200,{round:0})+")."},Mt=function(e){return"Cannot import file of type "+e.type+"."},At=function(){return"No file selected."};const Tt=function(e){return new Promise((function(t,n){if(e.length){var r=e[0];xt(r)?n(It(r.size)):kt(r)?r.text().then((function(e){t({content:e,title:qt(r)})})).catch((function(e){n(e)})):n(Mt(r))}else n(At())}))};var Bt=function(e){var t=e.setContent;return Ve.createElement("div",null,Ve.createElement("label",{htmlFor:"importSong-Input",className:"Button Button-primary"},"Select File"),Ve.createElement("input",{id:"importSong-Input",name:"importSong-Input",type:"file",className:"sim-InputFile_Input",onChange:function(e){Tt(e.target.files).then((function(e){t(e.content,e.title)})).catch((function(e){t(e)}))},accept:"text/*,.cho,.crd,.chopro,.chord,.pro,.txt,.md"}))};Bt.propTypes={setContent:Ke().func.isRequired};const Lt=Bt;function zt(e){var t=e.content,n=e.setContent,r=e.isDisabled,o=["sim-Input_Textarea"];return r&&o.push("sim-Input_Textarea-Disabled"),Ve.createElement(Ve.Fragment,null,Ve.createElement("div",{className:"sim-Input_Header"},Ve.createElement(it,{iconName:"arrow_drop_down"}),"Edit directly below",Ve.createElement(it,{iconName:"arrow_drop_down"})),Ve.createElement("textarea",{className:o.join(" "),onChange:function(e){n(e.target.value)},value:t,disabled:r,"data-testid":"sim-input"}))}zt.propTypes={content:Ke().string.isRequired,isDisabled:Ke().bool.isRequired,setContent:Ke().func.isRequired},zt.defaultProps={};const Dt=zt;function _t(e){var t=e.inputFormat,n=e.error;return Ve.createElement("div",{className:"sim-Preview_Error"},Ve.createElement("p",null,"There was an error when trying to parse the song in the specified input format (",t,").",Ve.createElement("br",null),"Please correct the input or try another format.",Ve.createElement("br",null),"The error was:"),Ve.createElement("p",null,'"',n,'"'),Ve.createElement("p",null,'Hint: most of the time, this is related to an unclosed "[" or "{" or an unsupported ChordPro directive'))}_t.propTypes={error:Ke().string,inputFormat:Ke().string.isRequired},_t.defaultProps={};const Wt=_t;function Ht(e){var t=e.setInputFormat,n=e.inputFormat,r=e.id,o=e.label,i=e.isDisabled,a=["sim-InputFormat_Entry"],s=["sim-InputFormat_Label"];return i&&(a.push("sim-InputFormat_Entry-Disabled"),s.push("sim-InputFormat_Label-Disabled")),Ve.createElement(Ve.Fragment,null,Ve.createElement("input",{className:a.join(" "),type:"radio",name:"inputFormat",id:r,value:r,onChange:function(e){i||t(e.target.value)},checked:n===r}),Ve.createElement("label",{className:s.join(" "),htmlFor:r},o))}Ht.propTypes={setInputFormat:Ke().func.isRequired,inputFormat:Ke().string.isRequired,id:Ke().string.isRequired,label:Ke().string.isRequired,isDisabled:Ke().bool.isRequired},Ht.defaultProps={};const Gt=Ht;var Vt=[{id:"basic",label:"Basic"},{id:"chordpro",label:"ChordPro"},{id:"ultimateGuitar",label:"Ultimate Guitar"}];function Zt(e){var t=e.setInputFormat,n=e.inputFormat,r=e.disableAll,o=Vt.map((function(e){return Ve.createElement(Gt,{setInputFormat:t,id:e.id,key:e.id,label:e.label,inputFormat:n,isDisabled:r})}));return Ve.createElement("div",{className:"sim-InputFormat"},"Input format:",o)}Zt.propTypes={disableAll:Ke().bool.isRequired,setInputFormat:Ke().func.isRequired,inputFormat:Ke().string.isRequired},Zt.defaultProps={};const Ut=Zt;n("rB9j"),n("UxlC");var $t=n("akyv");n("HiXI"),n("SYor"),n("7ueG"),n("pjDv"),n("+2oP");function Kt(e){return function(e){if(Array.isArray(e))return Jt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Yt=[];function Xt(e){return Yt.length=0,Qt(e),Yt.join("\n")}var Qt=function(e){e.bodyParagraphs.map((function(e){en(e),Yt.push("")}))},en=function(e){switch(e.type){case"verse":Yt.push("#v");break;case"chorus":Yt.push("#c")}e.lines.map((function(e){return tn(e)}))},tn=function(e){var t=[nn(e),rn(e),on(e)].filter((function(e){return null!==e})).map((function(e){return e.trimRight()}));Yt.push.apply(Yt,Kt(t))},nn=function(e){return sn(e)?e.items.reduce((function(e,t){return un(t)&&(e+=t.chords.trim()+" "),e}),""):null},rn=function(e){return ln(e)?e.items.reduce((function(e,t){return pn(t)||(e+=" "),un(t)&&(e+="_"),dn(t)&&(e+=" "),e+=t.lyrics.trim(),mn(t)&&(e+=" "),e}),""):null},on=function(e){if(!cn(e))return null;var t=e.items[0].value.toLowerCase().replace(/[- 0-9]/g,"");return an[t]?an[t]:"#"+t},an={adlib:"#a",bridge:"#b",chorus:"#c",interlude:"#u",intro:"#i",introduction:"#i",outro:"#o",prechorus:"#p",solo:"#s"},sn=function(e){return e.items.some((function(e){return e instanceof $t.YN&&e.chords}))},ln=function(e){return e.items.some((function(e){return e instanceof $t.YN&&e.lyrics}))},cn=function(e){return e.items.some((function(e){return e instanceof $t.Vp&&e.isRenderable()}))},un=function(e){return e instanceof $t.YN&&e.chords.trim().length},pn=function(e){return e.lyrics.length},dn=function(e){return e.lyrics.length-e.lyrics.trimLeft().length>=1},mn=function(e){return e.lyrics.trim().length&&e.lyrics.length-e.lyrics.trimRight().length>=1};function fn(e){var t=e.replace(/\r\n/g,"\n").replace(/\t/g," ").replace(/\[\/?ch]/g,"").replace(/\[\/?tab]/g,"");return Xt((new $t.ZP.UltimateGuitarParser).parse(t))}var gn=function(e){if("ultimateGuitar"===e)return fn;var t="chordpro"===e?new $t.ZP.ChordProParser:new $t.ZP.ChordSheetParser;return function(e){return Xt(t.parse(e))}};const hn=function(e,t){return gn(t)(e)};function yn(e){var t=e.cancelImport,n=e.content,r=e.importFile,o=e.isFromWeb,i=e.isImporting,a=e.setContent,s=e.setInputFormat,l=e.inputFormat,c=e.title;if(!i)return null;var u="",p="";try{u=hn(n,l)}catch(e){p=e.message}return Ve.createElement(wt,{closeModal:t},Ve.createElement("div",{className:"sim-SongImporterModal_Container","data-testid":"song-importer"},Ve.createElement(Ft,{cancelImport:t,chordMarkContent:u,content:n,error:p,importFile:r,title:c}),Ve.createElement("div",{className:"sim-TwoColumns_Container"},Ve.createElement("div",{className:"sim-Column_Container"},Ve.createElement(Lt,{setContent:a})),Ve.createElement("div",{className:"sim-Column_Container"},Ve.createElement(Ut,{inputFormat:l,setInputFormat:s,disableAll:!0===o}))),Ve.createElement("div",{className:"sim-TwoColumns_Container sim-TwoColumns_Container-autoHeight"},Ve.createElement("div",{className:"sim-Column_Container"},Ve.createElement(Dt,{content:n,setContent:a,isDisabled:o})),Ve.createElement("div",{className:"sim-Column_Container"},Ve.createElement("div",{className:"sim-Input_Header"},Ve.createElement(it,{iconName:"arrow_drop_down"}),"ChordMark preview",Ve.createElement(it,{iconName:"arrow_drop_down"})),Ve.createElement("div",{className:"sim-Preview_Container","data-testid":"sim-preview"},p?Ve.createElement(Wt,{inputFormat:l,error:p}):u)))))}yn.propTypes={cancelImport:Ke().func.isRequired,content:Ke().string.isRequired,importFile:Ke().func.isRequired,isFromWeb:Ke().bool.isRequired,isImporting:Ke().bool.isRequired,setContent:Ke().func.isRequired,setInputFormat:Ke().func.isRequired,inputFormat:Ke().string.isRequired,title:Ke().string},yn.defaultProps={};const bn=yn,vn=(0,Ue.$j)((function(e){return{content:yt(e),isFromWeb:Ct(e),isImporting:Ot(e),inputFormat:bt(e),title:vt(e)}}),{setContent:function(e,t){return Le(be,{content:e,title:t})},setInputFormat:function(e){return Le(ve,{inputFormat:e})},cancelImport:function(){return Le(he)},importFile:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)throw new TypeError("Cannot import a file without title");var n={id:(0,gt.Z)(),title:e,content:t};return Le(f,n)}})(bn),On=[{id:"edit",label:"Edit",icon:"create",editorMode:"edit"},{id:"play",label:"Play",icon:"music_note",editorMode:"play"},{id:"print",label:"Print / PDF",icon:"print",editorMode:"print"},{id:"export",label:"Export",icon:"save_alt",editorMode:"export"}];function Cn(e){var t=e.editorMode,n=e.isLeftBarCollapsed,r=e.isRightBarCollapsed,o=e.toggleLeftBar,i=e.toggleRightBar,a=e.setEditorMode,s=e.selectedId,l=e.leftBar,c=e.rightBar,u=["leftBar"];n&&u.push("leftBar-isCollapsed");var p=["rightBar"];return r&&p.push("rightBar-isCollapsed"),Ve.createElement("div",{className:"appLayout-wrapper"},Ve.createElement(vn,null),Ve.createElement("section",{className:u.join(" ")},Ve.createElement("div",{className:"leftBar-content",onClick:n?o:null},Ve.createElement(st,null),l),Ve.createElement("div",{className:"leftBar-collapser",onClick:o,"data-testid":"leftBar-collapser"},Ve.createElement("span",{className:"leftBar-collapserIcon"},Ve.createElement(it,{iconName:"keyboard_arrow_left"})))),Ve.createElement("section",{className:"appLayout-main"},Ve.createElement("section",{className:"appLayout-header"},Ve.createElement(dt,{allEntries:On,currentMode:t,setEditorMode:a,selectedId:s})),Ve.createElement("section",{className:"appLayout-content"},e.children),Ve.createElement("section",{className:"appLayout-footer"},Ve.createElement(ft,null))),Ve.createElement("section",{className:p.join(" ")},Ve.createElement("div",{className:"rightBar-collapser",onClick:i,"data-testid":"rightBar-collapser"},Ve.createElement("span",{className:"rightBar-collapserIcon"},Ve.createElement(it,{iconName:"keyboard_arrow_right"}))),Ve.createElement("div",{className:"rightBar-content",onClick:r?i:null},c)))}Cn.propTypes={children:Ke().element,isLeftBarCollapsed:Ke().bool,isRightBarCollapsed:Ke().bool,selectedId:Ke().string,toggleLeftBar:Ke().func.isRequired,toggleRightBar:Ke().func.isRequired,editorMode:Ke().string.isRequired,setEditorMode:Ke().func.isRequired,leftBar:Ke().element.isRequired,rightBar:Ke().element.isRequired},Cn.defaultProps={isLeftBarCollapsed:!1,isRightBarCollapsed:!1};const En=Cn,wn=(0,Ue.$j)((function(e){return{editorMode:E(e),isLeftBarCollapsed:O(e),isRightBarCollapsed:C(e),selectedId:w(e)}}),{toggleLeftBar:function(){return Le(b)},toggleRightBar:function(){return Le(v)},setEditorMode:function(e){return Le(y,{mode:e})}})(En);function Pn(e){var t=e.icon,n=e.text,r=e.action;return Ve.createElement("span",{className:"fileManagerAction",onClick:r},Ve.createElement("span",{className:"fileManagerAction-icon"},Ve.createElement(it,{iconName:t})," ",n))}Pn.propTypes={icon:Ke().string.isRequired,text:Ke().string.isRequired,action:Ke().func.isRequired};const Sn=Ve.memo(Pn);function Rn(){return Rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rn.apply(this,arguments)}function Fn(e){var t=e.createFile,n=e.deleteFile,r=e.enableRename,o=[{icon:"upload",text:"Import",action:e.startImport},{icon:"add_circle",text:"New",action:t},{icon:"create",text:"Rename",action:r},{icon:"delete",text:"Delete",action:n}];return Ve.createElement("div",{className:"fileManager-actionsList"},o.map((function(e,t){return Ve.createElement(Sn,Rn({},e,{key:t}))})))}Fn.propTypes={createFile:Ke().func.isRequired,deleteFile:Ke().func.isRequired,enableRename:Ke().func.isRequired,startImport:Ke().func.isRequired};const jn=Ve.memo(Fn);function Nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xn(e){var t=Nn((0,Ve.useState)(e.title),2),n=t[0],r=t[1],o=e.fileId,i=e.isSelected,a=e.isRenamed,s=e.defaultTitle,l=e.selectFile,c=e.enableRename,u=e.updateFile,p=["fileManagerEntry"];i&&p.push("fileManagerEntry-isSelected"),a&&p.push("fileManagerEntry-isRenamed");var d=Ve.createRef();function m(e){u(o,{title:e=e||s}),r(e),d.current.scrollLeft=0}return(0,Ve.useEffect)((function(){a&&d.current.focus()}),[a,d]),Ve.createElement("li",{className:p.join(" "),onClick:function(){i||l(o)},onDoubleClick:function(e){a||(c(o),e.target.select())}},Ve.createElement("input",{className:"fileManagerEntry-input",ref:d,type:"text",value:n,readOnly:a?null:"readOnly",autoFocus:a?"autoFocus":null,onChange:function(e){r(e.target.value)},onBlur:function(e){a&&m(e.target.value)},onFocus:function(e){a&&e.target.select()},onKeyPress:function(e){a&&13===e.which&&(e.preventDefault(),window.getSelection().removeAllRanges(),m(e.target.value))}}))}xn.propTypes={title:Ke().string.isRequired,fileId:Ke().string.isRequired,isSelected:Ke().bool.isRequired,isRenamed:Ke().bool.isRequired,defaultTitle:Ke().string.isRequired,selectFile:Ke().func.isRequired,enableRename:Ke().func.isRequired,updateFile:Ke().func.isRequired};const kn=xn;function In(e){var t=e.allTitles,n=e.selected,r=e.renamed,o=e.defaultTitle,i=e.createFile,a=e.deleteFile,s=e.enableRename,l=e.startImport,c=e.selectFile,u=e.updateFile;return Ve.createElement("div",{className:"fileManager"},Ve.createElement("div",{className:"fileManager-isCollapsed"},Ve.createElement("span",{className:"fileManager-icon"},Ve.createElement(it,{iconName:"file_copy"}))),Ve.createElement("div",{className:"fileManager-isExpanded"},Ve.createElement(jn,{createFile:function(){return i(o)},deleteFile:function(){return a(n)},enableRename:function(){return s(n)},startImport:function(){return l()}}),Ve.createElement("ul",{className:"fileManager-entriesList"},t.map((function(e){return Ve.createElement(kn,{title:e.title,defaultTitle:o,fileId:e.id,isSelected:n===e.id,isRenamed:r===e.id,selectFile:c,updateFile:u,enableRename:s,key:e.id})})))))}In.propTypes={allTitles:Ke().arrayOf(Ke().shape({title:Ke().string.isRequired,id:Ke().string.isRequired})).isRequired,selected:Ke().string.isRequired,renamed:Ke().string.isRequired,defaultTitle:Ke().string.isRequired,selectFile:Ke().func.isRequired,createFile:Ke().func.isRequired,deleteFile:Ke().func.isRequired,enableRename:Ke().func.isRequired,startImport:Ke().func.isRequired,updateFile:Ke().func.isRequired};const Mn=In,An=(0,Ue.$j)((function(e){return{selected:w(e),renamed:P(e),defaultTitle:S(e),allTitles:z(e)}}),{selectFile:function(e){return Le(Q,{id:e})},createFile:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)throw new TypeError("Cannot create a file without title");var n={id:(0,gt.Z)(),title:e,content:t};return Le(d,n)},deleteFile:function(e){return Le(m,{id:e})},updateFile:ht,enableRename:function(e){return Le(ee,{id:e})},startImport:function(){return Le(ye,{isFromWeb:!1})}})(Mn);function Tn(e){return Ce().sanitize(e)}var Bn=n("XHOe");function Ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(n),!0).forEach((function(t){Dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _n(e,t){var n=(0,Bn.parseSong)(e);try{return(0,Bn.renderSong)(n,zn(zn({},t),{},{printChordsDuration:"uneven"}))}catch(e){return e.message}}function Wn(e){var t=e.content,n=u()(e,["alignBars","chordsAndLyricsDisplay","alignChordsWithLyrics","harmonizeAccidentals","accidentalsType","transposeValue","autoRepeatChords","expandSectionMultiply","useShortNamings","simplifyChords"]);return Ve.createElement("div",{className:"songRenderer"},Ve.createElement("div",{dangerouslySetInnerHTML:{__html:Tn(_n(t,n))}}))}Wn.propTypes={content:Ke().string},Wn.defaultProps={content:""};const Hn=Wn,Gn=(0,Ue.$j)((function(e){return{chordsAndLyricsDisplay:te(e,"songPreferences","chordsAndLyricsDisplay"),alignChordsWithLyrics:te(e,"songPreferences","alignChordsWithLyrics"),harmonizeAccidentals:te(e,"songPreferences","harmonizeAccidentals"),accidentalsType:te(e,"songPreferences","preferredAccidentals"),transposeValue:te(e,"songPreferences","transposeValue"),useShortNamings:te(e,"songPreferences","useShortNamings"),simplifyChords:te(e,"songPreferences","simplifyChords"),alignBars:te(e,"songFormatting","alignBars"),autoRepeatChords:te(e,"songFormatting","autoRepeatChords"),expandSectionMultiply:te(e,"songFormatting","expandSectionMultiply")}}))(Hn);function Vn(e){var t=e.selectedFile;return Ve.createElement("div",{className:["editorPreview"].join(" ")},Ve.createElement(Gn,{content:t.content}))}Vn.propTypes={selectedFile:Ke().object.isRequired};const Zn=Vn,Un=(0,Ue.$j)((function(){return{}}))(Zn);var $n=n("UxO+"),Kn=n("V2qZ"),Jn=n("BUsU"),Yn=n("SxI5"),Xn=n("ABBN"),Qn=n("lGMC");var er=n("IhAg");const tr=new Jn.V_({nodes:er.td,marks:er.EI});n("vxnP");function nr(e){return e.toJSON().doc.content.map((function(e){return e.content?e.content.reduce((function(e,t){return e+=t.text}),""):""})).join("\n")}n("EnZy");function rr(e){return Ce().sanitize(e,{ALLOWED_TAGS:["p","#text"],KEEP_CONTENT:!1})}function or(e){var t,n,r=e.selectedFileId,o=e.editorContent,i=e.updateFile,a=(0,Ve.useRef)(),s=(0,Ve.useRef)(),l=(t=r,n=(0,Ve.useRef)(),(0,Ve.useEffect)((function(){n.current=t})),n.current);function c(){return a.current&&a.current.dom.parentNode}function u(){a.current.dom.parentNode.removeChild(a.current.dom)}return(0,Ve.useEffect)((function(){if(!r||a.current&&l===r)c()&&!r&&u();else{c()&&u();var e=function(e){return $n.yy.create({doc:Jn.aw.fromSchema(tr).parse((t=e,n=rr(t).split("\n").map((function(e){return"<p>".concat(e,"</p>")})).join(""),r=document.createElement("div"),r.innerHTML=rr(n),r),{preserveWhitespace:"full"}),plugins:[(0,Qn.m8)(),(0,Yn.h)({"Mod-z":Qn.Yw,"Mod-y":Qn.KX}),(0,Yn.h)(Xn.YR)]});var t,n,r}(o);a.current=function(e,t,n){return new Kn.tk(null,{state:e,dispatchTransaction:function(e){var r=this.state.applyTransaction(e),o=r.state,i=r.transactions;this.updateState(o),i.some((function(e){return e.docChanged}))&&t(n,{content:nr(o)})}})}(e,i,r),s.current.appendChild(a.current.dom),or.editorView=a.current}})),Ve.createElement("div",{className:"prosemirrorWrapper",ref:s})}or.defaultProps={selectedFileId:"",editorContent:""},or.propTypes={selectedFileId:Ke().string,editorContent:Ke().string,updateFile:Ke().func.isRequired};const ir=or;function ar(e){var t=e.selectedFile,n=e.updateFile;return Ve.createElement("div",{className:"songEditor"},Ve.createElement("div",{className:"songEditor-source"},Ve.createElement(ir,{editorContent:t.content,updateFile:n,selectedFileId:t.id})),Ve.createElement("div",{className:"songEditor-preview"},Ve.createElement(Un,{selectedFile:t})))}ar.propTypes={selectedFile:Ke().object,updateFile:Ke().func.isRequired};const sr=ar;function lr(e){var t=e.selectedFile;return Ve.createElement("div",{className:"exportPreview exp-SongRenderer"},Ve.createElement(Gn,{content:t.content}))}lr.propTypes={selectedFile:Ke().object.isRequired};const cr=lr;function ur(e){var t=e.selectedFile,n=e.fontSize,r=e.chordsColor,o=e.highlightChords,i=e.columnsCount,a=["playRenderer"];return a.push("playRenderer--columns-"+i),a.push("cmLine--fontSize"+n),a.push("cmChordSymbol--chordsColor-"+r),o&&a.push("cmChordLine--highlightChords"),Ve.createElement("div",{className:"playRendererWrapper1"},Ve.createElement("div",{className:"playRendererWrapper2"},Ve.createElement("div",{className:a.join(" "),"data-testid":"playRenderer"},Ve.createElement(Gn,{content:t.content}))))}ur.propTypes={selectedFile:Ke().object.isRequired,columnsCount:Ke().number.isRequired,fontSize:Ke().number.isRequired,chordsColor:Ke().string.isRequired,highlightChords:Ke().bool.isRequired};const pr=ur,dr=(0,Ue.$j)((function(e){return{chordsColor:te(e,"songFormatting","chordsColor"),highlightChords:te(e,"songFormatting","highlightChords"),fontSize:te(e,"songFormatting","fontSize"),columnsCount:te(e,"songFormatting","columnsCount")}}))(pr);n("ls82");function mr(e){var t=e.pageHeader,n=e.allColumnsLines,r=e.documentSize,o=e.documentMargins,i=e.printFontSize,a=n.map((function(e,t){var n=e.join("\n");return Ve.createElement("div",{key:t,className:"printPreview-pageColumn","data-testid":"printPreview-pageColumn",dangerouslySetInnerHTML:{__html:Tn(n)}})})),s=["printPreview-page"];s.push("printPreview-page--"+r),s.push("printPreview-page--font"+i);var l=["printPreview-pageContentWrapper"];return l.push("printPreview-pageContentWrapper--padding"+o),Ve.createElement("div",{className:s.join(" "),"data-testid":"printPreview-page"},Ve.createElement("div",{className:l.join(" "),"data-testid":"printPreview-pageContentWrapper"},Ve.createElement("div",{className:"printPreview-pageContent"},t,Ve.createElement("div",{className:"printPreview-pageColumnWrapper"},a))))}mr.defaultProps={allColumnsLines:[]},mr.propTypes={pageHeader:Ke().element,allColumnsLines:Ke().arrayOf(Ke().arrayOf(Ke().string)),documentSize:Ke().string.isRequired,documentMargins:Ke().number.isRequired,printFontSize:Ke().number.isRequired};const fr=Ve.memo(mr);function gr(e){var t=e.title;return Ve.createElement("div",{className:"printPreview-pageHeader"},t)}gr.defaultProps={allColumnsLines:[]},gr.propTypes={title:Ke().string.isRequired};const hr=Ve.memo(gr);var yr="cmEmptyLine",br="cmChordLine",vr="cmTextLine";function Or(e,t){var n=t.columnsCount,r=t.firstPageHeight,o=t.normalPageHeight,i=t.columnBreakOnParagraph,a=t.noEmptyLinesOnColumnStart,s=void 0===a||a,l=t.noOrphanTextLine,c=void 0===l||l,u=function(e){var t=e.firstPageHeight,n=e.normalPageHeight,r=e.columnsCount,o=[],i=0,a=0,s=u(),l=0;function c(e){e.forEach((function(e){p(l+e.height)&&d(),o[i][a].push(e.content),l+=e.height}))}function u(){return 0===i&&t?t:n}function p(e){return e>s}function d(){m()?(i++,o[i]=[],a=0):a++,o[i][a]=[],l=0,s=u()}function m(){return a===r-1}return o[i]=[],o[i][a]=[],{insert:function(e){c(e)},insertOnNextColumn:function(e){d(),c(e)},fitsOnCurrentColumn:function(e){return l+e<=s},fitsOnNextColumn:function(e){return e<=(0===i&&a<r&&t?t:n)},get:function(){return o}}}({columnsCount:n,firstPageHeight:r,normalPageHeight:o,noEmptyLinesOnColumnStart:s}),p=[],d=0;return(r||o)>0&&e.forEach((function(t,n){(function(e,t,n,r){return!(Cr(t)&&!e.fitsOnCurrentColumn(t.height)&&0===n.length&&!0===r)})(u,t,p,s)&&(p.push(t),d+=t.height),p.length>0&&function(e,t,n){var r=n.noOrphanTextLine,o=n.columnBreakOnParagraph;if(Cr(e)||!t)return!0;var i=function(e){return Er(e.content,br)}(e)&&function(e){return Er(e.content,vr)}(t);if(!0===r&&i)return!1;var a=Cr(t);if(!0===o&&!a)return!1;return!0}(t,e[n+1],{noOrphanTextLine:c,columnBreakOnParagraph:i})&&(u.fitsOnCurrentColumn(d)?u.insert(p):u.fitsOnNextColumn(d)?u.insertOnNextColumn(p):u.insert(p),p=[],d=0)})),u.get()}function Cr(e){return Er(e.content,yr)}function Er(e,t){return e.indexOf(t)>-1}function wr(e,t){var n=document.createElement("div");return n.classList.add("measuring-node"),document.body.appendChild(n),new Promise((function(r){Ze.render(Ve.createElement("div",null,e),n,(function(){var e=t(n);Ze.unmountComponentAtNode(n),n.parentNode.removeChild(n),r(e)}))}))}function Pr(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.length||0;n<e;n++)t.push([]);return t}function Sr(e){return e.offsetHeight}function Rr(e){return e.clientHeight}function Fr(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function jr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Fr(i,r,o,a,s,"next",e)}function s(e){Fr(i,r,o,a,s,"throw",e)}a(void 0)}))}}var Nr=".cmLine";function qr(e,t){return xr.apply(this,arguments)}function xr(){return xr=jr(regeneratorRuntime.mark((function e(t,n){var r,o,i,a,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.columnsCount,o=n.documentSize,i=n.documentMargins,a=n.printFontSize,s=Ve.createElement("div",{className:"printPreview"},Ve.createElement(fr,{allColumnsLines:Pr(r,[t]),columnsCount:r,documentSize:o,documentMargins:i,printFontSize:a})),l=function(e){var t=[];return e.querySelectorAll(Nr).forEach((function(e){t.push(Sr(e))})),t},e.next=5,wr(s,l);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),xr.apply(this,arguments)}function kr(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Ir(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){kr(i,r,o,a,s,"next",e)}function s(e){kr(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Mr(e,t){return Ar.apply(this,arguments)}function Ar(){return(Ar=Ir(regeneratorRuntime.mark((function e(t,n){var r,o,i,a,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.columnsCount,o=n.documentSize,i=n.documentMargins,a=n.printFontSize,s=Ve.createElement(fr,{pageHeader:Ve.createElement(hr,{title:t}),allColumnsLines:Pr(r),documentSize:o,documentMargins:i,printFontSize:a}),l=function(e){var t=e.querySelector(".printPreview-pageContent");return{firstPageHeight:Rr(e.querySelector(".printPreview-pageColumnWrapper")),normalPageHeight:Rr(t)}},e.next=5,wr(s,l);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tr(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Br(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Lr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zr(e){var t=Br((0,Ve.useState)([]),2),n=t[0],r=t[1],o=e.title,i=e.allLines,a=e.columnsCount,s=e.columnBreakOnParagraph,l=e.documentSize,c=e.documentMargins,u=e.printFontSize;(0,Ve.useLayoutEffect)((function(){var e=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n,p,d,m,f,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={columnsCount:a,documentSize:l,documentMargins:c,printFontSize:u},e.next=3,qr(i,t);case 3:return n=e.sent,e.next=6,Mr(o,t);case 6:p=e.sent,d=p.normalPageHeight,m=p.firstPageHeight,f=i.map((function(e,t){return{content:e,height:n[t]}})),g=Or(f,{columnsCount:a,columnBreakOnParagraph:s,normalPageHeight:d,firstPageHeight:m}),r(g);case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Tr(i,r,o,a,s,"next",e)}function s(e){Tr(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[i,o,a,s,l,c,u]);var p=n.map((function(e,t){return Ve.createElement(fr,{key:t,pageHeader:0===t?Ve.createElement(hr,{title:o}):null,allColumnsLines:Pr(a,e),documentSize:l,documentMargins:c,printFontSize:u})}));return Ve.createElement(Ve.Fragment,null,p)}zr.propTypes={title:Ke().string.isRequired,allLines:Ke().arrayOf(Ke().string).isRequired,columnsCount:Ke().number.isRequired,columnBreakOnParagraph:Ke().bool.isRequired,documentSize:Ke().string.isRequired,documentMargins:Ke().number.isRequired,printFontSize:Ke().number.isRequired};const Dr=zr;function _r(e){var t=e.selectedFile,n=e.highlightChords,r=u()(e,["chordsAndLyricsDisplay","alignChordsWithLyrics","alignBars","harmonizeAccidentals","accidentalsType","transposeValue","autoRepeatChords","expandSectionMultiply","useShortNamings","simplifyChords"]),o=_n(t.content||"",r).split("\n"),i=["printPreview"];return n&&i.push("cmChordLine--highlightChords"),Ve.createElement("div",{className:i.join(" "),"data-testid":"printPreview"},Ve.createElement(Dr,{title:t.title||"",allLines:o,columnsCount:e.columnsCount,columnBreakOnParagraph:e.columnBreakOnParagraph,documentSize:e.documentSize,documentMargins:e.documentMargins,printFontSize:e.printFontSize}))}_r.propTypes={selectedFile:Ke().object.isRequired,columnsCount:Ke().number.isRequired,columnBreakOnParagraph:Ke().bool.isRequired,documentSize:Ke().string.isRequired,documentMargins:Ke().number.isRequired,printFontSize:Ke().number.isRequired,highlightChords:Ke().bool.isRequired};const Wr=_r,Hr=(0,Ue.$j)((function(e){return{chordsAndLyricsDisplay:te(e,"songPreferences","chordsAndLyricsDisplay"),alignChordsWithLyrics:te(e,"songPreferences","alignChordsWithLyrics"),harmonizeAccidentals:te(e,"songPreferences","harmonizeAccidentals"),accidentalsType:te(e,"songPreferences","preferredAccidentals"),useShortNamings:te(e,"songPreferences","useShortNamings"),simplifyChords:te(e,"songPreferences","simplifyChords"),transposeValue:te(e,"songPreferences","transposeValue"),columnsCount:te(e,"songFormatting","columnsCount"),columnBreakOnParagraph:te(e,"songFormatting","columnBreakOnParagraph"),documentSize:te(e,"songFormatting","documentSize"),documentMargins:te(e,"songFormatting","documentMargins"),alignBars:te(e,"songFormatting","alignBars"),printFontSize:te(e,"songFormatting","printFontSize"),highlightChords:te(e,"songFormatting","highlightChords"),autoRepeatChords:te(e,"songFormatting","autoRepeatChords"),expandSectionMultiply:te(e,"songFormatting","expandSectionMultiply")}}))(Wr);function Gr(e){switch(e.editorMode){case"edit":return Ve.createElement(sr,e);case"play":return Ve.createElement(dr,e);case"print":return Ve.createElement(Hr,e);case"export":return Ve.createElement(cr,e)}}Gr.propTypes={editorMode:Ke().string.isRequired};const Vr=Gr,Zr=(0,Ue.$j)((function(e){return{selectedFile:D(e,w(e))||{},editorMode:E(e)}}),{updateFile:ht})(Vr);n("JTJg");function Ur(){return Ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ur.apply(this,arguments)}function $r(e){var t,n,r,o,i,a,s,l=e.id,c=e.allWidgets,u=e.nonInteractableWidgets,p=e.hiddenWidgets,d=e.setOption,m=e.getEntryComponent,f=["optionsPanel","optionsPanel-"+l],g=c.widgetsOrder.filter((function(e){return!p.includes(e)})).map((function(e){return"optionsGroup"===(t=c.allWidgets[e]).type?(s=t.groupWidgetsOrder.filter((function(e){return!p.includes(e)})).map((function(r){return n=t.allGroupWidgets[r],a=!u.includes(e)&&!u.includes(r),h(r,n,a)})),o=m(t.type),i=!u.includes(e),Ve.createElement(o,{key:e,isInteractable:i,label:t.label,icon:t.icon},s)):h(e,t,!u.includes(e))}));function h(t,n,o){return r=m(n.type),Ve.createElement(r,Ur({key:t,isInteractable:o,optionContext:n.option.context,optionKey:n.option.key,optionValue:e[n.option.key],setOption:d,label:n.label},n.typeOptions))}return Ve.createElement("div",{className:f.join(" ")},g)}$r.propTypes={id:Ke().string.isRequired,allWidgets:Ke().object.isRequired,nonInteractableWidgets:Ke().arrayOf(Ke().string).isRequired,hiddenWidgets:Ke().arrayOf(Ke().string).isRequired,setOption:Ke().func.isRequired,getEntryComponent:Ke().func.isRequired};const Kr=$r;function Jr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xr(e){var t=Jr((0,Ve.useState)(e.isOpened),2),n=t[0],r=t[1],o=e.isInteractable,i=e.icon,a=e.label,s=["sb-optionsGroup"];function l(){return o&&e.children&&e.children.length>0}return l()||s.push("sb-optionsGroup-isNotInteractable"),!n||e.children&&0!==e.children.length||r(!1),Ve.createElement("div",{className:s.join(" ")},Ve.createElement("div",{className:"sb-optionsGroup-title",onClick:l()?function(){r(!n)}:null},Ve.createElement("div",{className:"sb-optionsGroup-label"},Ve.createElement("span",{className:"sb-optionsGroup-iconTitle"},Ve.createElement(it,{iconName:i}))," ",a),Ve.createElement("div",{className:"sb-optionsGroup-toggle"},Ve.createElement("span",{className:"sb-optionsGroup-iconToggle"},Ve.createElement(it,{iconName:n?"unfold_less":"unfold_more"})))),Ve.createElement("div",{className:"sb-optionsGroup-content"},n&&e.children))}Xr.propTypes={isOpened:Ke().bool,isInteractable:Ke().bool.isRequired,icon:Ke().string.isRequired,label:Ke().string.isRequired,children:Ke().arrayOf(Ke().element)},Xr.defaultProps={isOpened:!0};const Qr=Xr;function eo(e){var t,n=e.isSelected,r=e.label,o=e.onClick,i=["sb-optionSelectChoice"];return n&&(i.push("sb-optionSelectChoice-isSelected"),t=Ve.createElement("span",{className:"sb-optionSelectChoice-checkIcon"},Ve.createElement(it,{iconName:"check"}))),Ve.createElement("div",{className:i.join(" "),onClick:o},Ve.createElement("div",{className:"sb-optionSelectChoice-check"},n&&t),Ve.createElement("div",{className:"sb-optionSelectChoice-label"},r))}eo.propTypes={isSelected:Ke().bool.isRequired,label:Ke().string.isRequired,onClick:Ke().func.isRequired};const to=Ve.memo(eo);function no(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ro(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ro(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oo(e){var t=no((0,Ve.useState)(!1),2),n=t[0],r=t[1],o=e.isInteractable,i=e.label,a=e.allChoices,s=e.optionContext,l=e.optionKey,c=e.optionValue,u=e.setOption,p=["sb-optionSelect"];o||p.push("sb-optionSelect-isNotInteractable");var d=n?"keyboard_arrow_down":"keyboard_arrow_right";var m=n?Ve.createElement("div",{className:"sb-optionSelect-choices"},a.map((function(e){return Ve.createElement(to,{key:e.value,label:e.label,isSelected:c===e.value,onClick:function(){return u(s,l,e.value)}})}))):null;return Ve.createElement("div",{className:p.join(" ")},Ve.createElement("div",{className:"sb-optionSelect-title",onClick:o?function(){r(!n)}:null},Ve.createElement("div",{className:"sb-optionSelect-desc"},i),Ve.createElement("div",{className:"sb-optionSelect-toggle"},Ve.createElement("span",{className:"sb-optionSelect-icon"},Ve.createElement(it,{iconName:d})))),m)}oo.propTypes={isInteractable:Ke().bool.isRequired,label:Ke().string.isRequired,allChoices:Ke().array.isRequired,optionContext:Ke().string.isRequired,optionKey:Ke().string.isRequired,optionValue:Ke().string.isRequired,setOption:Ke().func.isRequired};const io=oo;n("JevA"),n("qePV");function ao(e){var t=e.isInteractable,n=e.label,r=e.min,o=e.max,i=e.showPlusSymbol,a=e.optionContext,s=e.optionKey,l=e.optionValue,c=e.setOption,u=["sb-optionSlider"];t||u.push("sb-optionSlider-isNotInteractable");var p=l>0&&i?"+"+l:l;return Ve.createElement("div",{className:u.join(" ")},Ve.createElement("div",{className:"sb-optionSlider-desc"},n),Ve.createElement("div",{className:"sb-optionSlider-value"},p),Ve.createElement("div",{className:"sb-optionSlider-range"},Ve.createElement("input",{min:r,max:o,value:l,type:"range",onChange:t?function(e){c(a,s,Number.parseInt(e.target.value))}:null,disabled:!t})))}ao.propTypes={isInteractable:Ke().bool.isRequired,label:Ke().string.isRequired,min:Ke().number.isRequired,max:Ke().number.isRequired,showPlusSymbol:Ke().bool,optionContext:Ke().string.isRequired,optionKey:Ke().string.isRequired,optionValue:Ke().number.isRequired,setOption:Ke().func.isRequired},ao.defaultProps={showPlusSymbol:!0};const so=Ve.memo(ao);function lo(e){var t=e.isInteractable,n=e.label,r=e.optionContext,o=e.optionKey,i=e.optionValue,a=e.setOption,s=["sb-optionToggle"];return s.push(!0===i?"sb-optionToggle-isOn":"sb-optionToggle-isOff"),t||s.push("sb-optionToggle-isNotInteractable"),Ve.createElement("div",{className:s.join(" "),onClick:t?function(){a(r,o,!i)}:null},Ve.createElement("div",{className:"sb-optionToggle-desc"},n),Ve.createElement("div",{className:"sb-optionToggle-icon"},Ve.createElement("span",{className:"sb-optionToggle-icon"},Ve.createElement(it,{iconName:!0===i?"toggle_on":"toggle_off"}))))}lo.propTypes={isInteractable:Ke().bool.isRequired,label:Ke().string.isRequired,optionContext:Ke().string.isRequired,optionKey:Ke().string.isRequired,optionValue:Ke().bool.isRequired,setOption:Ke().func.isRequired};const co=Ve.memo(lo);function uo(){return uo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uo.apply(this,arguments)}function po(e){switch(e){case"optionsGroup":return Qr;case"select":return io;case"slider":return so;case"toggle":return co}}function mo(e){return Ve.createElement("div",{className:"sb-optionsPanel"},Ve.createElement(Kr,uo({},e,{getEntryComponent:po})))}function fo(){return fo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fo.apply(this,arguments)}var go=function(e,t,n){if(!e)throw new TypeError("Cannot set an option without a context");if(!t)throw new TypeError("Cannot set an option without a key");return Le(h,{context:e,key:t,value:n})};var ho=n("zqxM"),yo=n.n(ho);function bo(e){return function(e){if(Array.isArray(e))return vo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return vo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vo(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Co(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oo(Object(n),!0).forEach((function(t){Eo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const wo=function(e,t,n,r){return(0,Ue.$j)((function(r){var o,i,a={allWidgets:e,nonInteractableWidgets:t(r),hiddenWidgets:n(r)};return e.widgetsOrder.forEach((function(t){"optionsGroup"===(o=e.allWidgets[t]).type?o.groupWidgetsOrder.forEach((function(e){i=o.allGroupWidgets[e],a[i.option.key]=te(r,i.option.context,i.option.key)})):a[o.option.key]=te(r,o.option.context,o.option.key)})),a}),{setOption:go})(r)}({widgetsOrder:["style","chordsAndLyricsDisplay","alignChordsWithLyrics","alignBars","autoRepeatChords","expandSectionMultiply","layout","chords","format"],allWidgets:{style:{label:"Rendering style",type:"select",typeOptions:{allChoices:[{id:"styleChordMark",label:"ChordMark",value:"chordmark"}]},option:{context:"songFormatting",key:"style"}},chordsAndLyricsDisplay:{label:"Chords and lyrics",type:"select",typeOptions:{allChoices:[{id:"cldisplayAll",label:"Display both",value:"all"},{id:"cldisplayLyrics",label:"Lyrics only",value:"lyrics"},{id:"cldisplayChords",label:"Chords only",value:"chords"},{id:"cldisplayChordsFirstLyricLine",label:"Chords + First lyric line",value:"chordsFirstLyricLine"}]},option:{context:"songPreferences",key:"chordsAndLyricsDisplay"}},alignChordsWithLyrics:{label:"Align chords with lyrics",type:"toggle",option:{context:"songPreferences",key:"alignChordsWithLyrics"}},alignBars:{label:"Align bars",type:"toggle",option:{context:"songFormatting",key:"alignBars"}},autoRepeatChords:{label:"Auto repeat chords",type:"toggle",option:{context:"songFormatting",key:"autoRepeatChords"}},expandSectionMultiply:{label:"Expand section multiply",type:"toggle",option:{context:"songFormatting",key:"expandSectionMultiply"}},layout:{type:"optionsGroup",label:"Layout",icon:"view_compact",groupWidgetsOrder:["documentSize","documentMargins","columnsCount","columnBreakOnParagraph"],allGroupWidgets:{documentSize:{label:"Document size",type:"select",typeOptions:{allChoices:[{id:"documentSizeA4",label:"A4",value:"a4"},{id:"documentSizeBooxMax2Pro",label:"Boox Max 2 Pro",value:"booxmax2pro"}]},option:{context:"songFormatting",key:"documentSize"}},documentMargins:{label:"Margins",type:"slider",typeOptions:{min:1,max:5},option:{context:"songFormatting",key:"documentMargins"}},columnsCount:{label:"Columns",type:"slider",typeOptions:{min:1,max:4},option:{context:"songFormatting",key:"columnsCount"}},columnBreakOnParagraph:{label:"Break on paragraph",type:"toggle",option:{context:"songFormatting",key:"columnBreakOnParagraph"}}}},chords:{type:"optionsGroup",label:"Chords",icon:"music_note",groupWidgetsOrder:["transposeValue","simplifyChords","harmonizeAccidentals","preferredAccidentals","useShortNamings"],allGroupWidgets:{transposeValue:{label:"Transpose",type:"slider",typeOptions:{min:-11,max:11,showPlusSymbol:!0},option:{context:"songPreferences",key:"transposeValue"}},simplifyChords:{label:"Simplify chords",type:"select",typeOptions:{allChoices:[{id:"simplifyChordsNone",label:"None",value:"none"},{id:"simplifyChordsMax",label:"Max",value:"max"},{id:"simplifyChordsCore",label:"Core",value:"core"}]},option:{context:"songPreferences",key:"simplifyChords"}},harmonizeAccidentals:{label:"Harmonize accidentals",type:"toggle",option:{context:"songPreferences",key:"harmonizeAccidentals"}},preferredAccidentals:{label:"Preferred accidentals",type:"select",typeOptions:{allChoices:[{id:"preferredAccidentalsAuto",label:"Auto",value:"auto"},{id:"preferredAccidentalsSharp",label:"Sharp (#)",value:"sharp"},{id:"preferredAccidentalsFlat",label:"Flats (b)",value:"flat"}]},option:{context:"songPreferences",key:"preferredAccidentals"}},useShortNamings:{label:"Use short names",type:"toggle",option:{context:"songPreferences",key:"useShortNamings"}}}},format:{type:"optionsGroup",label:"Format",icon:"format_size",groupWidgetsOrder:["fontSize","printFontSize","fontStyle","chordsColor","highlightChords"],allGroupWidgets:{fontSize:{label:"Font size",type:"slider",typeOptions:{min:-5,max:5,showPlusSymbol:!0},option:{context:"songFormatting",key:"fontSize"}},printFontSize:{label:"Font size (print)",type:"slider",typeOptions:{min:-5,max:5,showPlusSymbol:!0},option:{context:"songFormatting",key:"printFontSize"}},fontStyle:{label:"Font style",type:"select",typeOptions:{allChoices:[{id:"fontStyleRoboto",label:"Roboto",value:"roboto"}]},option:{context:"songFormatting",key:"fontStyle"}},chordsColor:{label:"Chords color",type:"select",typeOptions:{allChoices:[{id:"chordsColor",label:"Base",value:"base"},{id:"chordsColorRed",label:"Red",value:"red"},{id:"chordsColorYellow",label:"Yellow",value:"yellow"},{id:"chordsColorGreen",label:"Green",value:"green"}]},option:{context:"songFormatting",key:"chordsColor"}},highlightChords:{label:"Highlight Chords",type:"toggle",option:{context:"songFormatting",key:"highlightChords"}}}}}},(function(e){var t=[],n=Object.keys(Co(Co({},ne(e,"songFormatting")),ne(e,"songPreferences")));if(!w(e))return n;var r=E(e),o=yo()(n,H[r]);return t.push.apply(t,bo(o)),t}),(function(e){var t=[],n=E(e);return te(e,"songPreferences","harmonizeAccidentals")||t.push("preferredAccidentals"),"print"===n?t.push("fontSize"):t.push("printFontSize"),t}),(function(e){return Ve.createElement("div",{className:"renderingOptionsPanel"},Ve.createElement("div",{className:"renderingOptionsPanel-isCollapsed"},Ve.createElement("span",{className:"renderingOptionsPanel-icon"},Ve.createElement(it,{iconName:"settings"}))),Ve.createElement("div",{className:"renderingOptionsPanel-isExpanded"},Ve.createElement(mo,fo({},e,{id:"rendering"}))))}));function Po(){var e=Ve.createElement(An,null),t=Ve.createElement(wo,null);return Ve.createElement(wn,{leftBar:e,rightBar:t},Ve.createElement(Zr,null))}var So=[{path:"/editor",action:function(){return Po}}],Ro=new Ge.Z(So);const Fo=function(e){return Ro.resolve(e).then((function(e){return t=e,void Ze.render(Ve.createElement(Ue.zt,{store:Be()},Ve.createElement(Ve.StrictMode,null,Ve.createElement(rt,null,Ve.createElement(t,null)))),document.getElementById("app"));var t}))};window.addEventListener("message",He),Te(),Fo("/editor")}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=t,e=[],r.O=(t,n,o,i)=>{if(!n){var a=1/0;for(u=0;u<e.length;u++){for(var[n,o,i]=e[u],s=!0,l=0;l<n.length;l++)(!1&i||a>=i)&&Object.keys(r.O).every((e=>r.O[e](n[l])))?n.splice(l--,1):(s=!1,i<a&&(a=i));if(s){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,o,i]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={179:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[a,s,l]=n,c=0;if(a.some((t=>0!==e[t]))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(l)var u=l(r)}for(t&&t(n);c<a.length;c++)i=a[c],r.o(e,i)&&e[i]&&e[i][0](),e[a[c]]=0;return r.O(u)},n=self.webpackChunk_touffi_chords_charts_studio=self.webpackChunk_touffi_chords_charts_studio||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=r.O(void 0,[216],(()=>r("1mQe")));o=r.O(o)})();
//# sourceMappingURL=main.5d693c3619549a1123fa.js.map