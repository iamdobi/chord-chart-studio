!function(e){function t(t){for(var r,i,l=t[0],u=t[1],c=t[2],p=0,d=[];p<l.length;p++)i=l[p],a[i]&&d.push(a[i][0]),a[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(s&&s(t);d.length;)d.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,l=1;l<n.length;l++){var u=n[l];0!==a[u]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={0:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var l=window.webpackJsonp=window.webpackJsonp||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var s=u;o.push(["Vtdi",1]),n()}({"+yqq":function(e,t,n){var r=n("3O+N");e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,a){var o,i;return'<p class="'+e.escapeExpression("function"==typeof(i=null!=(i=n.lineClasses||(null!=t?t.lineClasses:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"lineClasses",hash:{},data:a}):i)+'">'+(null!=(o=e.lambda(null!=t?t.line:t,t))?o:"")+"</p>"},useData:!0})},"0SR/":function(e,t,n){var r=n("3O+N");e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,a){var o;return'<span class="cmChordLine">'+(null!=(o=e.lambda(null!=t?t.chordLine:t,t))?o:"")+"</span>"},useData:!0})},"2ywC":function(e,t,n){},"3Z8G":function(e,t,n){},"6/UV":function(e,t,n){},"6EPN":function(e,t,n){},"8PSE":function(e,t,n){},BC9S:function(e,t,n){},C4RQ:function(e,t,n){var r=n("3O+N");e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,a){return'<span class="cmEmptyLine">&nbsp;</span>'},useData:!0})},F2RA:function(e,t,n){var r=n("3O+N");e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,a){var o;return'<span class="cmTextLine">'+(null!=(o=e.lambda(null!=t?t.textLine:t,t))?o:"")+"</span>"},useData:!0})},IA7u:function(e,t,n){},JLab:function(e,t,n){var r=n("3O+N");e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,a){var o;return'<span class="cmSectionLabel">'+(null!=(o=e.lambda(null!=t?t.sectionLabel:t,t))?o:"")+"</span>"},useData:!0})},JeH2:function(e,t,n){},"PW/E":function(e,t,n){var r=n("3O+N");e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,a){return'<span class="cmBarSeparator">|</span>'},useData:!0})},PuEf:function(e,t,n){},Sdr1:function(e,t,n){},UUiC:function(e,t,n){},Vtdi:function(e,t,n){"use strict";n.r(t);n("u0UJ");var r=n("P4Tr"),a=n.n(r),o=n("ANjH"),i=function(){try{var e=localStorage.getItem("state");if(!e)return;return JSON.parse(e)}catch(e){return}},l=function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(e){}},u=(n("pNMO"),n("ma9I"),n("TeQF"),n("QWBl"),n("eoL8"),n("5DmW"),n("tkto"),n("FZtP"),"db/files/Create"),c="db/files/Update",s="db/files/Delete";function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){d(e,t,n[t])})}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={allFiles:{}};function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){h(e,t,n[t])})}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g={},y=Object(o.b)({files:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case u:return function(e,t){var n=t.payload,r=n.id,a=n.title,o=n.content,i=p({},e.allFiles);return i[r]={id:r,title:a,content:o},p({},e,{allFiles:i})}(e,t);case c:return function(e,t){var n=t.payload,r=n.id,a=n.title,o=n.content;if(!a&&!o||!e.allFiles[r])return e;var i=p({},e.allFiles);return i[r]=p({},i[r]),a&&(i[r].title=a),o&&(i[r].content=o),p({},e,{allFiles:i})}(e,t);case s:return function(e,t){var n=t.payload.id;if(!n||!e.allFiles[n])return e;var r=p({},e.allFiles);return delete r[n],p({},e,{allFiles:r})}(e,t)}return e},options:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"db/options/setOptionValue":var n=t.payload,r=n.context,a=n.key,o=n.value;if(!e[r]||!e[r][a])return e;var i=m({},e[r]);i[a]=m({},i[a],{value:o});var l=m({},e);return l[r]=i,l}return e}}),v="fileManager/select",b="fileManager/enableRename";function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){C(e,t,n[t])})}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O={selected:"",renamed:"",defaultTitle:"[untitled]"};var S="ui/layout/app/toggleLeftBar",R="ui/layout/app/toggleRightBar",w="ui/layout/app/setEditorMode";function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){x(e,t,n[t])})}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P={isLeftBarCollapsed:!1,isRightBarCollapsed:!1,editorMode:"edit"};var T,j=Object(o.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case S:return N({},e,{isLeftBarCollapsed:!e.isLeftBarCollapsed});case R:return N({},e,{isRightBarCollapsed:!e.isRightBarCollapsed});case w:return N({},e,{editorMode:t.payload.mode})}return e}}),F=Object(o.b)({layout:j}),L=Object(o.b)({db:y,fileManager:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case u:var n=t.payload.id;return E({},e,{selected:n,renamed:n});case c:return E({},e,{renamed:""});case s:return E({},e,{selected:"",renamed:""});case v:var r=t.payload.id;return E({},e,{selected:r,renamed:r===e.renamed?r:""});case b:return E({},e,{renamed:t.payload.id})}return e},ui:F}),q={db:{options:{rendering:{style:{value:"chordmark",default:"chordmark",resetOnSongChange:!1},alignBars:{value:!0,default:!0,resetOnSongChange:!1},autoRepeatChords:{value:!0,default:!0,resetOnSongChange:!1},expandSectionRepeats:{value:!0,default:!0,resetOnSongChange:!1},documentSize:{value:"a4",default:"a4",resetOnSongChange:!1},documentMargins:{value:3,default:3,resetOnSongChange:!1},columnsCount:{value:1,default:1,resetOnSongChange:!1},columnBreakOnParagraph:{value:!0,default:!0,resetOnSongChange:!1},showChords:{value:!0,default:!0,resetOnSongChange:!1},instrument:{value:"guitar",default:"guitar",resetOnSongChange:!1},showStrummingPattern:{value:!0,default:!0,resetOnSongChange:!1},transposeValue:{value:0,default:0,resetOnSongChange:!0},simplifyChords:{value:!1,default:!1,resetOnSongChange:!0},capoPosition:{value:0,default:0,resetOnSongChange:!0},harmonizeAccidentals:{value:!0,default:!0,resetOnSongChange:!0},preferredAccidentals:{value:"auto",default:"auto",resetOnSongChange:!0},fontSize:{value:0,default:0,resetOnSongChange:!1},printFontSize:{value:0,default:0,resetOnSongChange:!1},fontStyle:{value:"roboto",default:"roboto",resetOnSongChange:!1},chordsColor:{value:"yellow",default:"yellow",resetOnSongChange:!1},highlightChords:{value:!0,default:!0,resetOnSongChange:!1}}}}},B=[];var k=n("d/CZ"),M=n("q1tI"),A=n.n(M),_=n("i8i4"),z=n.n(_),I=n("/MKj"),D=(n("4Brf"),n("0oug"),n("4mDm"),n("DQNa"),n("uL8W"),n("NBAS"),n("ExoC"),n("07d7"),n("JfAA"),n("PKPk"),n("3bBZ"),n("WoyN"),n("17x9")),W=n.n(D);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var K=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=H(this,U(t).call(this,e))).state={error:null,errorInfo:null},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(t,A.a.Component),n=t,(r=[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.errorInfo?A.a.createElement("div",{className:"ErrorBoundary"},A.a.createElement("h2",null,"Something went wrong"),A.a.createElement("details",{style:{whiteSpace:"pre-wrap"},open:!0},this.state.error&&this.state.error.toString(),A.a.createElement("br",null),this.state.errorInfo.componentStack)):this.props.children}}])&&V(n.prototype,r),a&&V(n,a),t}();K.propTypes={children:W.a.any};var Z=K;function X(e,t){if(!e)throw new TypeError("Cannot create an action without an action type");return{type:e,payload:t}}var Y=function(e){return e.ui.layout.app.isLeftBarCollapsed},Q=function(e){return e.ui.layout.app.isRightBarCollapsed},$=function(e){return e.ui.layout.app.editorMode};n("oVuX"),n("JeH2"),n("6/UV"),n("PuEf");function ee(e){var t=e.iconName;return A.a.createElement("i",{className:["icon","material-icons"].join(" ")},t)}ee.propTypes={iconName:W.a.string.isRequired};var te=A.a.memo(ee);var ne=A.a.memo(function(){return A.a.createElement("div",{className:"logo"},A.a.createElement("div",{className:"logo-isCollapsed"},A.a.createElement(te,{iconName:"queue_music"})),A.a.createElement("div",{className:"logo-isExpanded"},A.a.createElement("span",{className:"logo-icon"},A.a.createElement(te,{iconName:"queue_music"})),"Chords Charts Studio"))});n("2B1R"),n("zKZe"),n("g3KT");function re(e){var t=e.label,n=e.icon,r=e.editorMode,a=e.setEditorMode,o=["mainNavEntry"];return e.isActive&&o.push("mainNavEntry-isActive"),A.a.createElement("li",{className:o.join(" "),onClick:function(){a(r)}},A.a.createElement("span",{className:"mainNavEntry-icon"},A.a.createElement(te,{iconName:n})),t)}re.propTypes={label:W.a.string.isRequired,icon:W.a.string.isRequired,editorMode:W.a.string.isRequired,setEditorMode:W.a.func.isRequired,isActive:W.a.bool.isRequired};var ae=A.a.memo(re);function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ie(e){var t=e.currentMode,n=e.allEntries,r=e.setEditorMode;return A.a.createElement("nav",{className:"mainNav"},A.a.createElement("ul",{className:"mainNav-entries"},n.map(function(e,n){return A.a.createElement(ae,oe({key:n,isActive:e.editorMode===t,setEditorMode:r},e))})))}ie.propTypes={currentMode:W.a.string.isRequired,setEditorMode:W.a.func.isRequired,allEntries:W.a.arrayOf(W.a.shape({id:W.a.string.isRequired,label:W.a.string.isRequired,icon:W.a.string.isRequired,editorMode:W.a.string.isRequired}))};var le=A.a.memo(ie);n("Sdr1");var ue=A.a.memo(function(){return A.a.createElement("div",{className:"appFooter"},"Chords Charts Studio v0.7.0 - ChordMark v0.3.0")}),ce=[{id:"edit",label:"Edit",icon:"create",editorMode:"edit"},{id:"play",label:"Play",icon:"music_note",editorMode:"play"},{id:"print",label:"Print / PDF",icon:"print",editorMode:"print"},{id:"export",label:"Export",icon:"save_alt",editorMode:"export"}];function se(e){var t=e.isLeftBarCollapsed,n=e.isRightBarCollapsed,r=e.editorMode,a=e.toggleLeftBar,o=e.toggleRightBar,i=e.setEditorMode,l=e.leftBar,u=e.rightBar,c=["leftBar"];t&&c.push("leftBar-isCollapsed");var s=["rightBar"];return n&&s.push("rightBar-isCollapsed"),A.a.createElement("div",{className:"appLayout-wrapper"},A.a.createElement("section",{className:c.join(" ")},A.a.createElement("div",{className:"leftBar-content",onClick:t?a:null},A.a.createElement(ne,null),l),A.a.createElement("div",{className:"leftBar-collapser",onClick:a,"data-testid":"leftBar-collapser"},A.a.createElement("span",{className:"leftBar-collapserIcon"},A.a.createElement(te,{iconName:"keyboard_arrow_left"})))),A.a.createElement("section",{className:"appLayout-main"},A.a.createElement("section",{className:"appLayout-header"},A.a.createElement(le,{allEntries:ce,currentMode:r,setEditorMode:i})),A.a.createElement("section",{className:"appLayout-content"},e.children),A.a.createElement("section",{className:"appLayout-footer"},A.a.createElement(ue,null))),A.a.createElement("section",{className:s.join(" ")},A.a.createElement("div",{className:"rightBar-collapser",onClick:o,"data-testid":"rightBar-collapser"},A.a.createElement("span",{className:"rightBar-collapserIcon"},A.a.createElement(te,{iconName:"keyboard_arrow_right"}))),A.a.createElement("div",{className:"rightBar-content",onClick:n?o:null},u)))}se.propTypes={children:W.a.element,isLeftBarCollapsed:W.a.bool,isRightBarCollapsed:W.a.bool,toggleLeftBar:W.a.func.isRequired,toggleRightBar:W.a.func.isRequired,editorMode:W.a.string.isRequired,setEditorMode:W.a.func.isRequired,leftBar:W.a.element.isRequired,rightBar:W.a.element.isRequired},se.defaultProps={isLeftBarCollapsed:!1,isRightBarCollapsed:!1};var pe=se,de=Object(I.b)(function(e){return{isLeftBarCollapsed:Y(e),isRightBarCollapsed:Q(e),editorMode:$(e)}},{toggleLeftBar:function(){return X(S)},toggleRightBar:function(){return X(R)},setEditorMode:function(e){return X(w,{mode:e})}})(pe),fe=function(e){return e.fileManager.selected},me=function(e){return e.fileManager.renamed},he=function(e){return e.fileManager.defaultTitle},ge=n("EcEN"),ye=n.n(ge),ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=t.content;if(!e)throw new TypeError("Cannot update a file without an id");return X(c,{id:e,title:n,content:r})},be=n("3WF5"),Ee=n.n(be),Ce=n("Y+p1"),Oe=n.n(Ce),Se=n("xweI"),Re=n.n(Se),we=n("G4qV"),Ne=Object(we.a)(we.b,Oe.a)(function(e){return Ee()(e.db.files.allFiles,function(e){return{title:e.title,id:e.id}})},function(e){return Re()(e,function(e){return e.title.toLowerCase()})}),xe=function(e,t){return e.db.files.allFiles[t]};n("kGR0");function Pe(e){var t=e.icon,n=e.text,r=e.action;return A.a.createElement("span",{className:"fileManagerAction",onClick:r},A.a.createElement("span",{className:"fileManagerAction-icon"},A.a.createElement(te,{iconName:t})," ",n))}Pe.propTypes={icon:W.a.string.isRequired,text:W.a.string.isRequired,action:W.a.func.isRequired};var Te=A.a.memo(Pe);function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fe(e){var t=e.createFile,n=e.deleteFile,r=[{icon:"add_circle",text:"New",action:t},{icon:"create",text:"Rename",action:e.enableRename},{icon:"delete",text:"Delete",action:n}];return A.a.createElement("div",{className:"fileManager-actionsList"},r.map(function(e,t){return A.a.createElement(Te,je({},e,{key:t}))}))}Fe.propTypes={createFile:W.a.func.isRequired,deleteFile:W.a.func.isRequired,enableRename:W.a.func.isRequired};var Le=A.a.memo(Fe);n("J30X");function qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Be(e){var t=qe(Object(M.useState)(e.title),2),n=t[0],r=t[1],a=e.fileId,o=e.isSelected,i=e.isRenamed,l=e.defaultTitle,u=e.selectFile,c=e.enableRename,s=e.updateFile,p=["fileManagerEntry"];o&&p.push("fileManagerEntry-isSelected"),i&&p.push("fileManagerEntry-isRenamed");var d=A.a.createRef();function f(e){s(a,{title:e=e||l}),r(e),d.current.scrollLeft=0}return Object(M.useEffect)(function(){i&&d.current.focus()},[i,d]),A.a.createElement("li",{className:p.join(" "),onClick:function(){o||u(a)},onDoubleClick:function(e){i||(c(a),e.target.select())}},A.a.createElement("input",{className:"fileManagerEntry-input",ref:d,type:"text",value:n,readOnly:i?null:"readOnly",autoFocus:i?"autoFocus":null,onChange:function(e){r(e.target.value)},onBlur:function(e){i&&f(e.target.value)},onFocus:function(e){i&&e.target.select()},onKeyPress:function(e){i&&13===e.which&&(e.preventDefault(),window.getSelection().removeAllRanges(),f(e.target.value))}}))}Be.propTypes={title:W.a.string.isRequired,fileId:W.a.string.isRequired,isSelected:W.a.bool.isRequired,isRenamed:W.a.bool.isRequired,defaultTitle:W.a.string.isRequired,selectFile:W.a.func.isRequired,enableRename:W.a.func.isRequired,updateFile:W.a.func.isRequired};var ke=Be;function Me(e){var t=e.allTitles,n=e.selected,r=e.renamed,a=e.defaultTitle,o=e.selectFile,i=e.createFile,l=e.deleteFile,u=e.enableRename,c=e.updateFile;return A.a.createElement("div",{className:"fileManager"},A.a.createElement("div",{className:"fileManager-isCollapsed"},A.a.createElement("span",{className:"fileManager-icon"},A.a.createElement(te,{iconName:"file_copy"}))),A.a.createElement("div",{className:"fileManager-isExpanded"},A.a.createElement(Le,{createFile:function(){return i(a)},deleteFile:function(){return l(n)},enableRename:function(){return u(n)}}),A.a.createElement("ul",{className:"fileManager-entriesList"},t.map(function(e){return A.a.createElement(ke,{title:e.title,defaultTitle:a,fileId:e.id,isSelected:n===e.id,isRenamed:r===e.id,selectFile:o,updateFile:c,enableRename:u,key:e.id})}))))}Me.propTypes={allTitles:W.a.arrayOf(W.a.shape({title:W.a.string.isRequired,id:W.a.string.isRequired})).isRequired,selected:W.a.string.isRequired,renamed:W.a.string.isRequired,defaultTitle:W.a.string.isRequired,selectFile:W.a.func.isRequired,createFile:W.a.func.isRequired,deleteFile:W.a.func.isRequired,enableRename:W.a.func.isRequired,updateFile:W.a.func.isRequired};var Ae=Me,_e=Object(I.b)(function(e){return{selected:fe(e),renamed:me(e),defaultTitle:he(e),allTitles:Ne(e)}},{selectFile:function(e){return X(v,{id:e})},createFile:function(e){if(!e)throw new TypeError("Cannot create a file without title");var t={id:ye.a.v4(),title:e,content:""};return X(u,t)},deleteFile:function(e){return X(s,{id:e})},updateFile:ve,enableRename:function(e){return X(b,{id:e})}})(Ae),ze=(n("d1+z"),n("8PSE"),n("noZS"),function(e,t,n){if(e.db.options[t]&&e.db.options[t][n])return e.db.options[t][n].value}),Ie=(n("zIDs"),n("JZM8")),De=n.n(Ie),We=n("wMS7"),Ge=n.n(We);function Ve(e){return Ge.a.sanitize(e)}n("SvSY"),n("GwGQ"),n("S3hr"),n("BC1D"),n("3Ism");var He=n("stDu"),Ue=n.n(He),Je=n("DtUU"),Ke=n.n(Je);function Ze(e){return Ke.a.sanitize(e)}function Xe(e){return Ke.a.sanitize(e,{ALLOWED_TAGS:["#text"],KEEP_CONTENT:!0})}n("Qp93"),n("Og4R"),n("wO1q"),n("bbOV"),n("IvZt"),n("UgwJ"),n("DR8w"),n("Wb1T"),n("N6vl"),n("58lU"),n("ezWO"),n("V0ye"),n("bGfa"),n("z8VG"),n("EA4h"),n("+ir/"),n("eO5a");var Ye=n("W59U"),Qe=n.n(Ye),$e={CHORD:"chord",CHORD_LINE_REPEATER:"chordLineRepeater",EMPTY_LINE:"emptyLine",SECTION_LABEL:"sectionLabel",TEXT:"text",TIME_SIGNATURE:"timeSignature"},et=(n("0YnA"),["2/2","3/2","2/4","3/4","4/4","5/4","3/8","6/8","9/8","12/8"]);function tt(e){return et.includes(e)}n("yV55"),n("muZw"),n("2nki");var nt={barRepeat:"/",chordBeatCount:"\\.",chordLineRepeat:"/",noChord:"NC",noLyrics:"NL",sectionLabel:"#"},rt=new RegExp("^"+nt.sectionLabel+"[a-zA-Z]+( x[2-9])?$");function at(e){return null!==e.trim().match(rt)}n("twmU");function ot(e){return e.replace(/\t+/g," ").replace(/  +/g," ").trim()}var it=n("C4AH"),lt=n.n(it),ut=n("+56g"),ct=new ut.Chords;var st=new RegExp(nt.chordBeatCount+"*$","g"),pt=new RegExp("^"+nt.barRepeat+"+$");function dt(){return ot(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(" ").every(function(e,t){var n,r=e.replace(st,"");return n=r,lt()(n)&&ct.isChord(n)||e.match(pt)&&t>0||r===nt.noChord})}n("W/i9"),n("KkuB");function ft(e){if(!tt(e))throw new TypeError("Expected time signature string, received: "+e);var t=e.split("/"),n=Number.parseInt(t[0],10),r=Number.parseInt(t[1],10),a=n;return 2===r?a=2*n:8===r&&(a=n/3),{string:e,count:n,value:r,beatCount:a}}var mt=n("RbZC"),ht=n.n(mt),gt=new ut.Chords;n("hawK"),n("RW8R"),n("MJh/"),n("LyF0"),n("sv0B"),n("M4zn"),n("hDtA"),n("C3w1");var yt=n("drfv"),vt=n.n(yt);function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Et(e,t){return!t||"object"!==bt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ct(e){var t="function"==typeof Map?new Map:void 0;return(Ct=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Ot(e,arguments,Rt(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),St(r,e)})(e)}function Ot(e,t,n){return(Ot=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&St(a,n.prototype),a}).apply(null,arguments)}function St(e,t){return(St=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rt(e){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wt=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.string,a=n.duration,o=n.currentBeatCount,i=n.beatCount;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!r||!lt()(r))throw new TypeError("IncorrectBeatCountException cannot be created without chord string, received: "+r);if(!a||!vt()(a))throw new TypeError("IncorrectBeatCountException cannot be created without chord duration, received: "+a);if(!o||!vt()(o))throw new TypeError("IncorrectBeatCountException cannot be created without currentBeatCount, received: "+o);if(!i||!vt()(i))throw new TypeError("IncorrectBeatCountException cannot be created without beatCount, received: "+i);return(e=Et(this,Rt(t).call(this))).name="IncorrectBeatCountException",e.string=r,e.duration=a,e.currentBeatCount=o,e.beatCount=i,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&St(e,t)}(t,Ct(Error)),t}();function Nt(e){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xt(e,t){return!t||"object"!==Nt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pt(e){var t="function"==typeof Map?new Map:void 0;return(Pt=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Tt(e,arguments,Ft(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),jt(r,e)})(e)}function Tt(e,t,n){return(Tt=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&jt(a,n.prototype),a}).apply(null,arguments)}function jt(e,t){return(jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ft(e){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Lt=function(e){function t(){var e,n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).string;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!n||!lt()(n))throw new TypeError("InvalidChordRepetitionException cannot be created without chord string, received: "+n);return(e=xt(this,Ft(t).call(this))).name="InvalidChordRepetitionException",e.string=n,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jt(e,t)}(t,Pt(Error)),t}(),qt=new RegExp(nt.chordBeatCount,"g"),Bt=new RegExp("^"+nt.barRepeat+"+$"),kt=ft("4/4");function Mt(e){var t,n,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).timeSignature,a=void 0===r?kt:r,o=a.beatCount,i=[],l={allChords:[]},u=Qe()(l),c={},s=0,p=0,d=ot(e).split(" ");return d.forEach(function(e,r){if(e.match(Bt)){if(!n)throw new Error("A chord line cannot start with the barRepeat symbol");for(var f=0;f<e.length;f++)i.push(Qe()(n))}else if(t=e.replace(qt,""),c={string:e,duration:_t(e,o),model:At(t)?nt.noChord:(h=t,gt.parse(h)),beat:s+1},s+=c.duration,function(e,t){if(e.allChords.length>0){var n=e.allChords[e.allChords.length-1];if(ht()(n.model,t.model))throw new Lt({string:t.string})}}(u,c),u.allChords.push(c),p++,function(e,t){return e===t}(s,o)){u.timeSignature=a;var m=Qe()(u);i.push(m),n=m,u=Qe()(l),s=0}else!function(e,t,n,r){if(function(e,t,n){return function(e,t){return e>t}(e,t)||function(e,t,n){return n&&e<t}(e,t,n)}(t,n,r))throw new wt({message:"",string:e.string,duration:e.duration,currentBeatCount:t,beatCount:n})}(c,s,o,d.length===r+1);var h}),{chordCount:p,allBars:i}}function At(e){return e===nt.noChord}function _t(e,t){return(e.match(qt)||[]).length||t}function zt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function It(e,t){var n=Qe()(e);return n.forEach(function(e){e.type===$e.CHORD&&e.model.allBars.forEach(function(e){e.allChords.forEach(function(e){t(e)})})}),n}function Dt(e,t,n){var r=[],a={},o=!1,i="";return e.forEach(function(e){e.type===$e.SECTION_LABEL?(i=e.model.label,a[i]?a[i]++:a[i]=1,o=e.id===t+n):o&&r.push(e)}),r}function Wt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Vt(e,t,n[t])})}return e}function Vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ht="4/4";function Ut(){var e,t,n,r,a=[],o={},i=ft(Ht),l=[],u=0,c="",s=!1,p=!1;function d(n){m((e=function(e){if(!at(e))throw new TypeError("Expected section identifier string, received: "+e);var t=zt(e.trim().split(" "),2),n=t[0],r=t[1];return{string:e,label:n.substring(1),repeatTimes:r?Number.parseInt(r.substring(1)):0}}(n)).label),t=h(e.label);var o={string:n,type:$e.SECTION_LABEL,model:e,index:t.count,indexWithoutRepeats:t.withoutRepeats,id:e.label+t.count};return p=e.repeatTimes>0,r=Qe()(o),!function(e,t){return t.every(function(t){return t.type===$e.SECTION_LABEL&&t.model.label!==e.label})}(e,a)?(l=Dt(a,e.label,1),u=0,s=!0):s=!1,o}function f(e){return{string:e,type:$e.TEXT}}function m(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o[e]?(o[e].count++,t||o[e].withoutRepeats++):o[e]={count:1,withoutRepeats:1}}function h(e){return o[e]}function g(n,o){if(p&&function(e,t){var n=t[e+1];return void 0===n||at(n)}(n,o))for(var i,l=Dt(a,e.label,t.count).map(function(e){return Gt({},Qe()(e),{isFromSectionRepeat:!0})}),u=1;u<e.repeatTimes;u++)m(e.label,!0),t=h(e.label),i=Gt({},Qe()(r),{index:t.count,indexWithoutRepeats:t.withoutRepeats,id:e.label+t.count,isFromSectionRepeat:!0}),a.push(i),a.push.apply(a,Wt(Qe()(l)))}return{addLine:function(e,t,r){var o,p;tt(e)?(i=ft(p=e),o={string:p,type:$e.TIME_SIGNATURE,model:i}):o=at(e)?d(e):dt(e)?function(e){var t;try{var r=Mt(e,{timeSignature:i});t={string:e,type:$e.CHORD,model:r},n=t}catch(n){t=f(e)}return t}(e):function(e){return ot(e)===nt.chordLineRepeat}(e)?function(e){return n?Gt({},Qe()(n),{isFromChordLineRepeater:!0}):f(e)}(e):function(e){return""===ot(e)}(e)?function(e){return{string:e,type:$e.EMPTY_LINE}}(e):f(e),function(e){if(s&&e.type!==$e.SECTION_LABEL){var t;for(c=l[u];Jt(c,e);)c.type===$e.CHORD&&(n=Qe()(c)),t=Gt({},Qe()(c),{isFromAutoRepeatChords:!0}),a.push(t),c=l[++u];u++}}(o),a.push(o),g(t,r)},asArray:function(){return Qe()(a)}}}function Jt(e,t){return e&&e.type!==$e.TEXT&&e.type!==$e.EMPTY_LINE&&e.type!==t.type&&t.type!==$e.EMPTY_LINE}var Kt=n("mU2P"),Zt=n.n(Kt);function Xt(e){var t=Ue()(e)?e:e.split("\n"),n=Ut();t.map(Ze).map(Xe).forEach(n.addLine);var r=n.asArray();return{allLines:r,allChords:function(e){var t,n=[];return It(e,function(e){-1===(t=Zt()(n,function(t){return ht()(t.model,e.model)}))?n.push({model:Qe()(e.model),occurrences:1}):n[t].occurrences++}),n}(r)}}n("4ECw");var Yt={0:{"":[]},2:{2:[3],11:[3,2]},3:{3:[3],12:[2,4],21:[6,0],111:[2,2,0]},4:{4:[3],13:[1,4],22:[3,2],31:[5,0],112:[1,1,3],121:[1,4,0],211:[4,1,0],1111:[2,2,2]}};var Qt=2,$t=1;var en=n("fuUj"),tn=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],nn={"C#":"Db","D#":"Eb","F#":"Gb","G#":"Ab","A#":"Bb"},rn=n.n(en)()(nn);function an(e){return rn[e]||e}function on(e,t,n){var r=tn.indexOf(e)+t,a=Math.floor(r/12),o=tn[r-12*a];return n&&nn[o]||o}function ln(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.transposeValue,a=void 0===r?0:r,o=n.accidentalsType,i=void 0===o?"auto":o,l=n.harmonizeAccidentals,u=void 0===l||l,c=Qe()(e),s="auto"===i?function(e){var t="",n=0,r=0;return e.filter(function(e){return e.model!==nt.noChord}).forEach(function(e){2===(t=e.model.symbol.rootNote).length&&("b"===t[1]?n+=e.occurrences:r+=e.occurrences)}),n>r?"flat":"sharp"}(t):i;return(u||0!==a)&&(c=It(c,function(e){e.model!==nt.noChord&&(e.transposedModel=function(e,t,n){var r=Qe()(e),a=r.symbol.rootNote,o=r.symbol.bassNote,i=an(a);if(r.symbol.rootNote=on(i,t,n),o){var l=an(o);r.symbol.bassNote=on(l,t,n)}return r}(e.model,a,"flat"===s))})),c}var un=n("0SR/"),cn=n.n(un),sn=(n("PPcy"),n("vSYW"),n("eqZ8")),pn=n.n(sn);var dn=n("w3Qk"),fn=n.n(dn),mn=" ",hn=0,gn=2;function yn(e){var t=0,n=0,r=e.allChords.reduce(function(e,r){var a;return t=vt()(r.spacesWithin)?r.spacesWithin:hn,n=vt()(r.spacesAfter)?r.spacesAfter:gn,e+=(a=r.symbol,pn()({chordSymbol:a})+mn.repeat(t)+mn.repeat(n))},"");return fn()({barContent:r})}var vn=n("PW/E"),bn=n.n(vn);var En=n("C4RQ"),Cn=n.n(En);var On=n("+yqq"),Sn=n.n(On);var Rn=n("JLab"),wn=n.n(Rn),Nn={a:"adlib",b:"bridge",c:"chorus",i:"intro",o:"outro",p:"pre-chorus",s:"solo",u:"interlude",v:"verse"};var xn=n("F2RA"),Pn=n.n(xn);var Tn=n("ahFF"),jn=n.n(Tn);var Fn=n("avJp"),Ln=n.n(Fn),qn=new ut.Chords,Bn=function(e){return e===nt.noChord?"NC":qn.print(e.symbol)};function kn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.alignBars,r=void 0!==n&&n,a=t.transposeValue,o=void 0===a?0:a,i=t.accidentalsType,l=void 0===i?"auto":i,u=t.harmonizeAccidentals,c=void 0===u||u,s=t.expandSectionRepeats,p=void 0===s||s,d=t.autoRepeatChords,f=void 0===d||d,m=e.allLines,h=function(e){var t={};return e.filter(function(e){return e.type===$e.SECTION_LABEL}).forEach(function(e){t[e.model.label]?t[e.model.label]++:t[e.model.label]=1}),t}(m=It(m=ln(m,e.allChords,{transposeValue:o,accidentalsType:l,harmonizeAccidentals:c}),function(e){e.symbol=e.transposedModel?Bn(e.transposedModel):Bn(e.model)})),g=function(e){var t=[];return e.filter(function(e){return e.type===$e.CHORD}).forEach(function(e){e.model.allBars.forEach(function(e,n){if(!t[n]){t[n]={};for(var r=1;r<=e.timeSignature.beatCount;r++)t[n][r]=0}e.allChords.forEach(function(e){t[n][e.beat]=Math.max(t[n][e.beat],e.symbol.length)})})}),t}(m),y=!1,v=m.filter(function(e){e.type===$e.SECTION_LABEL&&(y=!0===e.isFromSectionRepeat&&!p);var t=e.isFromAutoRepeatChords&&!f;return!y&&!t}).map(function(e){var t,n,a,o,i,l,u,c;e.type===$e.CHORD?t=function(e){var t=e.allBars.map(function(e){return yn(e)}),n=bn()(),r=n+t.join(n)+n;return cn()({chordLine:r})}(r?function(e,t){var n,r=Qe()(e);return r.allBars.forEach(function(e,r){e.allChords.forEach(function(a){if(a.spacesWithin=t[r][a.beat]-a.symbol.length,a.spacesAfter=0,a.beat!==e.timeSignature.beatCount){a.spacesAfter=Qt;for(var o=a.beat+1;o<a.beat+a.duration;o++)n=t[r][o],a.spacesAfter+=n||$t,o!==e.timeSignature.beatCount&&n&&(a.spacesAfter+=Qt)}})}),r}(e.model,g):(o=e.model,i=Qe()(o),l=0,u="",c=[],i.allBars.forEach(function(e){l=0,u="",e.allChords.forEach(function(e){u+=e.duration.toString(),l+=e.duration}),c=Yt[l][u];for(var t=0;t<u.length;t++)e.allChords[t].spacesAfter=c[t]}),i)):e.type===$e.EMPTY_LINE?t=Cn()():e.type===$e.SECTION_LABEL?t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.expandSectionRepeats,r=void 0===n||n,a=t.sectionsStats,o=void 0===a?{}:a,i=e.model,l=e.index,u=e.indexWithoutRepeats,c=Nn[i.label]?Nn[i.label]:i.label,s=c[0].toUpperCase()+c.substring(1);return o[i.label]>1&&(s+=" ",s+=r?l:u),!r&&i.repeatTimes&&(s+=" x"+i.repeatTimes),wn()({sectionLabel:s})}(e,{sectionsStats:h,expandSectionRepeats:p}):e.type===$e.TIME_SIGNATURE?(a=e,t=jn()({timeSignature:a.string})):(n=e,t=Pn()({textLine:n.string}));return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isFromSectionRepeat,r=void 0!==n&&n,a=t.isFromAutoRepeatChords,o=void 0!==a&&a,i=t.isFromChordLineRepeater,l=void 0!==i&&i,u=["cmLine"];return r&&u.push("cmLine--isFromSectionRepeat"),o&&u.push("cmLine--isFromAutoRepeatChords"),l&&u.push("cmLine--isFromChordLineRepeater"),Sn()({line:e,lineClasses:u.join(" ")})}(t,{isFromSectionRepeat:e.isFromSectionRepeat,isFromAutoRepeatChords:e.isFromAutoRepeatChords,isFromChordLineRepeater:e.isFromChordLineRepeater})}).filter(Boolean).join("\n");return Ln()({song:v})}function Mn(e,t){return kn(Xt(e),t)}function An(e){var t=e.content,n=De()(e,["alignBars","harmonizeAccidentals","accidentalsType","transposeValue","autoRepeatChords","expandSectionRepeats"]);return A.a.createElement("div",{className:"songRenderer"},A.a.createElement("div",{dangerouslySetInnerHTML:{__html:Ve(Mn(t,n))}}))}An.propTypes={content:W.a.string},An.defaultProps={content:""};var _n=An,zn=Object(I.b)(function(e){return{accidentalsType:ze(e,"rendering","preferredAccidentals"),alignBars:ze(e,"rendering","alignBars"),harmonizeAccidentals:ze(e,"rendering","harmonizeAccidentals"),transposeValue:ze(e,"rendering","transposeValue"),autoRepeatChords:ze(e,"rendering","autoRepeatChords"),expandSectionRepeats:ze(e,"rendering","expandSectionRepeats")}})(_n);function In(e){var t=e.selectedFile;return A.a.createElement("div",{className:["editorPreview"].join(" ")},A.a.createElement(zn,{content:t.content}))}In.propTypes={selectedFile:W.a.object.isRequired};var Dn=In,Wn=Object(I.b)(function(){return{}})(Dn),Gn=(n("Rfxz"),n("BC9S"),n("b/sn")),Vn=n("cD+i"),Hn=n("byeC"),Un=n("VuzU"),Jn=n("++pP"),Kn=n("Mhoe");var Zn=n("n5wB"),Xn=new Hn.Schema({nodes:Zn.nodes,marks:Zn.marks});n("E9XD"),n("9LPj"),n("vxnP");function Yn(e){return e.toJSON().doc.content.map(function(e){return e.content?e.content.reduce(function(e,t){return e+=t.text},""):""}).join("\n")}n("rB9j"),n("EnZy");function Qn(e){return Ge.a.sanitize(e,{ALLOWED_TAGS:["p","#text"],KEEP_CONTENT:!1})}n("Qe33");function $n(e){var t,n,r=e.selectedFileId,a=e.editorContent,o=e.updateFile,i=Object(M.useRef)(),l=Object(M.useRef)(),u=(t=r,n=Object(M.useRef)(),Object(M.useEffect)(function(){n.current=t}),n.current);function c(){return i.current&&i.current.dom.parentNode}function s(){i.current.dom.parentNode.removeChild(i.current.dom)}return Object(M.useEffect)(function(){if(!r||i.current&&u===r)c()&&!r&&s();else{c()&&s();var e=function(e){return Gn.EditorState.create({doc:Hn.DOMParser.fromSchema(Xn).parse((t=e,n=Qn(t).split("\n").map(function(e){return"<p>".concat(e,"</p>")}).join(""),r=document.createElement("div"),r.innerHTML=Qn(n),r),{preserveWhitespace:"full"}),plugins:[Object(Kn.history)(),Object(Un.keymap)({"Mod-z":Kn.undo,"Mod-y":Kn.redo}),Object(Un.keymap)(Jn.baseKeymap)]});var t,n,r}(a);i.current=function(e,t,n){return new Vn.EditorView(null,{state:e,dispatchTransaction:function(e){var r=this.state.applyTransaction(e),a=r.state,o=r.transactions;this.updateState(a),o.some(function(e){return e.docChanged})&&t(n,{content:Yn(a)})}})}(e,o,r),l.current.appendChild(i.current.dom),$n.editorView=i.current}}),A.a.createElement("div",{className:"prosemirrorWrapper",ref:l})}$n.defaultProps={selectedFileId:"",editorContent:""},$n.propTypes={selectedFileId:W.a.string,editorContent:W.a.string,updateFile:W.a.func.isRequired};var er=$n;function tr(e){var t=e.selectedFile,n=e.updateFile;return A.a.createElement("div",{className:"songEditor"},A.a.createElement("div",{className:"songEditor-source"},A.a.createElement(er,{editorContent:t.content,updateFile:n,selectedFileId:t.id})),A.a.createElement("div",{className:"songEditor-preview"},A.a.createElement(Wn,{selectedFile:t})))}tr.propTypes={selectedFile:W.a.object,updateFile:W.a.func.isRequired};var nr=tr;n("IA7u");function rr(e){var t=e.selectedFile;return A.a.createElement("div",{className:"exportPreview exp-SongRenderer"},A.a.createElement(zn,{content:t.content}))}rr.propTypes={selectedFile:W.a.object.isRequired};var ar=rr;n("eLJI");function or(e){var t=e.selectedFile,n=e.fontSize,r=e.chordsColor,a=e.highlightChords,o=e.columnsCount,i=["playRenderer"];return i.push("playRenderer--columns-"+o),i.push("cmLine--fontSize"+n),i.push("cmChordSymbol--chordsColor-"+r),a&&i.push("cmChordLine--highlightChords"),A.a.createElement("div",{className:"playRendererWrapper1"},A.a.createElement("div",{className:"playRendererWrapper2"},A.a.createElement("div",{className:i.join(" "),"data-testid":"playRenderer"},A.a.createElement(zn,{content:t.content}))))}or.propTypes={selectedFile:W.a.object.isRequired,columnsCount:W.a.number.isRequired,fontSize:W.a.number.isRequired,chordsColor:W.a.string.isRequired,highlightChords:W.a.bool.isRequired};var ir=or,lr=Object(I.b)(function(e){return{chordsColor:ze(e,"rendering","chordsColor"),highlightChords:ze(e,"rendering","highlightChords"),fontSize:ze(e,"rendering","fontSize"),columnsCount:ze(e,"rendering","columnsCount")}})(ir);n("fNiH"),n("5s+n"),n("ls82");function ur(e){var t=e.pageHeader,n=e.allColumnsLines,r=e.documentSize,a=e.documentMargins,o=e.printFontSize,i=n.map(function(e,t){var n=e.join("\n");return A.a.createElement("div",{key:t,className:"printPreview-pageColumn","data-testid":"printPreview-pageColumn",dangerouslySetInnerHTML:{__html:Ve(n)}})}),l=["printPreview-page"];l.push("printPreview-page--"+r),l.push("printPreview-page--font"+o);var u=["printPreview-pageContentWrapper"];return u.push("printPreview-pageContentWrapper--padding"+a),A.a.createElement("div",{className:l.join(" "),"data-testid":"printPreview-page"},A.a.createElement("div",{className:u.join(" "),"data-testid":"printPreview-pageContentWrapper"},A.a.createElement("div",{className:"printPreview-pageContent"},t,A.a.createElement("div",{className:"printPreview-pageColumnWrapper"},i))))}ur.defaultProps={allColumnsLines:[]},ur.propTypes={pageHeader:W.a.element,allColumnsLines:W.a.arrayOf(W.a.arrayOf(W.a.string)),documentSize:W.a.string.isRequired,documentMargins:W.a.number.isRequired,printFontSize:W.a.number.isRequired};var cr=A.a.memo(ur);function sr(e){var t=e.title;return A.a.createElement("div",{className:"printPreview-pageHeader"},t)}sr.defaultProps={allColumnsLines:[]},sr.propTypes={title:W.a.string.isRequired};var pr=A.a.memo(sr),dr=(n("yXV3"),{emptyLine:"cmEmptyLine",chordLine:"cmChordLine",textLine:"cmTextLine"});function fr(e,t){var n=t.columnsCount,r=t.firstPageHeight,a=t.normalPageHeight,o=t.columnBreakOnParagraph,i=t.noEmptyLinesOnColumnStart,l=void 0===i||i,u=t.noOrphanTextLine,c=void 0===u||u,s=function(e){var t=e.firstPageHeight,n=e.normalPageHeight,r=e.columnsCount,a=[],o=0,i=0,l=s(),u=0;function c(e){e.forEach(function(e){u+e.height>l&&p(),a[o][i].push(e.content),u+=e.height})}function s(){return 0===o&&t?t:n}function p(){i===r-1?(a[++o]=[],i=0):i++,a[o][i]=[],u=0,l=s()}return a[o]=[],a[o][i]=[],{insert:function(e){c(e)},insertOnNextColumn:function(e){p(),c(e)},fitsOnCurrentColumn:function(e){return u+e<=l},fitsOnNextColumn:function(e){return e<=(0===o&&i<r&&t?t:n)},get:function(){return a}}}({columnsCount:n,firstPageHeight:r,normalPageHeight:a,noEmptyLinesOnColumnStart:l}),p=[],d=0;return(r||a)>0&&e.forEach(function(t,n){(function(e,t,n,r){return!(mr(t)&&!e.fitsOnCurrentColumn(t.height)&&0===n.length&&!0===r)})(s,t,p,l)&&(p.push(t),d+=t.height),p.length>0&&function(e,t,n){var r=n.noOrphanTextLine,a=n.columnBreakOnParagraph;if(mr(e)||!t)return!0;var o=(i=e,hr(i.content,dr.chordLine)&&function(e){return hr(e.content,dr.textLine)}(t));var i;if(!0===r&&o)return!1;var l=mr(t);if(!0===a&&!l)return!1;return!0}(t,e[n+1],{noOrphanTextLine:c,columnBreakOnParagraph:o})&&(s.fitsOnCurrentColumn(d)?s.insert(p):s.fitsOnNextColumn(d)?s.insertOnNextColumn(p):s.insert(p),p=[],d=0)}),s.get()}function mr(e){return hr(e.content,dr.emptyLine)}function hr(e,t){return e.indexOf(t)>-1}n("ddDh");function gr(e,t){var n=document.createElement("div");return n.classList.add("measuring-node"),document.body.appendChild(n),new Promise(function(r){z.a.render(A.a.createElement("div",null,e),n,function(){var e=t(n);z.a.unmountComponentAtNode(n),n.parentNode.removeChild(n),r(e)})})}function yr(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.length||0;n<e;n++)t.push([]);return t}function vr(e){return e.clientHeight}function br(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}var Er={line:".cmLine"};function Cr(e,t){return Or.apply(this,arguments)}function Or(){var e;return e=regeneratorRuntime.mark(function e(t,n){var r,a,o,i,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.columnsCount,a=n.documentSize,o=n.documentMargins,i=n.printFontSize,l=A.a.createElement(cr,{allColumnsLines:yr(r,[t]),columnsCount:r,documentSize:a,documentMargins:o,printFontSize:i}),u=function(e){var t=[];return e.querySelectorAll(Er.line).forEach(function(e){t.push(e.offsetHeight)}),t},e.next=5,gr(l,u);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}),(Or=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){br(o,r,a,i,l,"next",e)}function l(e){br(o,r,a,i,l,"throw",e)}i(void 0)})}).apply(this,arguments)}function Sr(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}function Rr(e,t){return wr.apply(this,arguments)}function wr(){var e;return e=regeneratorRuntime.mark(function e(t,n){var r,a,o,i,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.columnsCount,a=n.documentSize,o=n.documentMargins,i=n.printFontSize,l=A.a.createElement(cr,{pageHeader:A.a.createElement(pr,{title:t}),allColumnsLines:yr(r),documentSize:a,documentMargins:o,printFontSize:i}),u=function(e){var t=e.querySelector(".printPreview-pageContent");return{firstPageHeight:vr(e.querySelector(".printPreview-pageColumnWrapper")),normalPageHeight:vr(t)}},e.next=5,gr(l,u);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}),(wr=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Sr(o,r,a,i,l,"next",e)}function l(e){Sr(o,r,a,i,l,"throw",e)}i(void 0)})}).apply(this,arguments)}function Nr(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}function xr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Pr(e){var t=xr(Object(M.useState)([]),2),n=t[0],r=t[1],a=e.title,o=e.allLines,i=e.columnsCount,l=e.columnBreakOnParagraph,u=e.documentSize,c=e.documentMargins,s=e.printFontSize;Object(M.useLayoutEffect)(function(){(function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,p,d,f,m,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={columnsCount:i,documentSize:u,documentMargins:c,printFontSize:s},e.next=3,Cr(o,t);case 3:return n=e.sent,e.next=6,Rr(a,t);case 6:p=e.sent,d=p.normalPageHeight,f=p.firstPageHeight,m=o.map(function(e,t){return{content:e,height:n[t]}}),h=fr(m,{columnsCount:i,columnBreakOnParagraph:l,normalPageHeight:d,firstPageHeight:f}),r(h);case 12:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Nr(o,r,a,i,l,"next",e)}function l(e){Nr(o,r,a,i,l,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}})()()},[o,a,i,l,u,c,s]);var p=n.map(function(e,t){return A.a.createElement(cr,{key:t,pageHeader:0===t?A.a.createElement(pr,{title:a}):null,allColumnsLines:yr(i,e),documentSize:u,documentMargins:c,printFontSize:s})});return A.a.createElement(A.a.Fragment,null,p)}Pr.propTypes={title:W.a.string.isRequired,allLines:W.a.arrayOf(W.a.string).isRequired,columnsCount:W.a.number.isRequired,columnBreakOnParagraph:W.a.bool.isRequired,documentSize:W.a.string.isRequired,documentMargins:W.a.number.isRequired,printFontSize:W.a.number.isRequired};var Tr=Pr;function jr(e){var t=e.selectedFile,n=e.highlightChords,r=De()(e,["alignBars","harmonizeAccidentals","accidentalsType","transposeValue","autoRepeatChords","expandSectionRepeats"]),a=Mn(t.content,r).split("\n"),o=["printPreview"];return n&&o.push("cmChordLine--highlightChords"),A.a.createElement("div",{className:o.join(" "),"data-testid":"printPreview"},A.a.createElement(Tr,{title:t.title,allLines:a,columnsCount:e.columnsCount,columnBreakOnParagraph:e.columnBreakOnParagraph,documentSize:e.documentSize,documentMargins:e.documentMargins,printFontSize:e.printFontSize}))}jr.propTypes={selectedFile:W.a.object.isRequired,columnsCount:W.a.number.isRequired,columnBreakOnParagraph:W.a.bool.isRequired,documentSize:W.a.string.isRequired,documentMargins:W.a.number.isRequired,printFontSize:W.a.number.isRequired,highlightChords:W.a.bool.isRequired};var Fr=jr,Lr=Object(I.b)(function(e){return{columnsCount:ze(e,"rendering","columnsCount"),columnBreakOnParagraph:ze(e,"rendering","columnBreakOnParagraph"),documentSize:ze(e,"rendering","documentSize"),documentMargins:ze(e,"rendering","documentMargins"),accidentalsType:ze(e,"rendering","preferredAccidentals"),alignBars:ze(e,"rendering","alignBars"),harmonizeAccidentals:ze(e,"rendering","harmonizeAccidentals"),transposeValue:ze(e,"rendering","transposeValue"),printFontSize:ze(e,"rendering","printFontSize"),highlightChords:ze(e,"rendering","highlightChords"),autoRepeatChords:ze(e,"rendering","autoRepeatChords"),expandSectionRepeats:ze(e,"rendering","expandSectionRepeats")}})(Fr);function qr(e){switch(e.editorMode){case"edit":return A.a.createElement(nr,e);case"play":return A.a.createElement(lr,e);case"print":return A.a.createElement(Lr,e);case"export":return A.a.createElement(ar,e)}}qr.propTypes={editorMode:W.a.string.isRequired};var Br=qr,kr=Object(I.b)(function(e){return{selectedFile:xe(e,fe(e))||{},editorMode:$(e)}},{updateFile:ve})(Br);n("3Z8G"),n("xeFo"),n("yq1k"),n("JTJg");function Mr(){return(Mr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ar(e){var t,n,r,a,o,i,l,u=e.id,c=e.allWidgets,s=e.nonInteractableWidgets,p=e.hiddenWidgets,d=e.setOption,f=e.getEntryComponent,m=["optionsPanel","optionsPanel-"+u],h=c.widgetsOrder.filter(function(e){return!p.includes(e)}).map(function(e){return"optionsGroup"===(t=c.allWidgets[e]).type?(l=t.groupWidgetsOrder.filter(function(e){return!p.includes(e)}).map(function(r){return n=t.allGroupWidgets[r],i=!s.includes(e)&&!s.includes(r),g(r,n,i)}),a=f(t.type),o=!s.includes(e),A.a.createElement(a,{key:e,isInteractable:o,label:t.label,icon:t.icon},l)):g(e,t,!s.includes(e))});function g(t,n,a){return r=f(n.type),A.a.createElement(r,Mr({key:t,isInteractable:a,optionContext:n.option.context,optionKey:n.option.key,optionValue:e[n.option.key],setOption:d,label:n.label},n.typeOptions))}return A.a.createElement("div",{className:m.join(" ")},h)}Ar.propTypes={id:W.a.string.isRequired,allWidgets:W.a.object.isRequired,nonInteractableWidgets:W.a.arrayOf(W.a.string).isRequired,hiddenWidgets:W.a.arrayOf(W.a.string).isRequired,setOption:W.a.func.isRequired,getEntryComponent:W.a.func.isRequired};var _r=Ar;n("cGxp");function zr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ir(e){var t=zr(Object(M.useState)(e.isOpened),2),n=t[0],r=t[1],a=e.isInteractable,o=e.icon,i=e.label,l=["sb-optionsGroup"];function u(){return a&&e.children&&e.children.length>0}return u()||l.push("sb-optionsGroup-isNotInteractable"),!n||e.children&&0!==e.children.length||r(!1),A.a.createElement("div",{className:l.join(" ")},A.a.createElement("div",{className:"sb-optionsGroup-title",onClick:u()?function(){r(!n)}:null},A.a.createElement("div",{className:"sb-optionsGroup-label"},A.a.createElement("span",{className:"sb-optionsGroup-iconTitle"},A.a.createElement(te,{iconName:o}))," ",i),A.a.createElement("div",{className:"sb-optionsGroup-toggle"},A.a.createElement("span",{className:"sb-optionsGroup-iconToggle"},A.a.createElement(te,{iconName:n?"unfold_less":"unfold_more"})))),A.a.createElement("div",{className:"sb-optionsGroup-content"},n&&e.children))}Ir.propTypes={isOpened:W.a.bool,isInteractable:W.a.bool.isRequired,icon:W.a.string.isRequired,label:W.a.string.isRequired,children:W.a.arrayOf(W.a.element)},Ir.defaultProps={isOpened:!0};var Dr=Ir;n("2ywC");function Wr(e){var t,n=e.isSelected,r=e.label,a=e.onClick,o=["sb-optionSelectChoice"];return n&&(o.push("sb-optionSelectChoice-isSelected"),t=A.a.createElement("span",{className:"sb-optionSelectChoice-checkIcon"},A.a.createElement(te,{iconName:"check"}))),A.a.createElement("div",{className:o.join(" "),onClick:a},A.a.createElement("div",{className:"sb-optionSelectChoice-check"},n&&t),A.a.createElement("div",{className:"sb-optionSelectChoice-label"},r))}Wr.propTypes={isSelected:W.a.bool.isRequired,label:W.a.string.isRequired,onClick:W.a.func.isRequired};var Gr=A.a.memo(Wr);function Vr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Hr(e){var t=Vr(Object(M.useState)(!1),2),n=t[0],r=t[1],a=e.isInteractable,o=e.label,i=e.allChoices,l=e.optionContext,u=e.optionKey,c=e.optionValue,s=e.setOption,p=["sb-optionSelect"];a||p.push("sb-optionSelect-isNotInteractable");var d=n?"keyboard_arrow_down":"keyboard_arrow_right";var f=n?A.a.createElement("div",{className:"sb-optionSelect-choices"},i.map(function(e){return A.a.createElement(Gr,{key:e.value,label:e.label,isSelected:c===e.value,onClick:function(){return s(l,u,e.value)}})})):null;return A.a.createElement("div",{className:p.join(" ")},A.a.createElement("div",{className:"sb-optionSelect-title",onClick:a?function(){r(!n)}:null},A.a.createElement("div",{className:"sb-optionSelect-desc"},o),A.a.createElement("div",{className:"sb-optionSelect-toggle"},A.a.createElement("span",{className:"sb-optionSelect-icon"},A.a.createElement(te,{iconName:d})))),f)}Hr.propTypes={isInteractable:W.a.bool.isRequired,label:W.a.string.isRequired,allChoices:W.a.array.isRequired,optionContext:W.a.string.isRequired,optionKey:W.a.string.isRequired,optionValue:W.a.string.isRequired,setOption:W.a.func.isRequired};var Ur=Hr;n("qePV"),n("JevA"),n("6EPN");function Jr(e){var t=e.isInteractable,n=e.label,r=e.min,a=e.max,o=e.showPlusSymbol,i=e.optionContext,l=e.optionKey,u=e.optionValue,c=e.setOption,s=["sb-optionSlider"];t||s.push("sb-optionSlider-isNotInteractable");var p=u>0&&o?"+"+u:u;return A.a.createElement("div",{className:s.join(" ")},A.a.createElement("div",{className:"sb-optionSlider-desc"},n),A.a.createElement("div",{className:"sb-optionSlider-value"},p),A.a.createElement("div",{className:"sb-optionSlider-range"},A.a.createElement("input",{min:r,max:a,value:u,type:"range",onChange:t?function(e){c(i,l,Number.parseInt(e.target.value))}:null,disabled:!t})))}Jr.propTypes={isInteractable:W.a.bool.isRequired,label:W.a.string.isRequired,min:W.a.number.isRequired,max:W.a.number.isRequired,showPlusSymbol:W.a.bool,optionContext:W.a.string.isRequired,optionKey:W.a.string.isRequired,optionValue:W.a.number.isRequired,setOption:W.a.func.isRequired},Jr.defaultProps={showPlusSymbol:!0};var Kr=A.a.memo(Jr);n("UUiC");function Zr(e){var t=e.isInteractable,n=e.label,r=e.optionContext,a=e.optionKey,o=e.optionValue,i=e.setOption,l=["sb-optionToggle"];return l.push(!0===o?"sb-optionToggle-isOn":"sb-optionToggle-isOff"),t||l.push("sb-optionToggle-isNotInteractable"),A.a.createElement("div",{className:l.join(" "),onClick:t?function(){i(r,a,!o)}:null},A.a.createElement("div",{className:"sb-optionToggle-desc"},n),A.a.createElement("div",{className:"sb-optionToggle-icon"},A.a.createElement("span",{className:"sb-optionToggle-icon"},A.a.createElement(te,{iconName:!0===o?"toggle_on":"toggle_off"}))))}Zr.propTypes={isInteractable:W.a.bool.isRequired,label:W.a.string.isRequired,optionContext:W.a.string.isRequired,optionKey:W.a.string.isRequired,optionValue:W.a.bool.isRequired,setOption:W.a.func.isRequired};var Xr=A.a.memo(Zr);function Yr(){return(Yr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Qr(e){switch(e){case"optionsGroup":return Dr;case"select":return Ur;case"slider":return Kr;case"toggle":return Xr}}function $r(e){return A.a.createElement("div",{className:"sb-optionsPanel"},A.a.createElement(_r,Yr({},e,{getEntryComponent:Qr})))}function ea(){return(ea=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ta=function(e,t,n){if(!e)throw new TypeError("Cannot set an option without a context");if(!t)throw new TypeError("Cannot set an option without a key");return X("db/options/setOptionValue",{context:e,key:t,value:n})};var na,ra,aa,oa,ia=(na={widgetsOrder:["style","alignBars","autoRepeatChords","expandSectionRepeats","layout","helpers","chords","format"],allWidgets:{style:{label:"Rendering style",type:"select",typeOptions:{allChoices:[{id:"styleChordMark",label:"ChordMark",value:"chordmark"}]},option:{context:"rendering",key:"style"}},alignBars:{label:"Align bars",type:"toggle",option:{context:"rendering",key:"alignBars"}},autoRepeatChords:{label:"Auto repeat chords",type:"toggle",option:{context:"rendering",key:"autoRepeatChords"}},expandSectionRepeats:{label:"Expand section repeats",type:"toggle",option:{context:"rendering",key:"expandSectionRepeats"}},layout:{type:"optionsGroup",label:"Layout",icon:"view_compact",groupWidgetsOrder:["documentSize","documentMargins","columnsCount","columnBreakOnParagraph"],allGroupWidgets:{documentSize:{label:"Document size",type:"select",typeOptions:{allChoices:[{id:"documentSizeA4",label:"A4",value:"a4"},{id:"documentSizeBooxMax2Pro",label:"Boox Max 2 Pro",value:"booxmax2pro"}]},option:{context:"rendering",key:"documentSize"}},documentMargins:{label:"Margins",type:"slider",typeOptions:{min:1,max:5},option:{context:"rendering",key:"documentMargins"}},columnsCount:{label:"Columns",type:"slider",typeOptions:{min:1,max:4},option:{context:"rendering",key:"columnsCount"}},columnBreakOnParagraph:{label:"Break on paragraph",type:"toggle",option:{context:"rendering",key:"columnBreakOnParagraph"}}}},helpers:{type:"optionsGroup",label:"Helpers",icon:"remove_red_eye",groupWidgetsOrder:["showChords","instrument","showStrummingPattern"],allGroupWidgets:{showChords:{label:"Show chords diagrams",type:"toggle",option:{context:"rendering",key:"showChords"}},instrument:{label:"Instrument",type:"select",typeOptions:{allChoices:[{id:"instrumentGuitar",label:"Guitar",value:"guitar"},{id:"instrumentUkulele",label:"Ukulele",value:"ukulele"},{id:"instrumentMandolin",label:"Mandolin",value:"mandolin"},{id:"instrumentPiano",label:"Piano",value:"piano"}]},option:{context:"rendering",key:"instrument"}},showStrummingPattern:{label:"Show strumming pattern",type:"toggle",option:{context:"rendering",key:"showStrummingPattern"}}}},chords:{type:"optionsGroup",label:"Chords",icon:"music_note",groupWidgetsOrder:["transposeValue","simplifyChords","capoPosition","harmonizeAccidentals","preferredAccidentals"],allGroupWidgets:{transposeValue:{label:"Transpose",type:"slider",typeOptions:{min:-11,max:11,showPlusSymbol:!0},option:{context:"rendering",key:"transposeValue"}},simplifyChords:{label:"Simplify chords",type:"toggle",option:{context:"rendering",key:"simplifyChords"}},capoPosition:{label:"Add capo on fret",type:"slider",typeOptions:{min:0,max:11,showPlusSymbol:!1},option:{context:"rendering",key:"capoPosition"}},harmonizeAccidentals:{label:"Harmonize accidentals",type:"toggle",option:{context:"rendering",key:"harmonizeAccidentals"}},preferredAccidentals:{label:"Preferred accidentals",type:"select",typeOptions:{allChoices:[{id:"preferredAccidentalsAuto",label:"Auto",value:"auto"},{id:"preferredAccidentalsSharp",label:"Sharp (#)",value:"sharp"},{id:"preferredAccidentalsFlat",label:"Flats (b)",value:"flat"}]},option:{context:"rendering",key:"preferredAccidentals"}}}},format:{type:"optionsGroup",label:"Format",icon:"format_size",groupWidgetsOrder:["fontSize","printFontSize","fontStyle","chordsColor","highlightChords"],allGroupWidgets:{fontSize:{label:"Font size",type:"slider",typeOptions:{min:-5,max:5,showPlusSymbol:!0},option:{context:"rendering",key:"fontSize"}},printFontSize:{label:"Font size (print)",type:"slider",typeOptions:{min:-5,max:5,showPlusSymbol:!0},option:{context:"rendering",key:"printFontSize"}},fontStyle:{label:"Font style",type:"select",typeOptions:{allChoices:[{id:"fontStyleRoboto",label:"Roboto",value:"roboto"}]},option:{context:"rendering",key:"fontStyle"}},chordsColor:{label:"Chords color",type:"select",typeOptions:{allChoices:[{id:"chordsColor",label:"Base",value:"base"},{id:"chordsColorRed",label:"Red",value:"red"},{id:"chordsColorYellow",label:"Yellow",value:"yellow"},{id:"chordsColorGreen",label:"Green",value:"green"}]},option:{context:"rendering",key:"chordsColor"}},highlightChords:{label:"Highlight Chords",type:"toggle",option:{context:"rendering",key:"highlightChords"}}}}}},ra=function(e){var t=[];switch($(e)){case"edit":t.push("helpers"),t.push("layout"),t.push("style"),t.push("format");break;case"play":t.push("documentSize"),t.push("documentMargins"),t.push("columnBreakOnParagraph");break;case"print":t.push("chordsColor");break;case"export":t.push("format"),t.push("layout")}return t},aa=function(e){var t=[],n=$(e);return ze(e,"rendering","harmonizeAccidentals")||t.push("preferredAccidentals"),"print"===n?t.push("fontSize"):t.push("printFontSize"),t.push("helpers"),t.push("simplifyChords"),t.push("capoPosition"),t},oa=function(e){return A.a.createElement("div",{className:"renderingOptionsPanel"},A.a.createElement("div",{className:"renderingOptionsPanel-isCollapsed"},A.a.createElement("span",{className:"renderingOptionsPanel-icon"},A.a.createElement(te,{iconName:"settings"}))),A.a.createElement("div",{className:"renderingOptionsPanel-isExpanded"},A.a.createElement($r,ea({},e,{id:"rendering"}))))},Object(I.b)(function(e){var t,n,r={allWidgets:na,nonInteractableWidgets:ra(e),hiddenWidgets:aa(e)};return na.widgetsOrder.forEach(function(a){"optionsGroup"===(t=na.allWidgets[a]).type?t.groupWidgetsOrder.forEach(function(a){n=t.allGroupWidgets[a],r[n.option.key]=ze(e,n.option.context,n.option.key)}):r[t.option.key]=ze(e,t.option.context,t.option.key)}),r},{setOption:ta})(oa));function la(){var e=A.a.createElement(_e,null),t=A.a.createElement(ia,null);return A.a.createElement(de,{leftBar:e,rightBar:t},A.a.createElement(kr,null))}var ua=[{path:"/editor",action:function(){return la}}],ca=new k.a(ua),sa={navigateTo:function(e){return ca.resolve(e).then(function(e){return t=e,void z.a.render(A.a.createElement(I.a,{store:T},A.a.createElement(A.a.StrictMode,null,A.a.createElement(Z,null,A.a.createElement(t,null)))),document.getElementById("app"));var t})}};(function(){window.__REDUX_DEVTOOLS_EXTENSION__&&B.push(window.__REDUX_DEVTOOLS_EXTENSION__({trace:!0}));var e=i(),t=a()(e,q);(T=Object(o.d)(L,t,o.c.apply(void 0,B))).subscribe(function(){l(T.getState())})})(),sa.navigateTo("/editor")},WoyN:function(e,t,n){},ahFF:function(e,t,n){var r=n("3O+N");e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,a){var o;return'<span class="cmTimeSignature">'+(null!=(o=e.lambda(null!=t?t.timeSignature:t,t))?o:"")+"</span>"},useData:!0})},avJp:function(e,t,n){var r=n("3O+N");e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,a){var o;return null!=(o=e.lambda(null!=t?t.song:t,t))?o:""},useData:!0})},cGxp:function(e,t,n){},"d1+z":function(e,t,n){},ddDh:function(e,t,n){},eLJI:function(e,t,n){},eqZ8:function(e,t,n){var r=n("3O+N");e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,a){return'<span class="cmChordSymbol">'+e.escapeExpression(e.lambda(null!=t?t.chordSymbol:t,t))+"</span>"},useData:!0})},fNiH:function(e,t,n){},g3KT:function(e,t,n){},kGR0:function(e,t,n){},u0UJ:function(e,t,n){},w3Qk:function(e,t,n){var r=n("3O+N");e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,a){var o;return'<span class="cmBarContent">'+(null!=(o=e.lambda(null!=t?t.barContent:t,t))?o:"")+"</span>"},useData:!0})},xeFo:function(e,t,n){},zIDs:function(e,t,n){}});
//# sourceMappingURL=main.52189f9ba73b0f8e34b1.js.map