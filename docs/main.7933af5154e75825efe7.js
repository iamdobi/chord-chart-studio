(()=>{var e,t={KFoJ:(e,t,n)=>{"use strict";var r=n("P4Tr"),o=n.n(r),i=n("m14p"),a=n("5HXA"),l=n("sINF"),c=n("R0vF"),s=(n("yq1k"),n("tkto"),n("pNMO"),n("TeQF"),n("07d7"),n("5DmW"),n("FZtP"),n("27RR"),n("JZM8")),u=n.n(s);function p(){return Date.now()}var d="db/files/Create",f="db/files/Delete",m="db/files/Import",h="db/files/Update",y="db/options/setOptionValue",g="ui/layout/app/toggleLeftBar",b="ui/layout/app/toggleRightBar",v="ui/layout/app/setEditorMode",O=function(e){return e.ui.layout.app.isLeftBarCollapsed},C=function(e){return e.ui.layout.app.isRightBarCollapsed},w=function(e){return e.ui.layout.app.editorMode},E=function(e){return e.fileManager.selected},S=function(e){return e.fileManager.renamed},P=function(e){return e.fileManager.defaultTitle},R=(n("ToJy"),n("zKZe"),n("3WF5")),j=n.n(R),x=n("BkRI"),F=n.n(x),N=n("Y+p1"),A=n.n(N),L=n("xweI"),k=n.n(L),B=n("G4qV"),q=n("EsgF");function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=(0,B.wN)(q.PW,A())((function(e){return j()(e.db.files.allFiles,(function(e){return{title:e.title,id:e.id}}))}),(function(e){return k()(e,(function(e){return e.title.toLowerCase()}))})),I=function(e,t){return e.db.files.allFiles[t]},_=function(e,t,n){var r=e.db.files.allFiles[t];if(r&&(r.options||{})[n]){if(0===Object.keys(r.options[n]).length)return;return F()(r.options[n])}},W=function(e,t){var n=e.db.files.allFiles[t];if(n){var r=n.options||{},o=[];if(r.edit&&o.push(T({},r.edit)),r.play&&o.push(T({},r.play)),r.print&&o.push(T({},r.print)),r.export&&o.push(T({},r.export)),o.length)return o.sort((function(e,t){return e.updatedAt-t.updatedAt})),o.reduce((function(e,t){return Object.assign(e,t)}),{})}};const G={edit:[],play:["chordsAndLyricsDisplay","alignChordsWithLyrics","harmonizeAccidentals","preferredAccidentals","useShortNamings","simplifyChords","transposeValue","alignBars","autoRepeatChords","expandSectionRepeats","columnsCount","fontSize","fontStyle","chordsColor","highlightChords"],print:["chordsAndLyricsDisplay","alignChordsWithLyrics","harmonizeAccidentals","preferredAccidentals","useShortNamings","simplifyChords","transposeValue","alignBars","autoRepeatChords","expandSectionRepeats","documentSize","documentMargins","columnsCount","columnBreakOnParagraph","printFontSize","fontStyle","chordsColor","highlightChords"],export:["chordsAndLyricsDisplay","alignChordsWithLyrics","harmonizeAccidentals","preferredAccidentals","useShortNamings","simplifyChords","transposeValue","style","alignBars","autoRepeatChords","expandSectionRepeats"]};function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z={allFiles:{}};function $(e,t){var n=t.payload,r=n.id,o=n.title,i=n.content,a=H({},e.allFiles);return a[r]={id:r,title:o,content:i},H(H({},e),{},{allFiles:a})}function K(e,t){var n=t.payload,r=n.id,o=n.title,i=n.content;if(!o&&!i||!e.allFiles[r])return e;var a=H({},e.allFiles);return a[r]=H({},a[r]),o&&(a[r].title=o),i&&(a[r].content=i),H(H({},e),{},{allFiles:a})}function J(e,t){var n=t.payload.id;if(!n||!e.allFiles[n])return e;var r=H({},e.allFiles);return delete r[n],H(H({},e),{},{allFiles:r})}function Y(e,t,n){var r=t.payload,o=r.context,i=r.key,a=r.value,l=E(n),c=H({},e.allFiles);if(["songFormatting","songPreferences"].includes(o)&&c[l]){var s=w(n),u="songPreferences"===o?"preferences":s;return c[l]=function(e,t,n,r){return H(H({},e),{},{options:H(H({},e.options),{},U({},t,H(H({},(e.options||{})[t]),{},U({updatedAt:p()},n,r))))})}(c[l],u,i,a),H(H({},e),{},{allFiles:c})}return e}function Q(e,t,n){var r=E(n),o=t.payload.mode;if(!!!_(n,r,o)){var i=u()(W(n,r)||{},G[o]);if(Object.keys(i).length){i.updatedAt=p();var a=H({},e.allFiles);return a[r]=H(H({},a[r]),{},{options:H(H({},a[r].options),{},U({},o,i))}),H(H({},e),{},{allFiles:a})}}return e}n("4mDm"),n("3bBZ");var X="fileManager/select",ee="fileManager/enableRename",te=function(e,t,n){if(e.db.options[t]&&e.db.options[t].values&&void 0!==e.db.options[t].values[n])return e.db.options[t].values[n]},ne=function(e,t){if(e.db.options[t]&&e.db.options[t].defaults)return F()(e.db.options[t].defaults)};function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ae={};function le(e,t){var n=t.payload,r=n.context,o=n.key,i=n.value;if(!e[r]||!e[r].values||void 0===e[r].values[o])return e;var a=oe(oe({},e),{},ie({},r,oe(oe({},e[r]),{},{values:oe({},e[r].values)})));return a[r].values[o]=i,a}function ce(e,t,n){var r=se(n,E(n),t.payload.mode);return oe(oe({},e),{},{songFormatting:oe(oe({},e.songFormatting),{},{values:oe({},r)})})}function se(e,t,n){var r=ne(e,"songFormatting"),o=_(e,t,n);return o||(o=W(e,t)||{}),delete o.updatedAt,Object.assign(r,o)}function ue(e,t,n){var r=t.payload.id,o=se(n,r,w(n)),i=_(n,r,"preferences")||{};delete i.updatedAt;var a=ne(n,"songPreferences"),l=Object.assign(a,i);return oe(oe({},e),{},{songPreferences:oe(oe({},e.songPreferences),{},{values:oe({},l)}),songFormatting:oe(oe({},e.songFormatting),{},{values:oe({},o)})})}const pe=(0,c.Z)({files:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};switch(t.type){case d:case m:return $(e,t);case h:return K(e,t);case f:return J(e,t);case y:return Y(e,t,n);case v:return Q(e,t,n)}return e},options:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};switch(t.type){case y:return le(e,t);case v:return ce(e,t,n);case X:return ue(e,t,n)}return e}});function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var he={selected:"",renamed:"",defaultTitle:"[untitled]"};function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ve={isLeftBarCollapsed:!1,isRightBarCollapsed:!1,editorMode:"edit"};const Oe=(0,c.Z)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case g:return ge(ge({},e),{},{isLeftBarCollapsed:!e.isLeftBarCollapsed});case b:return ge(ge({},e),{},{isRightBarCollapsed:!e.isRightBarCollapsed});case v:var n=t.payload.mode;return ge(ge({},e),{},{editorMode:n});case f:case d:case m:return ge(ge({},e),{},{editorMode:"edit"})}return e}}),Ce=(0,c.Z)({layout:Oe}),we=(0,c.Z)({db:pe,fileManager:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case d:var n=t.payload.id;return fe(fe({},e),{},{selected:n,renamed:n});case m:var r=t.payload.id;return fe(fe({},e),{},{selected:r,renamed:""});case h:return fe(fe({},e),{},{renamed:""});case f:return fe(fe({},e),{},{selected:"",renamed:""});case X:var o=t.payload.id;return fe(fe({},e),{},{selected:o,renamed:o===e.renamed?o:""});case ee:var i=t.payload.id;return fe(fe({},e),{},{renamed:i})}return e},ui:Ce}),Ee={db:{options:{songPreferences:{values:{chordsAndLyricsDisplay:"all",alignChordsWithLyrics:!0,harmonizeAccidentals:!0,preferredAccidentals:"auto",useShortNamings:!0,simplifyChords:"none",transposeValue:0},defaults:{chordsAndLyricsDisplay:"all",alignChordsWithLyrics:!0,harmonizeAccidentals:!0,preferredAccidentals:"auto",useShortNamings:!0,simplifyChords:"none",transposeValue:0}},songFormatting:{values:{style:"chordmark",alignBars:!0,autoRepeatChords:!0,expandSectionRepeats:!0,documentSize:"a4",documentMargins:3,columnsCount:1,columnBreakOnParagraph:!0,fontSize:0,printFontSize:0,fontStyle:"roboto",chordsColor:"yellow",highlightChords:!0},defaults:{style:"chordmark",alignBars:!0,autoRepeatChords:!0,expandSectionRepeats:!0,documentSize:"a4",documentMargins:3,columnsCount:1,columnBreakOnParagraph:!0,fontSize:0,printFontSize:0,fontStyle:"roboto",chordsColor:"yellow",highlightChords:!0}}}}};var Se;function Pe(){var e=(0,a.Uo)((0,i.md)(l.Z)),t=function(){try{var e=localStorage.getItem("state");if(!e)return;return JSON.parse(e)}catch(e){return}}(),n=o()(t,Ee);(Se=(0,i.MT)(we,n,e)).subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(e){}}(Se.getState())}))}function Re(){return Se}var je=n("NiUT");function xe(e,t){if(!e)throw new TypeError("Cannot create an action without an action type");return{type:e,payload:t}}var Fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=t.content;if(!e)throw new TypeError("Cannot update a file without an id");var o={id:e,title:n,content:r};return xe(h,o)},Ne=(n("rB9j"),n("UxlC"),n("akyv"));n("oVuX"),n("2B1R"),n("HiXI"),n("SYor"),n("7ueG"),n("4Brf"),n("0oug"),n("PKPk"),n("pjDv"),n("+2oP"),n("sMBO");function Ae(e){return function(e){if(Array.isArray(e))return Le(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Le(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ke=[];var Be=function(e){e.bodyParagraphs.map((function(e){qe(e),ke.push("")}))},qe=function(e){switch(e.type){case"verse":ke.push("#v");break;case"chorus":ke.push("#c")}e.lines.map((function(e){return Me(e)}))},Me=function(e){var t=[Te(e),De(e),ze(e)].filter((function(e){return null!==e})).map((function(e){return e.trimRight()}));ke.push.apply(ke,Ae(t))},Te=function(e){return _e(e)?e.items.reduce((function(e,t){return Ve(t)&&(e+=t.chords.trim()+" "),e}),""):null},De=function(e){return We(e)?e.items.reduce((function(e,t){return He(t)||(e+=" "),Ve(t)&&(e+="_"),Ue(t)&&(e+=" "),e+=t.lyrics.trim(),Ze(t)&&(e+=" "),e}),""):null},ze=function(e){if(!Ge(e))return null;var t=e.items[0].value.toLowerCase().replace(/[- 0-9]/g,"");return Ie[t]?Ie[t]:"#"+t},Ie={adlib:"#a",bridge:"#b",chorus:"#c",interlude:"#u",intro:"#i",introduction:"#i",outro:"#o",prechorus:"#p",solo:"#s"},_e=function(e){return e.items.some((function(e){return e instanceof Ne.YN&&e.chords}))},We=function(e){return e.items.some((function(e){return e instanceof Ne.YN&&e.lyrics}))},Ge=function(e){return e.items.some((function(e){return e instanceof Ne.Vp&&e.isRenderable()}))},Ve=function(e){return e instanceof Ne.YN&&e.chords.trim().length},He=function(e){return e.lyrics.length},Ue=function(e){return e.lyrics.length-e.lyrics.trimLeft().length>=1},Ze=function(e){return e.lyrics.trim().length&&e.lyrics.length-e.lyrics.trimRight().length>=1};function $e(e){var t,n=e.replace(/\r\n/g,"\n").replace(/\t/g," ").replace(/\[\/?ch]/g,"").replace(/\[\/?tab]/g,""),r=(new Ne.ZP.UltimateGuitarParser).parse(n);return t=r,ke.length=0,Be(t),ke.join("\n")}var Ke={"@CCS/IMPORT_TAB":function(e){var t,n=Re();try{if("ultimateGuitar"===e.source)t=$e(e.chordChart)}catch(e){console.log("error in import")}if(t){var r=Je(e.title,e.artist);n.dispatch(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)throw new TypeError("Cannot import a file without title");var n={id:(0,je.Z)(),title:e,content:t};return xe(m,n)}(r,t))}}},Je=function(e,t){var n=e;return t&&(n+=" - "+t),n};function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xe=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){Qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Ke);if(e.source!==window||e.origin!==window.location.origin)return!1;var n=e.data;return"function"==typeof t[n.type]&&t[n.type](n.payload),!0},et=n("9Mdx"),tt=n("q1tI"),nt=n("i8i4"),rt=n("rL7s"),ot=(n("JfAA"),n("NBAS"),n("SuFq"),n("17x9")),it=n.n(ot);function at(e){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},at(e)}function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ct(e,t){return ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ct(e,t)}function st(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pt(e);if(t){var o=pt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ut(this,n)}}function ut(e,t){if(t&&("object"===at(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function pt(e){return pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pt(e)}var dt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ct(e,t)}(i,e);var t,n,r,o=st(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={error:null,errorInfo:null},t}return t=i,(n=[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.errorInfo?tt.createElement("div",{className:"ErrorBoundary"},tt.createElement("h2",null,"Something went wrong"),tt.createElement("details",{style:{whiteSpace:"pre-wrap"},open:!0},this.state.error&&this.state.error.toString(),tt.createElement("br",null),this.state.errorInfo.componentStack)):this.props.children}}])&&lt(t.prototype,n),r&&lt(t,r),i}(tt.Component);dt.propTypes={children:it().any};const ft=dt;function mt(e){var t=e.iconName;return tt.createElement("i",{className:["icon","material-icons"].join(" ")},t)}mt.propTypes={iconName:it().string.isRequired};const ht=tt.memo(mt);function yt(){return tt.createElement("div",{className:"logo"},tt.createElement("div",{className:"logo-isCollapsed"},tt.createElement(ht,{iconName:"queue_music"})),tt.createElement("div",{className:"logo-isExpanded"},tt.createElement("span",{className:"logo-icon"},tt.createElement(ht,{iconName:"queue_music"})),"Chords Charts Studio"))}const gt=tt.memo(yt);function bt(e){var t=e.label,n=e.icon,r=e.editorMode,o=e.setEditorMode,i=e.isActive,a=e.isDisabled,l=["mainNavEntry"];return i&&l.push("mainNavEntry-isActive"),a&&l.push("mainNavEntry-isDisabled"),tt.createElement("li",{className:l.join(" "),onClick:function(){a||o(r)}},tt.createElement("span",{className:"mainNavEntry-icon"},tt.createElement(ht,{iconName:n})),t)}bt.propTypes={label:it().string.isRequired,icon:it().string.isRequired,editorMode:it().string.isRequired,setEditorMode:it().func.isRequired,isActive:it().bool.isRequired,isDisabled:it().bool.isRequired};const vt=tt.memo(bt);function Ot(){return Ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ot.apply(this,arguments)}function Ct(e){var t=e.currentMode,n=e.allEntries,r=e.setEditorMode,o=e.selectedId;return tt.createElement("nav",{className:"mainNav"},tt.createElement("ul",{className:"mainNav-entries"},n.map((function(e,n){return tt.createElement(vt,Ot({key:n,isActive:!!o&&e.editorMode===t,isDisabled:!o,setEditorMode:r},e))}))))}Ct.propTypes={currentMode:it().string.isRequired,setEditorMode:it().func.isRequired,selectedId:it().string,allEntries:it().arrayOf(it().shape({id:it().string.isRequired,label:it().string.isRequired,icon:it().string.isRequired,editorMode:it().string.isRequired}))};const wt=tt.memo(Ct);function Et(){var e={"chord-charts-studio":"v0.8.3","chord-symbol":"v2.0.0","chord-mark":"v0.5.5"};return tt.createElement("div",{className:"appFooter"},"Chords Charts Studio ",e["chord-charts-studio"],"- ChordMark"," ",e["chord-mark"],"- ChordSymbol ",e["chord-symbol"])}const St=tt.memo(Et),Pt=[{id:"edit",label:"Edit",icon:"create",editorMode:"edit"},{id:"play",label:"Play",icon:"music_note",editorMode:"play"},{id:"print",label:"Print / PDF",icon:"print",editorMode:"print"},{id:"export",label:"Export",icon:"save_alt",editorMode:"export"}];function Rt(e){var t=e.isLeftBarCollapsed,n=e.isRightBarCollapsed,r=e.editorMode,o=e.toggleLeftBar,i=e.toggleRightBar,a=e.setEditorMode,l=e.selectedId,c=e.leftBar,s=e.rightBar,u=["leftBar"];t&&u.push("leftBar-isCollapsed");var p=["rightBar"];return n&&p.push("rightBar-isCollapsed"),tt.createElement("div",{className:"appLayout-wrapper"},tt.createElement("section",{className:u.join(" ")},tt.createElement("div",{className:"leftBar-content",onClick:t?o:null},tt.createElement(gt,null),c),tt.createElement("div",{className:"leftBar-collapser",onClick:o,"data-testid":"leftBar-collapser"},tt.createElement("span",{className:"leftBar-collapserIcon"},tt.createElement(ht,{iconName:"keyboard_arrow_left"})))),tt.createElement("section",{className:"appLayout-main"},tt.createElement("section",{className:"appLayout-header"},tt.createElement(wt,{allEntries:Pt,currentMode:r,setEditorMode:a,selectedId:l})),tt.createElement("section",{className:"appLayout-content"},e.children),tt.createElement("section",{className:"appLayout-footer"},tt.createElement(St,null))),tt.createElement("section",{className:p.join(" ")},tt.createElement("div",{className:"rightBar-collapser",onClick:i,"data-testid":"rightBar-collapser"},tt.createElement("span",{className:"rightBar-collapserIcon"},tt.createElement(ht,{iconName:"keyboard_arrow_right"}))),tt.createElement("div",{className:"rightBar-content",onClick:n?i:null},s)))}Rt.propTypes={children:it().element,isLeftBarCollapsed:it().bool,isRightBarCollapsed:it().bool,selectedId:it().string,toggleLeftBar:it().func.isRequired,toggleRightBar:it().func.isRequired,editorMode:it().string.isRequired,setEditorMode:it().func.isRequired,leftBar:it().element.isRequired,rightBar:it().element.isRequired},Rt.defaultProps={isLeftBarCollapsed:!1,isRightBarCollapsed:!1};const jt=Rt,xt=(0,rt.$j)((function(e){return{isLeftBarCollapsed:O(e),isRightBarCollapsed:C(e),editorMode:w(e),selectedId:E(e)}}),{toggleLeftBar:function(){return xe(g)},toggleRightBar:function(){return xe(b)},setEditorMode:function(e){return xe(v,{mode:e})}})(jt);function Ft(e){var t=e.icon,n=e.text,r=e.action;return tt.createElement("span",{className:"fileManagerAction",onClick:r},tt.createElement("span",{className:"fileManagerAction-icon"},tt.createElement(ht,{iconName:t})," ",n))}Ft.propTypes={icon:it().string.isRequired,text:it().string.isRequired,action:it().func.isRequired};const Nt=tt.memo(Ft);function At(){return At=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},At.apply(this,arguments)}function Lt(e){var t=e.createFile,n=e.deleteFile,r=[{icon:"add_circle",text:"New",action:t},{icon:"create",text:"Rename",action:e.enableRename},{icon:"delete",text:"Delete",action:n}];return tt.createElement("div",{className:"fileManager-actionsList"},r.map((function(e,t){return tt.createElement(Nt,At({},e,{key:t}))})))}Lt.propTypes={createFile:it().func.isRequired,deleteFile:it().func.isRequired,enableRename:it().func.isRequired};const kt=tt.memo(Lt);function Bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mt(e){var t=Bt((0,tt.useState)(e.title),2),n=t[0],r=t[1],o=e.fileId,i=e.isSelected,a=e.isRenamed,l=e.defaultTitle,c=e.selectFile,s=e.enableRename,u=e.updateFile,p=["fileManagerEntry"];i&&p.push("fileManagerEntry-isSelected"),a&&p.push("fileManagerEntry-isRenamed");var d=tt.createRef();function f(e){u(o,{title:e=e||l}),r(e),d.current.scrollLeft=0}return(0,tt.useEffect)((function(){a&&d.current.focus()}),[a,d]),tt.createElement("li",{className:p.join(" "),onClick:function(){i||c(o)},onDoubleClick:function(e){a||(s(o),e.target.select())}},tt.createElement("input",{className:"fileManagerEntry-input",ref:d,type:"text",value:n,readOnly:a?null:"readOnly",autoFocus:a?"autoFocus":null,onChange:function(e){r(e.target.value)},onBlur:function(e){a&&f(e.target.value)},onFocus:function(e){a&&e.target.select()},onKeyPress:function(e){a&&13===e.which&&(e.preventDefault(),window.getSelection().removeAllRanges(),f(e.target.value))}}))}Mt.propTypes={title:it().string.isRequired,fileId:it().string.isRequired,isSelected:it().bool.isRequired,isRenamed:it().bool.isRequired,defaultTitle:it().string.isRequired,selectFile:it().func.isRequired,enableRename:it().func.isRequired,updateFile:it().func.isRequired};const Tt=Mt;function Dt(e){var t=e.allTitles,n=e.selected,r=e.renamed,o=e.defaultTitle,i=e.selectFile,a=e.createFile,l=e.deleteFile,c=e.enableRename,s=e.updateFile;return tt.createElement("div",{className:"fileManager"},tt.createElement("div",{className:"fileManager-isCollapsed"},tt.createElement("span",{className:"fileManager-icon"},tt.createElement(ht,{iconName:"file_copy"}))),tt.createElement("div",{className:"fileManager-isExpanded"},tt.createElement(kt,{createFile:function(){return a(o)},deleteFile:function(){return l(n)},enableRename:function(){return c(n)}}),tt.createElement("ul",{className:"fileManager-entriesList"},t.map((function(e){return tt.createElement(Tt,{title:e.title,defaultTitle:o,fileId:e.id,isSelected:n===e.id,isRenamed:r===e.id,selectFile:i,updateFile:s,enableRename:c,key:e.id})})))))}Dt.propTypes={allTitles:it().arrayOf(it().shape({title:it().string.isRequired,id:it().string.isRequired})).isRequired,selected:it().string.isRequired,renamed:it().string.isRequired,defaultTitle:it().string.isRequired,selectFile:it().func.isRequired,createFile:it().func.isRequired,deleteFile:it().func.isRequired,enableRename:it().func.isRequired,updateFile:it().func.isRequired};const zt=Dt,It=(0,rt.$j)((function(e){return{selected:E(e),renamed:S(e),defaultTitle:P(e),allTitles:z(e)}}),{selectFile:function(e){return xe(X,{id:e})},createFile:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)throw new TypeError("Cannot create a file without title");var n={id:(0,je.Z)(),title:e,content:t};return xe(d,n)},deleteFile:function(e){return xe(f,{id:e})},updateFile:Fe,enableRename:function(e){return xe(ee,{id:e})}})(zt);var _t=n("wMS7"),Wt=n.n(_t);function Gt(e){return Wt().sanitize(e)}n("S3hr"),n("BC1D"),n("z8VG"),n("3Ism"),n("GwGQ");var Vt=n("stDu"),Ht=n.n(Vt),Ut=n("DtUU"),Zt=n.n(Ut);function $t(e){return Zt().sanitize(e)}function Kt(e){return Zt().sanitize(e,{ALLOWED_TAGS:["#text"],KEEP_CONTENT:!0})}n("JMOh"),n("tzzu"),n("UgwJ"),n("bGfa"),n("Qp93"),n("V0ye"),n("3I0r"),n("Og4R"),n("wO1q"),n("N6vl"),n("+ir/"),n("eO5a"),n("DR8w"),n("MJh/");var Jt=n("W59U"),Yt=n.n(Jt);const Qt="chord",Xt="emptyLine",en="lyric",tn="sectionLabel",nn="timeSignature";n("0YnA");var rn=["2/2","3/2","2/4","3/4","4/4","5/4","3/8","6/8","9/8","12/8"];function on(e){return rn.includes(e)}n("yV55"),n("EA4h"),n("muZw"),n("2nki");const an={barRepeat:"%",chordBeatCount:"\\.",chordLineRepeat:"%",noChord:"NC",noLyrics:"NL",sectionLabel:"#",chordPositionMarker:"_"};var ln=new RegExp("^"+an.sectionLabel+"([a-zA-Z]+)([1-9])?( x[2-9])?$");function cn(e){return null!==e.trim().match(ln)}n("twmU");function sn(e){return e.replace(/\t+/g," ").replace(/  +/g," ").trim()}var un=n("yGGS");function pn(e){return!(0,un.chordParserFactory)()(e).error}var dn=new RegExp(an.chordBeatCount+"*$","g"),fn=new RegExp("^"+an.barRepeat+"+$");n("vSYW");function mn(e){return""===sn(e)}n("KkuB"),n("W/i9");function hn(e){if(!on(e))throw new TypeError("Expected time signature string, received: "+e);var t=e.split("/"),n=Number.parseInt(t[0],10),r=Number.parseInt(t[1],10),o=n;return 2===r?o=2*n:8===r&&(o=n/3),{string:e,count:n,value:r,beatCount:o}}var yn=n("RbZC"),gn=n.n(yn);function bn(e){return(0,un.chordParserFactory)()(e)}n("M4zn"),n("C3w1"),n("LyF0");var vn=n("C4AH"),On=n.n(vn),Cn=n("drfv"),wn=n.n(Cn);function En(e){return En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},En(e)}function Sn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pn(e,t){if(t&&("object"===En(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Rn(e){var t="function"==typeof Map?new Map:void 0;return Rn=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return jn(e,arguments,Nn(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Fn(r,e)},Rn(e)}function jn(e,t,n){return jn=xn()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Fn(o,n.prototype),o},jn.apply(null,arguments)}function xn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Fn(e,t){return Fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Fn(e,t)}function Nn(e){return Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Nn(e)}var An=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fn(e,t)}(o,e);var t,n,r=(t=o,n=xn(),function(){var e,r=Nn(t);if(n){var o=Nn(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Pn(this,e)});function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.string,i=t.duration,a=t.currentBeatCount,l=t.beatCount;if(Sn(this,o),!n||!On()(n))throw new TypeError("IncorrectBeatCountException cannot be created without chord string, received: "+n);if(!i||!wn()(i))throw new TypeError("IncorrectBeatCountException cannot be created without chord duration, received: "+i);if(!a||!wn()(a))throw new TypeError("IncorrectBeatCountException cannot be created without currentBeatCount, received: "+a);if(!l||!wn()(l))throw new TypeError("IncorrectBeatCountException cannot be created without beatCount, received: "+l);return(e=r.call(this)).name="IncorrectBeatCountException",e.string=n,e.duration=i,e.currentBeatCount=a,e.beatCount=l,e}return o}(Rn(Error));function Ln(e){return Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ln(e)}function kn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bn(e,t){if(t&&("object"===Ln(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function qn(e){var t="function"==typeof Map?new Map:void 0;return qn=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Mn(e,arguments,zn(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Dn(r,e)},qn(e)}function Mn(e,t,n){return Mn=Tn()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Dn(o,n.prototype),o},Mn.apply(null,arguments)}function Tn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Dn(e,t){return Dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Dn(e,t)}function zn(e){return zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zn(e)}var In=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dn(e,t)}(o,e);var t,n,r=(t=o,n=Tn(),function(){var e,r=zn(t);if(n){var o=zn(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Bn(this,e)});function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.string;if(kn(this,o),!n||!On()(n))throw new TypeError("InvalidChordRepetitionException cannot be created without chord string, received: "+n);return(e=r.call(this)).name="InvalidChordRepetitionException",e.string=n,e}return o}(qn(Error)),_n=new RegExp(an.chordBeatCount,"g"),Wn=new RegExp("^"+an.barRepeat+"+$"),Gn=hn("4/4");function Vn(e){return e===an.noChord}function Hn(e,t){return(e.match(_n)||[]).length||t}function Un(e,t){if(e.allChords.length>0){var n=e.allChords[e.allChords.length-1];if(gn()(n.model,t.model))throw new In({string:t.string})}}function Zn(e,t){return e===t}function $n(e,t,n,r){if(function(e,t,n){return function(e,t){return e>t}(e,t)||function(e,t,n){return n&&e<t}(e,t,n)}(t,n,r))throw new An({message:"",string:e.string,duration:e.duration,currentBeatCount:t,beatCount:n})}function Kn(e){var t=e.allChords[0].duration;return e.allChords.some((function(e){return e.duration!==t}))}function Jn(e){for(var t,n=new RegExp(an.chordPositionMarker,"g"),r=e.replace(n,""),o=[],i=e;-1!==(t=i.indexOf(an.chordPositionMarker));)o.includes(t)||o.push(t),i=i.replace(an.chordPositionMarker,"");return{lyrics:r,chordPositions:o}}function Yn(e,t){var n=Yt()(e);return n.forEach((function(e){e.type===Qt&&e.model.allBars.forEach((function(e){e.allChords.forEach((function(e){t(e)}))}))})),n}function Qn(e,t){var n=Yt()(e);return n.allBars.forEach((function(e,n){e.allChords.forEach((function(e,r){t(e,r,n)}))})),n}function Xn(e,t,n){var r=[],o={},i=!1,a="";return e.forEach((function(e){e.type===tn?(a=e.model.label,o[a]?o[a]++:o[a]=1,i=e.id===t+n):i&&r.push(e)})),r}function er(e){return function(e){if(Array.isArray(e))return tr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return tr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(n),!0).forEach((function(t){or(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function or(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ir(){var e,t,n,r=[],o={},i=hn("4/4"),a=[],l=[],c=0,s="",u=!1,p=!1,d=!1;function f(o,i,a){e=function(e){if(!cn(e))throw new TypeError("Expected section identifier string, received: "+e);var t=e.trim().match(ln);return{string:e,label:t[1],copyIndex:t[2]?Number.parseInt(t[2]):1,repeatTimes:t[3]?Number.parseInt(t[3].replace(" x","")):0}}(o),g(e.label),t=b(e.label);var s={string:o,type:tn,model:e,index:t.count,indexWithoutRepeats:t.withoutRepeats,id:e.label+t.count};return d=function(e,t){var n=t.slice(e+1),r=n.findIndex((function(e){return cn(e)}));if(0===r)return!0;var o=n.slice(0,-1!==r?r:void 0).filter((function(e){return!(on(e)||mn(e))}));return 0===o.length}(i,a)&&t.count>1,d&&(s.isFromSectionCopy=!0),p=e.repeatTimes>0,n=Yt()(s),!function(e,t){return t.every((function(t){return t.type===tn&&t.model.label!==e.label}))}(e,r)?(l=Xn(r,e.label,1),c=0,u=!0):u=!1,s}function m(e){var t;try{var n=function(e){var t,n,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).timeSignature,o=void 0===r?Gn:r,i=o.beatCount,a=[],l={allChords:[]},c=Yt()(l),s={},u=0,p=0,d=sn(e).split(" ");return d.forEach((function(e,r){if(e.match(Wn)){if(!n)throw new Error("A chord line cannot start with the barRepeat symbol");var f=Yt()(n);f.isRepeated=!0;for(var m=0;m<e.length;m++)a.push(Yt()(f))}else if(t=e.replace(_n,""),s={string:e,duration:Hn(e,i),model:Vn(t)?an.noChord:bn(t),beat:u+1},u+=s.duration,Un(c,s),c.allChords.push(s),p++,Zn(u,i)){c.timeSignature=o,c.hasUnevenChordsDurations=Kn(c);var h=Yt()(c);c.isRepeated=gn()(c,n),a.push(Yt()(c)),n=h,c=Yt()(l),u=0}else $n(s,u,i,d.length===r+1)})),{chordCount:p,allBars:a}}(e,{timeSignature:i});h(t={string:e,type:Qt,model:n})}catch(n){t=y(e)}return t}function h(e){a.length>=2&&a.shift(),a.push(e)}function y(e){return{string:e,type:en,model:Jn(e)}}function g(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o[e]?(o[e].count++,t||o[e].withoutRepeats++):o[e]={count:1,withoutRepeats:1}}function b(e){return o[e]}function v(){if(d){var t=Xn(r,e.label,e.copyIndex).map((function(e){return rr(rr({},Yt()(e)),{},{isFromSectionCopy:!0})}));if(!t.length)return;(function(e){return e[e.length-1].type===Xt})(t)&&t.pop(),r.push.apply(r,er(Yt()(t))),d=!1}}function O(o,i){if(p&&function(e,t){var n=t[e+1];return void 0===n||cn(n)}(o,i))for(var a,l=Xn(r,e.label,t.count).map((function(e){return rr(rr({},Yt()(e)),{},{isFromSectionRepeat:!0})})),c=1;c<e.repeatTimes;c++)g(e.label,!0),t=b(e.label),a=rr(rr({},Yt()(n)),{},{index:t.count,indexWithoutRepeats:t.withoutRepeats,id:e.label+t.count,isFromSectionRepeat:!0}),r.push(a),r.push.apply(r,er(Yt()(l)))}return{addLine:function(e,t,n){var o,p;on(e)?(i=hn(p=e),o={string:p,type:nn,model:i}):o=cn(e)?f(e,t,n):function(){return sn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(" ").every((function(e,t){var n=e.replace(dn,"");return pn(n)||e.match(fn)&&t>0||n===an.noChord}))}(e)?m(e):function(e){var t=sn(e);return t===an.chordLineRepeat||t===an.chordLineRepeat.repeat(2)}(e)?function(e){var t=sn(e),n=-t.length,r=n<-1?n+1:void 0;return a.length>=t.length?rr(rr({},Yt().apply(void 0,er(a.slice(n,r)))),{},{isFromChordLineRepeater:!0}):y(e)}(e):mn(e)?function(e){return{string:e,type:Xt}}(e):y(e),function(e){if(u&&e.type!==tn){var t;for(s=l[c];ar(s,e);)s.type===Qt&&h(Yt()(s)),t=rr(rr({},Yt()(s)),{},{isFromAutoRepeatChords:!0}),r.push(t),c++,s=l[c];c++}}(o),r.push(o),v(),O(t,n)},asArray:function(){return Yt()(r)},flagPositionedChords:function(){var e,t;r.forEach((function(n,o){!function(e,t){return e.type===Qt&&t&&t.type===en&&t.model.chordPositions.length>0}(n,e=r[o+1])?n.type===Qt&&(n.model.hasPositionedChords=!1,n.model=Qn(n.model,(function(e){e.isPositioned=!1}))):(t=0,n.model.hasPositionedChords=!0,n.model=Qn(n.model,(function(n){n.isPositioned=t<e.model.chordPositions.length,t++})))}))}}}function ar(e,t){return e&&e.type!==en&&e.type!==Xt&&e.type!==t.type&&t.type!==Xt}var lr=n("mU2P"),cr=n.n(lr);function sr(e){var t=Ht()(e)?e:e.split("\n"),n=ir();t.map($t).map(Kt).forEach(n.addLine),n.flagPositionedChords();var r=n.asArray(),o=function(e){var t,n=[];return Yn(e,(function(e){-1===(t=cr()(n,(function(t){return gn()(t.model,e.model)})))?n.push({model:Yt()(e.model),occurrences:1}):n[t].occurrences++})),n}(r);return{allLines:r,allChords:o}}n("4ECw");const ur={barRepeat:"%",barSeparator:"|",chordBeat:".",chordLineOffsetSpacer:" ",emptyBeatSpaces:1,lyricsSpacer:" ",noChordSymbol:"NC",spacesAfterDefault:2};function pr(e){var t=[];return e.filter((function(e){return e.type===Qt})).forEach((function(e){e.model.allBars.forEach((function(e,n){if(!t[n]){t[n]={};for(var r=1;r<=e.timeSignature.beatCount;r++)t[n][r]=0}e.allChords.forEach((function(r){var o=r.symbol.length;e.shouldPrintChordsDuration&&(o+=ur.chordBeat.repeat(r.duration).length),t[n][r.beat]=Math.max(t[n][r.beat],o)}))}))})),t}var dr={0:{"":[]},2:{2:[3],11:[3,2]},3:{3:[3],12:[2,4],21:[6,0],111:[2,2,0]},4:{4:[3],13:[1,4],22:[3,2],31:[5,0],112:[1,1,3],121:[1,4,0],211:[4,1,0],1111:[2,2,2,0]}};function fr(e){var t=Yt()(e),n=0,r=0,o="",i=[];return t.allBars.forEach((function(e){n=0,o="",i=[],r=e.allChords.length,e.allChords.forEach((function(e){o+=e.duration.toString(),n+=e.duration})),dr[n]&&dr[n][o]&&(i=dr[n][o]);for(var t=0;t<r;t++)e.allChords[t].spacesAfter=void 0!==i[t]?i[t]:ur.spacesAfterDefault})),t}function mr(e,t){var n,r=Yt()(e);return r.allBars.forEach((function(e,r){e.allChords.forEach((function(o){var i=o.symbol.length;if(e.shouldPrintChordsDuration&&(i+=ur.chordBeat.repeat(o.duration).length),o.spacesWithin=t[r][o.beat]-i,o.spacesAfter=0,o.beat!==e.timeSignature.beatCount){o.spacesAfter=ur.spacesAfterDefault;for(var a=o.beat+1;a<o.beat+o.duration;a++)n=t[r][a],o.spacesAfter+=n||ur.emptyBeatSpaces,a!==e.timeSignature.beatCount&&n&&(o.spacesAfter+=ur.spacesAfterDefault)}}))})),r}function hr(e,t){var n=Yt()(e),r=Yt()(t);if(yr(r))return{chordLine:n,lyricsLine:r};var o,i,a=r.chordPositions.map((function(e,t,n){return r.lyrics.substring(e,n[t+1])})),l="",c=0;if(n.allBars.forEach((function(e,t){e.allChords.forEach((function(n,r){if(i=a.shift()){if(o=n.symbol,e.shouldPrintChordsDuration&&(o+=ur.chordBeat.repeat(n.duration)),br(t,r)?o=ur.barSeparator+o:vr(c,t)&&(o=ur.barSeparator+o,c=t),Cr(i)&&(i=ur.lyricsSpacer.repeat(o.length)+i),i.length-o.length>0)n.spacesAfter=i.length-o.length;else{n.spacesAfter=1;var s=o.length-i.length+1;i+=ur.lyricsSpacer.repeat(s)}l+=i}else n.spacesAfter=1;n.spacesWithin=0}))})),gr(r)){var s=r.chordPositions[0];n.offset=s,l=r.lyrics.substring(0,s)+l}return a.length&&(l+=a.join("")),r.lyrics=Or(l),{chordLine:n,lyricsLine:r}}var yr=function(e){return 0===e.chordPositions.length},gr=function(e){return e.chordPositions[0]>0},br=function(e,t){return 0===e&&0===t},vr=function(e,t){return e!==t},Or=function(e){return e.replace(/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/,"")},Cr=function(e){return 0===e.indexOf(" ")},wr=n("dclu"),Er=n.n(wr),Sr=n("JPNQ"),Pr=n.n(Sr);var Rr=n("AOyK"),jr=n.n(Rr);function xr(e){var t=0,n=0,r=e.allChords.reduce((function(r,o){return t=wn()(o.spacesWithin)?o.spacesWithin:0,n=wn()(o.spacesAfter)?o.spacesAfter:2,r+=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Pr()({chordSymbol:e.symbol,chordDuration:!!t&&ur.chordBeat.repeat(e.duration)})}(o,e.shouldPrintChordsDuration)+" ".repeat(t)+" ".repeat(n),r}),"");return jr()({barContent:r})}var Fr=n("rDp8"),Nr=n.n(Fr);function Ar(e){var t=e.allBars.map((function(e){return xr(e)})),n=Nr()({barSeparator:ur.barSeparator}),r=n+t.join(n)+n,o=ur.chordLineOffsetSpacer.repeat(e.offset||0);return Er()({chordLineOffset:o,chordLine:r})}var Lr=n("1OD8"),kr=n.n(Lr);function Br(){return kr()()}var qr=n("mF9j"),Mr=n.n(qr);function Tr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isFromSectionRepeat,r=void 0!==n&&n,o=t.isFromAutoRepeatChords,i=void 0!==o&&o,a=t.isFromChordLineRepeater,l=void 0!==a&&a,c=t.isFromSectionCopy,s=void 0!==c&&c,u=["cmLine"];return r&&u.push("cmLine--isFromSectionRepeat"),i&&u.push("cmLine--isFromAutoRepeatChords"),l&&u.push("cmLine--isFromChordLineRepeater"),s&&u.push("cmLine--isFromSectionCopy"),Mr()({line:e,lineClasses:u.join(" ")})}var Dr=n("BH0R"),zr=n.n(Dr),Ir={a:"adlib",b:"bridge",c:"chorus",i:"intro",o:"outro",p:"pre-chorus",s:"solo",u:"interlude",v:"verse"};function _r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.expandSectionRepeats,r=void 0===n||n,o=t.sectionsStats,i=void 0===o?{}:o,a=e.model,l=e.index,c=e.indexWithoutRepeats,s=Ir[a.label]?Ir[a.label]:a.label,u=s[0].toUpperCase()+s.substring(1);return i[a.label]>1&&(u+=" ",u+=r?l:c),!r&&a.repeatTimes&&(u+=" x"+a.repeatTimes),zr()({sectionLabel:u})}var Wr=n("abz9"),Gr=n.n(Wr);function Vr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.alignChordsWithLyrics,r=void 0!==n&&n,o=t.chordsAndLyricsDisplay,i=void 0===o?"all":o,a=Hr(r,i)?e.model.lyrics.trim():e.model.lyrics;return Gr()({lyricLine:a})}var Hr=function(e,t){return!e||"lyrics"===t},Ur=n("tjt8"),Zr=n.n(Ur);function $r(e){return Zr()({timeSignature:e.string})}var Kr=n("b+Zt"),Jr=n.n(Kr),Yr=(0,un.chordRendererFactory)();function Qr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yr;switch(e){case an.noChord:return ur.noChordSymbol;case ur.barRepeat:return ur.barRepeat;default:return t(e)}}function Xr(e){var t={};return e.filter((function(e){return e.type===tn})).forEach((function(e){t[e.model.label]?t[e.model.label]++:t[e.model.label]=1})),t}function eo(e){var t="",n=0,r=0;return e.filter((function(e){return e.model!==an.noChord})).forEach((function(e){2===(t=e.model.formatted.rootNote).length&&("b"===t[1]?n+=e.occurrences:r+=e.occurrences)})),n>r?"flat":"sharp"}var to=function(e,t,n){return t.isRepeated&&!no(e,t,n)},no=function(e,t,n){return n&&e.model.hasPositionedChords&&t.allChords.length>1&&t.allChords.some((function(e){return e.isPositioned}))};const ro=function(e,t){var n=t.alignChordsWithLyrics;return e.type===Qt&&e.model.allBars.forEach((function(t){to(e,t,n)&&(t.allChords=[{string:ur.barRepeat,model:ur.barRepeat,symbol:ur.barRepeat,duration:t.timeSignature.beatCount,beat:1}])})),e};function oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function io(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oo(Object(n),!0).forEach((function(t){ao(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ao(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lo(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.alignBars,r=void 0!==n&&n,o=t.alignChordsWithLyrics,i=void 0!==o&&o,a=t.chordsAndLyricsDisplay,l=void 0===a?"all":a,c=t.transposeValue,s=void 0===c?0:c,u=t.accidentalsType,p=void 0===u?"auto":u,d=t.harmonizeAccidentals,f=void 0===d||d,m=t.expandSectionRepeats,h=void 0===m||m,y=t.autoRepeatChords,g=void 0===y||y,b=t.simplifyChords,v=void 0===b?"none":b,O=t.useShortNamings,C=void 0===O||O,w=t.printChordsDuration,E=void 0===w?"never":w,S=e.allLines,P=e.allChords,R=!1,j=!1,x=Xr(S=A().map(L).filter(B).map((function(e){return ro(e,{alignChordsWithLyrics:i})}))),F=pr(S),N=T().join("\n");return Jr()({song:N});function A(){var e="auto"===p?eo(P):p,t=(0,un.chordRendererFactory)({simplify:v,useShortNamings:C,transposeValue:s,harmonizeAccidentals:f,useFlats:"flat"===e});return Yn(S,(function(e){e.symbol=Qr(e.model,t)}))}function L(e){return e.type===Qt&&e.model.allBars.forEach((function(e){e.shouldPrintChordsDuration=k(e)})),e}function k(e){return e.allChords.length>1&&("uneven"===E&&e.hasUnevenChordsDurations||"always"===E)}function B(e){return q(e)&&!M(e)}function q(e){e.type===tn&&(R=!0===e.isFromSectionRepeat&&!h);var t=e.isFromAutoRepeatChords&&!g;return!R&&!t}function M(e){if("chordsFirstLyricLine"===l){if(e.type===tn)return j=!0,!1;if(j&&e.type===en)return j=!1,!1}return["chords","chordsFirstLyricLine"].includes(l)&&e.type===en||"lyrics"===l&&e.type===Qt}function T(){return S.map((function(e,t,n){var o;if(e.type===Qt){var a=r?mr(e.model,F):fr(e.model),c=n[t+1];if(D(e)){var s=hr(a,c.model),u=s.chordLine,p=s.lyricsLine;n[t+1].model=p,a=u}o=Ar(a)}else o=e.type===Xt?Br():e.type===tn?_r(e,{sectionsStats:x,expandSectionRepeats:h}):e.type===nn?$r(e):Vr(e,{alignChordsWithLyrics:i,chordsAndLyricsDisplay:l});return Tr(o,{isFromSectionRepeat:e.isFromSectionRepeat,isFromAutoRepeatChords:e.isFromAutoRepeatChords,isFromChordLineRepeater:e.isFromChordLineRepeater,isFromSectionCopy:e.isFromSectionCopy})})).filter(Boolean)}function D(e){return"all"===l&&i&&e.model.hasPositionedChords}}(sr(e),io(io({},t),{},{printChordsDuration:"uneven"}))}function co(e){var t=e.content,n=u()(e,["alignBars","chordsAndLyricsDisplay","alignChordsWithLyrics","harmonizeAccidentals","accidentalsType","transposeValue","autoRepeatChords","expandSectionRepeats","useShortNamings","simplifyChords"]);return tt.createElement("div",{className:"songRenderer"},tt.createElement("div",{dangerouslySetInnerHTML:{__html:Gt(lo(t,n))}}))}co.propTypes={content:it().string},co.defaultProps={content:""};const so=co,uo=(0,rt.$j)((function(e){return{chordsAndLyricsDisplay:te(e,"songPreferences","chordsAndLyricsDisplay"),alignChordsWithLyrics:te(e,"songPreferences","alignChordsWithLyrics"),harmonizeAccidentals:te(e,"songPreferences","harmonizeAccidentals"),accidentalsType:te(e,"songPreferences","preferredAccidentals"),transposeValue:te(e,"songPreferences","transposeValue"),useShortNamings:te(e,"songPreferences","useShortNamings"),simplifyChords:te(e,"songPreferences","simplifyChords"),alignBars:te(e,"songFormatting","alignBars"),autoRepeatChords:te(e,"songFormatting","autoRepeatChords"),expandSectionRepeats:te(e,"songFormatting","expandSectionRepeats")}}))(so);function po(e){var t=e.selectedFile;return tt.createElement("div",{className:["editorPreview"].join(" ")},tt.createElement(uo,{content:t.content}))}po.propTypes={selectedFile:it().object.isRequired};const fo=po,mo=(0,rt.$j)((function(){return{}}))(fo);var ho=n("UxO+"),yo=n("V2qZ"),go=n("BUsU"),bo=n("SxI5"),vo=n("ABBN"),Oo=n("lGMC");var Co=n("IhAg");const wo=new go.V_({nodes:Co.td,marks:Co.EI});n("vxnP");function Eo(e){return e.toJSON().doc.content.map((function(e){return e.content?e.content.reduce((function(e,t){return e+=t.text}),""):""})).join("\n")}n("EnZy");function So(e){return Wt().sanitize(e,{ALLOWED_TAGS:["p","#text"],KEEP_CONTENT:!1})}function Po(e){var t,n,r=e.selectedFileId,o=e.editorContent,i=e.updateFile,a=(0,tt.useRef)(),l=(0,tt.useRef)(),c=(t=r,n=(0,tt.useRef)(),(0,tt.useEffect)((function(){n.current=t})),n.current);function s(){return a.current&&a.current.dom.parentNode}function u(){a.current.dom.parentNode.removeChild(a.current.dom)}return(0,tt.useEffect)((function(){if(!r||a.current&&c===r)s()&&!r&&u();else{s()&&u();var e=function(e){return ho.yy.create({doc:go.aw.fromSchema(wo).parse((t=e,n=So(t).split("\n").map((function(e){return"<p>".concat(e,"</p>")})).join(""),r=document.createElement("div"),r.innerHTML=So(n),r),{preserveWhitespace:"full"}),plugins:[(0,Oo.m8)(),(0,bo.h)({"Mod-z":Oo.Yw,"Mod-y":Oo.KX}),(0,bo.h)(vo.YR)]});var t,n,r}(o);a.current=function(e,t,n){return new yo.tk(null,{state:e,dispatchTransaction:function(e){var r=this.state.applyTransaction(e),o=r.state,i=r.transactions;this.updateState(o),i.some((function(e){return e.docChanged}))&&t(n,{content:Eo(o)})}})}(e,i,r),l.current.appendChild(a.current.dom),Po.editorView=a.current}})),tt.createElement("div",{className:"prosemirrorWrapper",ref:l})}Po.defaultProps={selectedFileId:"",editorContent:""},Po.propTypes={selectedFileId:it().string,editorContent:it().string,updateFile:it().func.isRequired};const Ro=Po;function jo(e){var t=e.selectedFile,n=e.updateFile;return tt.createElement("div",{className:"songEditor"},tt.createElement("div",{className:"songEditor-source"},tt.createElement(Ro,{editorContent:t.content,updateFile:n,selectedFileId:t.id})),tt.createElement("div",{className:"songEditor-preview"},tt.createElement(mo,{selectedFile:t})))}jo.propTypes={selectedFile:it().object,updateFile:it().func.isRequired};const xo=jo;function Fo(e){var t=e.selectedFile;return tt.createElement("div",{className:"exportPreview exp-SongRenderer"},tt.createElement(uo,{content:t.content}))}Fo.propTypes={selectedFile:it().object.isRequired};const No=Fo;function Ao(e){var t=e.selectedFile,n=e.fontSize,r=e.chordsColor,o=e.highlightChords,i=e.columnsCount,a=["playRenderer"];return a.push("playRenderer--columns-"+i),a.push("cmLine--fontSize"+n),a.push("cmChordSymbol--chordsColor-"+r),o&&a.push("cmChordLine--highlightChords"),tt.createElement("div",{className:"playRendererWrapper1"},tt.createElement("div",{className:"playRendererWrapper2"},tt.createElement("div",{className:a.join(" "),"data-testid":"playRenderer"},tt.createElement(uo,{content:t.content}))))}Ao.propTypes={selectedFile:it().object.isRequired,columnsCount:it().number.isRequired,fontSize:it().number.isRequired,chordsColor:it().string.isRequired,highlightChords:it().bool.isRequired};const Lo=Ao,ko=(0,rt.$j)((function(e){return{chordsColor:te(e,"songFormatting","chordsColor"),highlightChords:te(e,"songFormatting","highlightChords"),fontSize:te(e,"songFormatting","fontSize"),columnsCount:te(e,"songFormatting","columnsCount")}}))(Lo);n("ls82"),n("5s+n");function Bo(e){var t=e.pageHeader,n=e.allColumnsLines,r=e.documentSize,o=e.documentMargins,i=e.printFontSize,a=n.map((function(e,t){var n=e.join("\n");return tt.createElement("div",{key:t,className:"printPreview-pageColumn","data-testid":"printPreview-pageColumn",dangerouslySetInnerHTML:{__html:Gt(n)}})})),l=["printPreview-page"];l.push("printPreview-page--"+r),l.push("printPreview-page--font"+i);var c=["printPreview-pageContentWrapper"];return c.push("printPreview-pageContentWrapper--padding"+o),tt.createElement("div",{className:l.join(" "),"data-testid":"printPreview-page"},tt.createElement("div",{className:c.join(" "),"data-testid":"printPreview-pageContentWrapper"},tt.createElement("div",{className:"printPreview-pageContent"},t,tt.createElement("div",{className:"printPreview-pageColumnWrapper"},a))))}Bo.defaultProps={allColumnsLines:[]},Bo.propTypes={pageHeader:it().element,allColumnsLines:it().arrayOf(it().arrayOf(it().string)),documentSize:it().string.isRequired,documentMargins:it().number.isRequired,printFontSize:it().number.isRequired};const qo=tt.memo(Bo);function Mo(e){var t=e.title;return tt.createElement("div",{className:"printPreview-pageHeader"},t)}Mo.defaultProps={allColumnsLines:[]},Mo.propTypes={title:it().string.isRequired};const To=tt.memo(Mo);var Do="cmEmptyLine",zo="cmChordLine",Io="cmTextLine";function _o(e,t){var n=t.columnsCount,r=t.firstPageHeight,o=t.normalPageHeight,i=t.columnBreakOnParagraph,a=t.noEmptyLinesOnColumnStart,l=void 0===a||a,c=t.noOrphanTextLine,s=void 0===c||c,u=function(e){var t=e.firstPageHeight,n=e.normalPageHeight,r=e.columnsCount,o=[],i=0,a=0,l=u(),c=0;function s(e){e.forEach((function(e){p(c+e.height)&&d(),o[i][a].push(e.content),c+=e.height}))}function u(){return 0===i&&t?t:n}function p(e){return e>l}function d(){f()?(i++,o[i]=[],a=0):a++,o[i][a]=[],c=0,l=u()}function f(){return a===r-1}return o[i]=[],o[i][a]=[],{insert:function(e){s(e)},insertOnNextColumn:function(e){d(),s(e)},fitsOnCurrentColumn:function(e){return c+e<=l},fitsOnNextColumn:function(e){return e<=(0===i&&a<r&&t?t:n)},get:function(){return o}}}({columnsCount:n,firstPageHeight:r,normalPageHeight:o,noEmptyLinesOnColumnStart:l}),p=[],d=0;return(r||o)>0&&e.forEach((function(t,n){(function(e,t,n,r){return!(Wo(t)&&!e.fitsOnCurrentColumn(t.height)&&0===n.length&&!0===r)})(u,t,p,l)&&(p.push(t),d+=t.height),p.length>0&&function(e,t,n){var r=n.noOrphanTextLine,o=n.columnBreakOnParagraph;if(Wo(e)||!t)return!0;var i=function(e){return Go(e.content,zo)}(e)&&function(e){return Go(e.content,Io)}(t);if(!0===r&&i)return!1;var a=Wo(t);if(!0===o&&!a)return!1;return!0}(t,e[n+1],{noOrphanTextLine:s,columnBreakOnParagraph:i})&&(u.fitsOnCurrentColumn(d)?u.insert(p):u.fitsOnNextColumn(d)?u.insertOnNextColumn(p):u.insert(p),p=[],d=0)})),u.get()}function Wo(e){return Go(e.content,Do)}function Go(e,t){return e.indexOf(t)>-1}function Vo(e,t){var n=document.createElement("div");return n.classList.add("measuring-node"),document.body.appendChild(n),new Promise((function(r){nt.render(tt.createElement("div",null,e),n,(function(){var e=t(n);nt.unmountComponentAtNode(n),n.parentNode.removeChild(n),r(e)}))}))}function Ho(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.length||0;n<e;n++)t.push([]);return t}function Uo(e){return e.offsetHeight}function Zo(e){return e.clientHeight}function $o(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function Ko(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){$o(i,r,o,a,l,"next",e)}function l(e){$o(i,r,o,a,l,"throw",e)}a(void 0)}))}}var Jo=".cmLine";function Yo(e,t){return Qo.apply(this,arguments)}function Qo(){return Qo=Ko(regeneratorRuntime.mark((function e(t,n){var r,o,i,a,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.columnsCount,o=n.documentSize,i=n.documentMargins,a=n.printFontSize,l=tt.createElement("div",{className:"printPreview"},tt.createElement(qo,{allColumnsLines:Ho(r,[t]),columnsCount:r,documentSize:o,documentMargins:i,printFontSize:a})),c=function(e){var t=[];return e.querySelectorAll(Jo).forEach((function(e){t.push(Uo(e))})),t},e.next=5,Vo(l,c);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),Qo.apply(this,arguments)}function Xo(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function ei(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Xo(i,r,o,a,l,"next",e)}function l(e){Xo(i,r,o,a,l,"throw",e)}a(void 0)}))}}function ti(e,t){return ni.apply(this,arguments)}function ni(){return(ni=ei(regeneratorRuntime.mark((function e(t,n){var r,o,i,a,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.columnsCount,o=n.documentSize,i=n.documentMargins,a=n.printFontSize,l=tt.createElement(qo,{pageHeader:tt.createElement(To,{title:t}),allColumnsLines:Ho(r),documentSize:o,documentMargins:i,printFontSize:a}),c=function(e){var t=e.querySelector(".printPreview-pageContent");return{firstPageHeight:Zo(e.querySelector(".printPreview-pageColumnWrapper")),normalPageHeight:Zo(t)}},e.next=5,Vo(l,c);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ri(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function oi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ii(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ii(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ii(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ai(e){var t=oi((0,tt.useState)([]),2),n=t[0],r=t[1],o=e.title,i=e.allLines,a=e.columnsCount,l=e.columnBreakOnParagraph,c=e.documentSize,s=e.documentMargins,u=e.printFontSize;(0,tt.useLayoutEffect)((function(){var e=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n,p,d,f,m,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={columnsCount:a,documentSize:c,documentMargins:s,printFontSize:u},e.next=3,Yo(i,t);case 3:return n=e.sent,e.next=6,ti(o,t);case 6:p=e.sent,d=p.normalPageHeight,f=p.firstPageHeight,m=i.map((function(e,t){return{content:e,height:n[t]}})),h=_o(m,{columnsCount:a,columnBreakOnParagraph:l,normalPageHeight:d,firstPageHeight:f}),r(h);case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ri(i,r,o,a,l,"next",e)}function l(e){ri(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[i,o,a,l,c,s,u]);var p=n.map((function(e,t){return tt.createElement(qo,{key:t,pageHeader:0===t?tt.createElement(To,{title:o}):null,allColumnsLines:Ho(a,e),documentSize:c,documentMargins:s,printFontSize:u})}));return tt.createElement(tt.Fragment,null,p)}ai.propTypes={title:it().string.isRequired,allLines:it().arrayOf(it().string).isRequired,columnsCount:it().number.isRequired,columnBreakOnParagraph:it().bool.isRequired,documentSize:it().string.isRequired,documentMargins:it().number.isRequired,printFontSize:it().number.isRequired};const li=ai;function ci(e){var t=e.selectedFile,n=e.highlightChords,r=u()(e,["chordsAndLyricsDisplay","alignChordsWithLyrics","alignBars","harmonizeAccidentals","accidentalsType","transposeValue","autoRepeatChords","expandSectionRepeats","useShortNamings","simplifyChords"]),o=lo(t.content||"",r).split("\n"),i=["printPreview"];return n&&i.push("cmChordLine--highlightChords"),tt.createElement("div",{className:i.join(" "),"data-testid":"printPreview"},tt.createElement(li,{title:t.title||"",allLines:o,columnsCount:e.columnsCount,columnBreakOnParagraph:e.columnBreakOnParagraph,documentSize:e.documentSize,documentMargins:e.documentMargins,printFontSize:e.printFontSize}))}ci.propTypes={selectedFile:it().object.isRequired,columnsCount:it().number.isRequired,columnBreakOnParagraph:it().bool.isRequired,documentSize:it().string.isRequired,documentMargins:it().number.isRequired,printFontSize:it().number.isRequired,highlightChords:it().bool.isRequired};const si=ci,ui=(0,rt.$j)((function(e){return{chordsAndLyricsDisplay:te(e,"songPreferences","chordsAndLyricsDisplay"),alignChordsWithLyrics:te(e,"songPreferences","alignChordsWithLyrics"),harmonizeAccidentals:te(e,"songPreferences","harmonizeAccidentals"),accidentalsType:te(e,"songPreferences","preferredAccidentals"),useShortNamings:te(e,"songPreferences","useShortNamings"),simplifyChords:te(e,"songPreferences","simplifyChords"),transposeValue:te(e,"songPreferences","transposeValue"),columnsCount:te(e,"songFormatting","columnsCount"),columnBreakOnParagraph:te(e,"songFormatting","columnBreakOnParagraph"),documentSize:te(e,"songFormatting","documentSize"),documentMargins:te(e,"songFormatting","documentMargins"),alignBars:te(e,"songFormatting","alignBars"),printFontSize:te(e,"songFormatting","printFontSize"),highlightChords:te(e,"songFormatting","highlightChords"),autoRepeatChords:te(e,"songFormatting","autoRepeatChords"),expandSectionRepeats:te(e,"songFormatting","expandSectionRepeats")}}))(si);function pi(e){switch(e.editorMode){case"edit":return tt.createElement(xo,e);case"play":return tt.createElement(ko,e);case"print":return tt.createElement(ui,e);case"export":return tt.createElement(No,e)}}pi.propTypes={editorMode:it().string.isRequired};const di=pi,fi=(0,rt.$j)((function(e){return{selectedFile:I(e,E(e))||{},editorMode:w(e)}}),{updateFile:Fe})(di);n("JTJg");function mi(){return mi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mi.apply(this,arguments)}function hi(e){var t,n,r,o,i,a,l,c=e.id,s=e.allWidgets,u=e.nonInteractableWidgets,p=e.hiddenWidgets,d=e.setOption,f=e.getEntryComponent,m=["optionsPanel","optionsPanel-"+c],h=s.widgetsOrder.filter((function(e){return!p.includes(e)})).map((function(e){return"optionsGroup"===(t=s.allWidgets[e]).type?(l=t.groupWidgetsOrder.filter((function(e){return!p.includes(e)})).map((function(r){return n=t.allGroupWidgets[r],a=!u.includes(e)&&!u.includes(r),y(r,n,a)})),o=f(t.type),i=!u.includes(e),tt.createElement(o,{key:e,isInteractable:i,label:t.label,icon:t.icon},l)):y(e,t,!u.includes(e))}));function y(t,n,o){return r=f(n.type),tt.createElement(r,mi({key:t,isInteractable:o,optionContext:n.option.context,optionKey:n.option.key,optionValue:e[n.option.key],setOption:d,label:n.label},n.typeOptions))}return tt.createElement("div",{className:m.join(" ")},h)}hi.propTypes={id:it().string.isRequired,allWidgets:it().object.isRequired,nonInteractableWidgets:it().arrayOf(it().string).isRequired,hiddenWidgets:it().arrayOf(it().string).isRequired,setOption:it().func.isRequired,getEntryComponent:it().func.isRequired};const yi=hi;function gi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vi(e){var t=gi((0,tt.useState)(e.isOpened),2),n=t[0],r=t[1],o=e.isInteractable,i=e.icon,a=e.label,l=["sb-optionsGroup"];function c(){return o&&e.children&&e.children.length>0}return c()||l.push("sb-optionsGroup-isNotInteractable"),!n||e.children&&0!==e.children.length||r(!1),tt.createElement("div",{className:l.join(" ")},tt.createElement("div",{className:"sb-optionsGroup-title",onClick:c()?function(){r(!n)}:null},tt.createElement("div",{className:"sb-optionsGroup-label"},tt.createElement("span",{className:"sb-optionsGroup-iconTitle"},tt.createElement(ht,{iconName:i}))," ",a),tt.createElement("div",{className:"sb-optionsGroup-toggle"},tt.createElement("span",{className:"sb-optionsGroup-iconToggle"},tt.createElement(ht,{iconName:n?"unfold_less":"unfold_more"})))),tt.createElement("div",{className:"sb-optionsGroup-content"},n&&e.children))}vi.propTypes={isOpened:it().bool,isInteractable:it().bool.isRequired,icon:it().string.isRequired,label:it().string.isRequired,children:it().arrayOf(it().element)},vi.defaultProps={isOpened:!0};const Oi=vi;function Ci(e){var t,n=e.isSelected,r=e.label,o=e.onClick,i=["sb-optionSelectChoice"];return n&&(i.push("sb-optionSelectChoice-isSelected"),t=tt.createElement("span",{className:"sb-optionSelectChoice-checkIcon"},tt.createElement(ht,{iconName:"check"}))),tt.createElement("div",{className:i.join(" "),onClick:o},tt.createElement("div",{className:"sb-optionSelectChoice-check"},n&&t),tt.createElement("div",{className:"sb-optionSelectChoice-label"},r))}Ci.propTypes={isSelected:it().bool.isRequired,label:it().string.isRequired,onClick:it().func.isRequired};const wi=tt.memo(Ci);function Ei(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Si(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Si(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Si(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pi(e){var t=Ei((0,tt.useState)(!1),2),n=t[0],r=t[1],o=e.isInteractable,i=e.label,a=e.allChoices,l=e.optionContext,c=e.optionKey,s=e.optionValue,u=e.setOption,p=["sb-optionSelect"];o||p.push("sb-optionSelect-isNotInteractable");var d=n?"keyboard_arrow_down":"keyboard_arrow_right";var f=n?tt.createElement("div",{className:"sb-optionSelect-choices"},a.map((function(e){return tt.createElement(wi,{key:e.value,label:e.label,isSelected:s===e.value,onClick:function(){return u(l,c,e.value)}})}))):null;return tt.createElement("div",{className:p.join(" ")},tt.createElement("div",{className:"sb-optionSelect-title",onClick:o?function(){r(!n)}:null},tt.createElement("div",{className:"sb-optionSelect-desc"},i),tt.createElement("div",{className:"sb-optionSelect-toggle"},tt.createElement("span",{className:"sb-optionSelect-icon"},tt.createElement(ht,{iconName:d})))),f)}Pi.propTypes={isInteractable:it().bool.isRequired,label:it().string.isRequired,allChoices:it().array.isRequired,optionContext:it().string.isRequired,optionKey:it().string.isRequired,optionValue:it().string.isRequired,setOption:it().func.isRequired};const Ri=Pi;n("JevA"),n("qePV");function ji(e){var t=e.isInteractable,n=e.label,r=e.min,o=e.max,i=e.showPlusSymbol,a=e.optionContext,l=e.optionKey,c=e.optionValue,s=e.setOption,u=["sb-optionSlider"];t||u.push("sb-optionSlider-isNotInteractable");var p=c>0&&i?"+"+c:c;return tt.createElement("div",{className:u.join(" ")},tt.createElement("div",{className:"sb-optionSlider-desc"},n),tt.createElement("div",{className:"sb-optionSlider-value"},p),tt.createElement("div",{className:"sb-optionSlider-range"},tt.createElement("input",{min:r,max:o,value:c,type:"range",onChange:t?function(e){s(a,l,Number.parseInt(e.target.value))}:null,disabled:!t})))}ji.propTypes={isInteractable:it().bool.isRequired,label:it().string.isRequired,min:it().number.isRequired,max:it().number.isRequired,showPlusSymbol:it().bool,optionContext:it().string.isRequired,optionKey:it().string.isRequired,optionValue:it().number.isRequired,setOption:it().func.isRequired},ji.defaultProps={showPlusSymbol:!0};const xi=tt.memo(ji);function Fi(e){var t=e.isInteractable,n=e.label,r=e.optionContext,o=e.optionKey,i=e.optionValue,a=e.setOption,l=["sb-optionToggle"];return l.push(!0===i?"sb-optionToggle-isOn":"sb-optionToggle-isOff"),t||l.push("sb-optionToggle-isNotInteractable"),tt.createElement("div",{className:l.join(" "),onClick:t?function(){a(r,o,!i)}:null},tt.createElement("div",{className:"sb-optionToggle-desc"},n),tt.createElement("div",{className:"sb-optionToggle-icon"},tt.createElement("span",{className:"sb-optionToggle-icon"},tt.createElement(ht,{iconName:!0===i?"toggle_on":"toggle_off"}))))}Fi.propTypes={isInteractable:it().bool.isRequired,label:it().string.isRequired,optionContext:it().string.isRequired,optionKey:it().string.isRequired,optionValue:it().bool.isRequired,setOption:it().func.isRequired};const Ni=tt.memo(Fi);function Ai(){return Ai=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ai.apply(this,arguments)}function Li(e){switch(e){case"optionsGroup":return Oi;case"select":return Ri;case"slider":return xi;case"toggle":return Ni}}function ki(e){return tt.createElement("div",{className:"sb-optionsPanel"},tt.createElement(yi,Ai({},e,{getEntryComponent:Li})))}function Bi(){return Bi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bi.apply(this,arguments)}var qi=function(e,t,n){if(!e)throw new TypeError("Cannot set an option without a context");if(!t)throw new TypeError("Cannot set an option without a key");return xe(y,{context:e,key:t,value:n})};var Mi=n("zqxM"),Ti=n.n(Mi);function Di(e){return function(e){if(Array.isArray(e))return zi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return zi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zi(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ii(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ii(Object(n),!0).forEach((function(t){Wi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ii(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Gi=function(e,t,n,r){return(0,rt.$j)((function(r){var o,i,a={allWidgets:e,nonInteractableWidgets:t(r),hiddenWidgets:n(r)};return e.widgetsOrder.forEach((function(t){"optionsGroup"===(o=e.allWidgets[t]).type?o.groupWidgetsOrder.forEach((function(e){i=o.allGroupWidgets[e],a[i.option.key]=te(r,i.option.context,i.option.key)})):a[o.option.key]=te(r,o.option.context,o.option.key)})),a}),{setOption:qi})(r)}({widgetsOrder:["style","chordsAndLyricsDisplay","alignChordsWithLyrics","alignBars","autoRepeatChords","expandSectionRepeats","layout","chords","format"],allWidgets:{style:{label:"Rendering style",type:"select",typeOptions:{allChoices:[{id:"styleChordMark",label:"ChordMark",value:"chordmark"}]},option:{context:"songFormatting",key:"style"}},chordsAndLyricsDisplay:{label:"Chords and lyrics",type:"select",typeOptions:{allChoices:[{id:"cldisplayAll",label:"Display both",value:"all"},{id:"cldisplayLyrics",label:"Lyrics only",value:"lyrics"},{id:"cldisplayChords",label:"Chords only",value:"chords"},{id:"cldisplayChordsFirstLyricLine",label:"Chords + First lyric line",value:"chordsFirstLyricLine"}]},option:{context:"songPreferences",key:"chordsAndLyricsDisplay"}},alignChordsWithLyrics:{label:"Align chords with lyrics",type:"toggle",option:{context:"songPreferences",key:"alignChordsWithLyrics"}},alignBars:{label:"Align bars",type:"toggle",option:{context:"songFormatting",key:"alignBars"}},autoRepeatChords:{label:"Auto repeat chords",type:"toggle",option:{context:"songFormatting",key:"autoRepeatChords"}},expandSectionRepeats:{label:"Expand section repeats",type:"toggle",option:{context:"songFormatting",key:"expandSectionRepeats"}},layout:{type:"optionsGroup",label:"Layout",icon:"view_compact",groupWidgetsOrder:["documentSize","documentMargins","columnsCount","columnBreakOnParagraph"],allGroupWidgets:{documentSize:{label:"Document size",type:"select",typeOptions:{allChoices:[{id:"documentSizeA4",label:"A4",value:"a4"},{id:"documentSizeBooxMax2Pro",label:"Boox Max 2 Pro",value:"booxmax2pro"}]},option:{context:"songFormatting",key:"documentSize"}},documentMargins:{label:"Margins",type:"slider",typeOptions:{min:1,max:5},option:{context:"songFormatting",key:"documentMargins"}},columnsCount:{label:"Columns",type:"slider",typeOptions:{min:1,max:4},option:{context:"songFormatting",key:"columnsCount"}},columnBreakOnParagraph:{label:"Break on paragraph",type:"toggle",option:{context:"songFormatting",key:"columnBreakOnParagraph"}}}},chords:{type:"optionsGroup",label:"Chords",icon:"music_note",groupWidgetsOrder:["transposeValue","simplifyChords","harmonizeAccidentals","preferredAccidentals","useShortNamings"],allGroupWidgets:{transposeValue:{label:"Transpose",type:"slider",typeOptions:{min:-11,max:11,showPlusSymbol:!0},option:{context:"songPreferences",key:"transposeValue"}},simplifyChords:{label:"Simplify chords",type:"select",typeOptions:{allChoices:[{id:"simplifyChordsNone",label:"None",value:"none"},{id:"simplifyChordsMax",label:"Max",value:"max"},{id:"simplifyChordsCore",label:"Core",value:"core"}]},option:{context:"songPreferences",key:"simplifyChords"}},harmonizeAccidentals:{label:"Harmonize accidentals",type:"toggle",option:{context:"songPreferences",key:"harmonizeAccidentals"}},preferredAccidentals:{label:"Preferred accidentals",type:"select",typeOptions:{allChoices:[{id:"preferredAccidentalsAuto",label:"Auto",value:"auto"},{id:"preferredAccidentalsSharp",label:"Sharp (#)",value:"sharp"},{id:"preferredAccidentalsFlat",label:"Flats (b)",value:"flat"}]},option:{context:"songPreferences",key:"preferredAccidentals"}},useShortNamings:{label:"Use short names",type:"toggle",option:{context:"songPreferences",key:"useShortNamings"}}}},format:{type:"optionsGroup",label:"Format",icon:"format_size",groupWidgetsOrder:["fontSize","printFontSize","fontStyle","chordsColor","highlightChords"],allGroupWidgets:{fontSize:{label:"Font size",type:"slider",typeOptions:{min:-5,max:5,showPlusSymbol:!0},option:{context:"songFormatting",key:"fontSize"}},printFontSize:{label:"Font size (print)",type:"slider",typeOptions:{min:-5,max:5,showPlusSymbol:!0},option:{context:"songFormatting",key:"printFontSize"}},fontStyle:{label:"Font style",type:"select",typeOptions:{allChoices:[{id:"fontStyleRoboto",label:"Roboto",value:"roboto"}]},option:{context:"songFormatting",key:"fontStyle"}},chordsColor:{label:"Chords color",type:"select",typeOptions:{allChoices:[{id:"chordsColor",label:"Base",value:"base"},{id:"chordsColorRed",label:"Red",value:"red"},{id:"chordsColorYellow",label:"Yellow",value:"yellow"},{id:"chordsColorGreen",label:"Green",value:"green"}]},option:{context:"songFormatting",key:"chordsColor"}},highlightChords:{label:"Highlight Chords",type:"toggle",option:{context:"songFormatting",key:"highlightChords"}}}}}},(function(e){var t=[],n=Object.keys(_i(_i({},ne(e,"songFormatting")),ne(e,"songPreferences")));if(!E(e))return n;var r=w(e),o=Ti()(n,G[r]);return t.push.apply(t,Di(o)),t}),(function(e){var t=[],n=w(e);return te(e,"songPreferences","harmonizeAccidentals")||t.push("preferredAccidentals"),"print"===n?t.push("fontSize"):t.push("printFontSize"),t}),(function(e){return tt.createElement("div",{className:"renderingOptionsPanel"},tt.createElement("div",{className:"renderingOptionsPanel-isCollapsed"},tt.createElement("span",{className:"renderingOptionsPanel-icon"},tt.createElement(ht,{iconName:"settings"}))),tt.createElement("div",{className:"renderingOptionsPanel-isExpanded"},tt.createElement(ki,Bi({},e,{id:"rendering"}))))}));function Vi(){var e=tt.createElement(It,null),t=tt.createElement(Gi,null);return tt.createElement(xt,{leftBar:e,rightBar:t},tt.createElement(fi,null))}var Hi=[{path:"/editor",action:function(){return Vi}}],Ui=new et.Z(Hi);const Zi=function(e){return Ui.resolve(e).then((function(e){return t=e,void nt.render(tt.createElement(rt.zt,{store:Re()},tt.createElement(tt.StrictMode,null,tt.createElement(ft,null,tt.createElement(t,null)))),document.getElementById("app"));var t}))};window.addEventListener("message",Xe),Pe(),Zi("/editor")},AOyK:(e,t,n)=>{var r=n("3O+N");e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="cmBarContent">'+(null!=(i=e.lambda(null!=t?a(t,"barContent"):t,t))?i:"")+"</span>"},useData:!0})},rDp8:(e,t,n)=>{var r=n("3O+N");e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="cmBarSeparator">'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"barSeparator")||(null!=t?a(t,"barSeparator"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"barSeparator",hash:{},data:o,loc:{start:{line:1,column:29},end:{line:1,column:47}}}):i)+"</span>"},useData:!0})},dclu:(e,t,n)=>{var r=n("3O+N");e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="cmChordLineOffset">'+(null!=(i=e.lambda(null!=t?a(t,"chordLineOffset"):t,t))?i:"")+"</span>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="cmChordLine">'+(null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"chordLineOffset"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:26},end:{line:1,column:128}}}))?i:"")+(null!=(i=e.lambda(null!=t?a(t,"chordLine"):t,t))?i:"")+"</span>"},useData:!0})},JPNQ:(e,t,n)=>{var r=n("3O+N");e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="cmChordDuration">'+e.escapeExpression(e.lambda(null!=t?i(t,"chordDuration"):t,t))+"</span>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="cmChordSymbol">'+e.escapeExpression(e.lambda(null!=t?a(t,"chordSymbol"):t,t))+(null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"chordDuration"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:50},end:{line:1,column:144}}}))?i:"")+"</span>"},useData:!0})},"1OD8":(e,t,n)=>{var r=n("3O+N");e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<span class="cmEmptyLine">&nbsp;</span>'},useData:!0})},mF9j:(e,t,n)=>{var r=n("3O+N");e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p class="'+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"lineClasses")||(null!=t?l(t,"lineClasses"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"lineClasses",hash:{},data:o,loc:{start:{line:1,column:10},end:{line:1,column:27}}}):a)+'">'+(null!=(i=e.lambda(null!=t?l(t,"line"):t,t))?i:"")+"</p>"},useData:!0})},abz9:(e,t,n)=>{var r=n("3O+N");e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="cmLyricLine">'+(null!=(i=e.lambda(null!=t?a(t,"lyricLine"):t,t))?i:"")+"</span>"},useData:!0})},BH0R:(e,t,n)=>{var r=n("3O+N");e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="cmSectionLabel">'+(null!=(i=e.lambda(null!=t?a(t,"sectionLabel"):t,t))?i:"")+"</span>"},useData:!0})},"b+Zt":(e,t,n)=>{var r=n("3O+N");e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=e.lambda(null!=t?a(t,"song"):t,t))?i:""},useData:!0})},tjt8:(e,t,n)=>{var r=n("3O+N");e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="cmTimeSignature">'+(null!=(i=e.lambda(null!=t?a(t,"timeSignature"):t,t))?i:"")+"</span>"},useData:!0})}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=t,e=[],r.O=(t,n,o,i)=>{if(!n){var a=1/0;for(u=0;u<e.length;u++){for(var[n,o,i]=e[u],l=!0,c=0;c<n.length;c++)(!1&i||a>=i)&&Object.keys(r.O).every((e=>r.O[e](n[c])))?n.splice(c--,1):(l=!1,i<a&&(a=i));if(l){e.splice(u--,1);var s=o();void 0!==s&&(t=s)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,o,i]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={179:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[a,l,c]=n,s=0;if(a.some((t=>0!==e[t]))){for(o in l)r.o(l,o)&&(r.m[o]=l[o]);if(c)var u=c(r)}for(t&&t(n);s<a.length;s++)i=a[s],r.o(e,i)&&e[i]&&e[i][0](),e[a[s]]=0;return r.O(u)},n=self.webpackChunk_touffi_chords_charts_studio=self.webpackChunk_touffi_chords_charts_studio||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=r.O(void 0,[216],(()=>r("KFoJ")));o=r.O(o)})();
//# sourceMappingURL=main.7933af5154e75825efe7.js.map