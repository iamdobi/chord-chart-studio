{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/editor/prosemirror/plugins/onStateChange.js","webpack:///./src/editor/prosemirror/schema.js","webpack:///./src/core/string/replaceMultipleSpaces.js","webpack:///./src/exceptions/IncorrectBeatCountException.js","webpack:///./src/exceptions/InvalidChordRepetitionException.js","webpack:///./src/interspacer/chord/simple.js","webpack:///./src/renderer/bar/text.js","webpack:///./src/renderer/isRenderer.js","webpack:///./src/renderer/chord/momo.js","webpack:///./src/songRenderer.js","webpack:///./src/parseChordLine.js","webpack:///./src/songs/kiss.js","webpack:///./src/main.js","webpack:///./src/editor/prosemirror/editor.js","webpack:///./src/editor/prosemirror/getPlugins.js","webpack:///./src/editor/prosemirror/helpers/stateToArray.js","webpack:///./src/songs/ifIRuledTheWorld.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","onStateChangeFactory","editor","Plugin","view","update","editorView","emit","state","editorSchema","Schema","nodes","basicSchema","spec","marks","replaceMultipleSpaces","input","replaceWith","replace","IncorrectBeatCountException","Error","constructor","string","symbol","duration","beatCount","beatsPerBar","_","isString","TypeError","isFinite","super","this","InvalidChordRepetitionException","allMasks","","3","12","21","111","4","13","22","31","112","121","211","1111","bar_text","render","bar","chordRenderer","spacesAfter","renderer","isObject","isFunction","allChords","reduce","rendering","chord","repeat","chords","Chords","momo","chordSymbol","print","parse","isChordLine","line","trim","split","every","potentialChord","isChord","songRendererFactory","songTxt","allLines","map","content","type","allBarsRendered","chordLineInput","chordLine","cloneDeep","chordPattern","chordSpaces","allBars","forEach","toString","simpleChordInterspacer","allLineChords","beatsCount","chordCount","previousChord","chordString","match","message","parseChordLine","rendered","textBarRenderer","momoChordRenderer","join","e","console","log","kiss","renderTo","EventEmitter2","editorPlugins","history","keymap","Mod-z","undo","Mod-y","redo","baseKeymap","onStateChange","getPlugins","on","toJSON","doc","paragraph","acc","current","text","stateToArray","assign","load","newContent","newState","EditorState","DOMParser","fromSchema","plugins","updateState","EditorView","editorFactory","document","querySelector","renderedSong","toNode","div","createElement","innerHTML","songLines","songRenderer","addEventListener","event","target"],"mappings":"aACA,SAAAA,EAAAC,GAQA,IAPA,IAMAC,EAAAC,EANAC,EAAAH,EAAA,GACAI,EAAAJ,EAAA,GACAK,EAAAL,EAAA,GAIAM,EAAA,EAAAC,EAAA,GACQD,EAAAH,EAAAK,OAAoBF,IAC5BJ,EAAAC,EAAAG,GACAG,EAAAP,IACAK,EAAAG,KAAAD,EAAAP,GAAA,IAEAO,EAAAP,GAAA,EAEA,IAAAD,KAAAG,EACAO,OAAAC,UAAAC,eAAAC,KAAAV,EAAAH,KACAc,EAAAd,GAAAG,EAAAH,IAKA,IAFAe,KAAAhB,GAEAO,EAAAC,QACAD,EAAAU,OAAAV,GAOA,OAHAW,EAAAR,KAAAS,MAAAD,EAAAb,GAAA,IAGAe,IAEA,SAAAA,IAEA,IADA,IAAAC,EACAf,EAAA,EAAiBA,EAAAY,EAAAV,OAA4BF,IAAA,CAG7C,IAFA,IAAAgB,EAAAJ,EAAAZ,GACAiB,GAAA,EACAC,EAAA,EAAkBA,EAAAF,EAAAd,OAA2BgB,IAAA,CAC7C,IAAAC,EAAAH,EAAAE,GACA,IAAAf,EAAAgB,KAAAF,GAAA,GAEAA,IACAL,EAAAQ,OAAApB,IAAA,GACAe,EAAAM,IAAAC,EAAAN,EAAA,KAGA,OAAAD,EAIA,IAAAQ,EAAA,GAKApB,EAAA,CACAqB,EAAA,GAGAZ,EAAA,GAGA,SAAAS,EAAA1B,GAGA,GAAA4B,EAAA5B,GACA,OAAA4B,EAAA5B,GAAA8B,QAGA,IAAAC,EAAAH,EAAA5B,GAAA,CACAK,EAAAL,EACAgC,GAAA,EACAF,QAAA,IAUA,OANAhB,EAAAd,GAAAa,KAAAkB,EAAAD,QAAAC,IAAAD,QAAAJ,GAGAK,EAAAC,GAAA,EAGAD,EAAAD,QAKAJ,EAAAO,EAAAnB,EAGAY,EAAAQ,EAAAN,EAGAF,EAAAS,EAAA,SAAAL,EAAAM,EAAAC,GACAX,EAAAY,EAAAR,EAAAM,IACA1B,OAAA6B,eAAAT,EAAAM,EAAA,CAA0CI,YAAA,EAAAC,IAAAJ,KAK1CX,EAAAgB,EAAA,SAAAZ,GACA,oBAAAa,eAAAC,aACAlC,OAAA6B,eAAAT,EAAAa,OAAAC,YAAA,CAAwDC,MAAA,WAExDnC,OAAA6B,eAAAT,EAAA,cAAiDe,OAAA,KAQjDnB,EAAAoB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAAnB,EAAAmB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAvC,OAAAwC,OAAA,MAGA,GAFAxB,EAAAgB,EAAAO,GACAvC,OAAA6B,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAAnB,EAAAS,EAAAc,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAvB,EAAA2B,EAAA,SAAAtB,GACA,IAAAM,EAAAN,KAAAiB,WACA,WAA2B,OAAAjB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAL,EAAAS,EAAAE,EAAA,IAAAA,GACAA,GAIAX,EAAAY,EAAA,SAAAgB,EAAAC,GAAsD,OAAA7C,OAAAC,UAAAC,eAAAC,KAAAyC,EAAAC,IAGtD7B,EAAA8B,EAAA,GAEA,IAAAC,EAAAC,OAAA,aAAAA,OAAA,iBACAC,EAAAF,EAAAhD,KAAA2C,KAAAK,GACAA,EAAAhD,KAAAX,EACA2D,IAAAG,QACA,QAAAvD,EAAA,EAAgBA,EAAAoD,EAAAlD,OAAuBF,IAAAP,EAAA2D,EAAApD,IACvC,IAAAU,EAAA4C,EAIA1C,EAAAR,KAAA,YAEAU,2HCpJe,SAAS0C,EAAqBC,GAC5C,OAAO,IAAIC,SAAO,CACjBZ,IAAK,gBACLa,KAAM,KACE,CACNC,OAAOC,GACNJ,EAAOK,KAAK,cAAeD,EAAWE,4BCA5BC,MALM,IAAIC,SAAO,CAC/BC,MAAOC,SAAYC,KAAKF,MACxBG,MAAOF,SAAYC,KAAKC,kDCLV,SAASC,EAAsBC,EAAOC,EAAc,KAClE,OAAOD,EAAME,QAAQ,OAAQD,4BCCf,MAAME,UAAoCC,MACxDC,aACCC,OACCA,EADDC,OAECA,EAFDC,SAGCA,EAHDC,UAICA,EAJDC,YAKCA,GACG,IAEJ,IAAKJ,IAAWK,IAAEC,SAASN,GAC1B,MAAM,IAAIO,UAAU,qFAAuFP,GAE5G,IAAKC,IAAWI,IAAEC,SAASL,GAC1B,MAAM,IAAIM,UAAU,qFAAuFN,GAE5G,IAAKC,IAAaG,IAAEG,SAASN,GAC5B,MAAM,IAAIK,UAAU,uFAAyFL,GAE9G,IAAKC,IAAcE,IAAEG,SAASL,GAC7B,MAAM,IAAII,UAAU,kFAAoFJ,GAEzG,IAAKC,IAAgBC,IAAEG,SAASJ,GAC/B,MAAM,IAAIG,UAAU,oFAAsFH,GAG3GK,QAEAC,KAAKxD,KAAO,8BACZwD,KAAKV,OAASA,EACdU,KAAKT,OAASA,EACdS,KAAKR,SAAWA,EAChBQ,KAAKP,UAAYA,EACjBO,KAAKN,YAAcA,GCjCN,MAAMO,UAAwCb,MAC5DC,aACCC,OACCA,EADDC,OAECA,GACG,IAEJ,IAAKD,IAAWK,IAAEC,SAASN,GAC1B,MAAM,IAAIO,UAAU,qFAAuFP,GAE5G,IAAKC,IAAWI,IAAEC,SAASL,GAC1B,MAAM,IAAIM,UAAU,qFAAuFN,GAG5GQ,QAEAC,KAAKxD,KAAO,kCACZwD,KAAKV,OAASA,EACdU,KAAKT,OAASA,GClBhB,MAAMW,EAAW,CAChBjE,EAAG,CACFkE,GAAI,IAGLC,EAAG,CACFA,EAAM,CAAC,GACPC,GAAQ,CAAC,EAAG,GACZC,GAAO,CAAC,EAAG,GACXC,IAAQ,CAAC,EAAG,EAAG,IAGhBC,EAAG,CACFA,EAAM,CAAC,GACPC,GAAO,CAAC,EAAG,GACXC,GAAO,CAAC,EAAG,GACXC,GAAQ,CAAC,EAAG,GACZC,IAAQ,CAAC,EAAG,EAAG,GACfC,IAAQ,CAAC,EAAG,EAAG,GACfC,IAAQ,CAAC,EAAG,EAAG,GACfC,KAAQ,CAAC,EAAG,EAAG,KChBF,IAAAC,EAAA,CACdC,OAAOC,GAAKC,cAAEA,GAAkB,IAC/B,IAAIC,EAAc,EAElB,GCRiCC,EDQhBF,GCPVxB,IAAE2B,SAASD,KAAa1B,IAAE4B,WAAWF,EAASJ,QDQpD,MAAM,IAAIpB,UAAU,yCCTR,IAAoBwB,EDYjC,OAAOH,EAAIM,UAAUC,OAAO,CAACC,EAAWC,KACvCP,EAAczB,IAAEG,SAAS6B,EAAMP,aAAeO,EAAMP,YAX7B,EAavBM,GACCP,EAAcF,OAAOU,EAAMpC,QAC3B,IAAIqC,OAAOR,IAGV,MErBL,MAAMS,EAAS,IAAIC,SAEJ,IAAAC,EAAA,CACdd,OAAOe,GACCH,EAAOI,MAAMJ,EAAOK,MAAMF,GAAazC,SCMhD,MAAMsC,EAAS,IAAIC,SAEnB,SAASK,EAAYC,GACpB,OAAOrD,EAAsBqD,EAAM,KACjCC,OACAC,MAAM,KACNC,MAAMC,GAAkBX,EAAOY,QAAQD,EAAetD,QAAQ,MAAO,MAGzD,SAASwD,EAAoBC,GAC3C,MAAMC,EAAWD,EACfL,MAAM,MACNO,IAAIT,IACG,CACNU,QAASV,EACTW,KAAMZ,EAAYC,GAAQ,QAAU,UAGrCS,IAAIT,IACJ,GAAkB,UAAdA,EAAKW,KACR,IACC,MAGMC,EJTI,SAAeC,GAC7B,MAAMC,EAAYvD,IAAEwD,UAAUF,GAE9B,IAAIvD,EAAc,EACd0D,EAAe,GACfC,EAAc,GAkBlB,OAhBAH,EAAUI,QAAQC,QAAQrC,IACzBxB,EAAc,EACd0D,EAAe,GAEflC,EAAIM,UAAU+B,QAAQ5B,IACrByB,GAAgBzB,EAAMnC,SAASgE,WAC/B9D,GAAeiC,EAAMnC,WAGtB6D,EAAcnD,EAASR,GAAa0D,GAEpC,IAAK,IAAI3I,EAAI,EAAGA,EAAI2I,EAAazI,OAAQF,IACxCyG,EAAIM,UAAU/G,GAAG2G,YAAciC,EAAY5I,KAItCyI,EIhBiBO,CC3BV,SACdP,GACAxD,YACCA,EAAc,GACX,IAGJ,MAAMgE,EAAgB3E,EAAsBmE,GAC1Cb,OACAC,MAAM,KACFgB,EAAU,GAEhB,IAAIpC,EAAM,CAAEM,UAAW,IACnBG,EAAQ,GACRgC,EAAa,EACbC,EAAa,EACbC,EAAgB,GA0CpB,GAxCAH,EAAcH,QAAQO,IASrB,GARAnC,EAAQ,CACPrC,OAAQwE,EACRtE,UAAYsE,EAAYC,MAAM,QAAU,IAAIpJ,QAAW+E,EACvDH,OAAQuE,EAAY5E,QAAQ,MAAO,KAEpCyE,GAAchC,EAAMnC,SAGhB0B,EAAIM,UAAU7G,OAAS,IAC1BkJ,EAAgB3C,EAAIM,UAAUN,EAAIM,UAAU7G,OAAS,IACnC4E,SAAWoC,EAAMpC,OAClC,MAAM,IAAIU,EAAgC,CACzCX,OAAQqC,EAAMrC,OACdC,OAAQoC,EAAMpC,SAQjB,GAHA2B,EAAIM,UAAU3G,KAAK8G,GACnBiC,IAEID,IAAejE,EAClB4D,EAAQzI,KAAK8E,IAAEwD,UAAUjC,IACzBA,EAAM,CAAEM,UAAW,IACnBmC,EAAa,EACbE,EAAgB,QAEV,GAAIF,EAAajE,EACvB,MAAM,IAAIP,EAA4B,CACrC6E,QAAS,GACT1E,OAAQqC,EAAMrC,OACdC,OAAQoC,EAAMpC,OACdC,SAAUmC,EAAMnC,SAChBC,UAAWkE,EACXjE,YAAaA,MAKZiE,EAAa,GAAMA,EAAajE,EACnC,MAAM,IAAIP,EAA4B,CACrC6E,QAAS,GACT1E,OAAQqC,EAAMrC,OACdC,OAAQoC,EAAMpC,OACdC,SAAUmC,EAAMnC,SAChBC,UAAWkE,EACXjE,YAAaA,IAIf,MAAO,CACNkE,aACAN,WD7CkBW,CAAe7B,EAAKU,UAGCQ,QAClCT,IAAI3B,IACJA,EAAIgD,SAAWC,EAAgBlD,OAAOC,EAAK,CAAEC,cAAeiD,IACrDlD,EAAIgD,WAGb9B,EAAK8B,SAAW,KAAOlB,EAAgBqB,KAAK,OAAS,KACpD,MAAOC,GACR,GAAIA,aAAarE,EAChBsE,QAAQC,IAAI,kDAAoDF,EAAEhF,YAE5D,MAAIgF,aAAanF,GAQvB,MAAMmF,EAPFA,EAAE7E,UAAY6E,EAAE5E,YACnB6E,QAAQC,yBAAyBF,EAAEhF,sCAGnCiF,QAAQC,iDAAiDF,EAAEhF,wCAK7D8C,EAAK8B,SAAW9B,EAAKU,aAMtBV,EAAK8B,SAAW9B,EAAKU,QAEtB,OAAOV,IAIT,MAAO,CACNnB,OAAM,IACE2B,EACLC,IAAIT,GAAQA,EAAK8B,UACjBG,KAAK,MAGRb,WACC,OAAOxD,KAAKiB,WE5EC,IAAAwD,EAAA,ykCCQhB,MAEMvG,ECMS,SAAuBwG,GAErC,MAAMxG,EAAS,IAAIyG,gBACbC,ECdQ,SAAoB1G,GAClC,MAAO,CACN2G,oBACAC,iBAAO,CAAEC,QAASC,OAAMC,QAASC,SACjCJ,iBAAOK,cACPC,EAAclH,IDSOmH,CAAWnH,GAEjC,IAAII,EAMJ,OAJAJ,EAAOoH,GAAG,cAAe9G,IACxBN,EAAOK,KAAK,SErBC,SAAsBC,GAGpC,OAFaA,EAAM+G,SAEPC,IAAI1C,QAAQD,IAAI4C,GACtBA,EAAU3C,QAGR2C,EAAU3C,QAAQrB,OAAO,CAACiE,EAAKC,IACrCD,GAAOC,EAAQC,KAEb,IALK,IFgBcC,CAAarH,MAG7B1D,OAAOgL,OAAO5H,EAAQ,CAC5B6H,KAAKC,GACJ,MAAMC,EAAWC,cAAY5I,OAAO,CACnCkI,IAAKW,YAAUC,WAAW3H,GAAcyD,MAAM8D,GAC9CK,QAASzB,IAGNtG,EACHA,EAAWgI,YAAYL,GAGvB3H,EAAa,IAAIiI,aAAW7B,EAAU,CAAElG,MAAOyH,IAEhD/H,EAAOK,KAAK,cAAe0H,MD9BfO,CAFIC,SAASC,cAAc,YAIpCC,EAAeF,SAASC,cAAc,kBAkB5C,SAASE,EAAOhB,GACf,MAAMiB,EAAMJ,SAASK,cAAc,OAKnC,OAJAD,EAAIE,UAAYnB,EACdtD,MAAM,MACNO,IAAIT,SAAcA,SAClBiC,KAAK,IACAwC,EAvBR3I,EAAOoH,GAAG,SAAW0B,IACpB,MAAMC,EAAevE,EAAoBsE,EAAU3C,KAAK,OACxDsC,EAAaI,UAAYE,EAAazD,aAKvCtF,EAAO6H,KAAKa,EAAOnC,IAEEgC,SAASC,cAAc,kBAC/BQ,iBAAiB,SAAWC,IACxC,OAAOA,EAAMC,OAAOnK,OACpB,IAAK,OAAQiB,EAAO6H,KAAKa,EAAOnC,IAAQ,MACxC,IAAK,QAASvG,EAAO6H,KAAKa,EI1BX","file":"main.75e961f948b5810db4d3.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"Vtdi\",1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import { Plugin } from 'prosemirror-state';\n\nexport default function onStateChangeFactory(editor) {\n\treturn new Plugin({\n\t\tkey: 'onStateChange',\n\t\tview: () => {\n\t\t\treturn {\n\t\t\t\tupdate(editorView) {\n\t\t\t\t\teditor.emit('statechange', editorView.state);\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t});\n}","import { Schema } from 'prosemirror-model';\nimport { schema as basicSchema } from 'prosemirror-schema-basic';\n\nconst editorSchema = new Schema({\n\tnodes: basicSchema.spec.nodes,\n\tmarks: basicSchema.spec.marks\n});\n\nexport default editorSchema;","export default function replaceMultipleSpaces(input, replaceWith = ' ') {\n\treturn input.replace(/  +/g, replaceWith);\n}","import _ from 'lodash';\n\nexport default class IncorrectBeatCountException extends Error {\n\tconstructor(\n\t\t{\n\t\t\tstring,\n\t\t\tsymbol,\n\t\t\tduration,\n\t\t\tbeatCount,\n\t\t\tbeatsPerBar\n\t\t} = {}\n\t) {\n\t\tif (!string || !_.isString(string)) {\n\t\t\tthrow new TypeError('InvalidChordRepetitionException cannot be created without chord string, received: ' + string);\n\t\t}\n\t\tif (!symbol || !_.isString(symbol)) {\n\t\t\tthrow new TypeError('InvalidChordRepetitionException cannot be created without chord symbol, received: ' + symbol);\n\t\t}\n\t\tif (!duration || !_.isFinite(duration)) {\n\t\t\tthrow new TypeError('InvalidChordRepetitionException cannot be created without chord duration, received: ' + duration);\n\t\t}\n\t\tif (!beatCount || !_.isFinite(beatCount)) {\n\t\t\tthrow new TypeError('InvalidChordRepetitionException cannot be created without beatCount, received: ' + beatCount);\n\t\t}\n\t\tif (!beatsPerBar || !_.isFinite(beatsPerBar)) {\n\t\t\tthrow new TypeError('InvalidChordRepetitionException cannot be created without beatsPerBar, received: ' + beatsPerBar);\n\t\t}\n\n\t\tsuper();\n\n\t\tthis.name = 'IncorrectBeatCountException';\n\t\tthis.string = string;\n\t\tthis.symbol = symbol;\n\t\tthis.duration = duration;\n\t\tthis.beatCount = beatCount;\n\t\tthis.beatsPerBar = beatsPerBar;\n\t}\n}\n\n","import _ from 'lodash';\n\nexport default class InvalidChordRepetitionException extends Error {\n\tconstructor(\n\t\t{\n\t\t\tstring,\n\t\t\tsymbol\n\t\t} = {}\n\t) {\n\t\tif (!string || !_.isString(string)) {\n\t\t\tthrow new TypeError('InvalidChordRepetitionException cannot be created without chord string, received: ' + string);\n\t\t}\n\t\tif (!symbol || !_.isString(symbol)) {\n\t\t\tthrow new TypeError('InvalidChordRepetitionException cannot be created without chord symbol, received: ' + symbol);\n\t\t}\n\n\t\tsuper();\n\n\t\tthis.name = 'InvalidChordRepetitionException';\n\t\tthis.string = string;\n\t\tthis.symbol = symbol;\n\t}\n}\n\n","import _ from 'lodash';\n\nconst allMasks = {\n\t0: {\n\t\t'': []\n\t},\n\n\t3: {\n\t\t'3': \t[3], \t\t// 'A   '\n\t\t'12':  \t[2, 4], \t// 'A  B    '\n\t\t'21': \t[6, 0], \t// 'A      C'\n\t\t'111': \t[2, 2, 0], \t// 'A  B  C'\n\t},\n\n\t4: {\n\t\t'4': \t[3], \t\t// 'A   ',\n\t\t'13': \t[1, 4], \t// 'A B    ',\n\t\t'22': \t[3, 2], \t// 'A   B  ',\n\t\t'31':   [5, 0], \t// 'A     B',\n\t\t'112':  [1, 1, 3], \t// 'A B C   ',\n\t\t'121':  [1, 4, 0], \t// 'A B    C',\n\t\t'211': \t[4, 1, 0], \t// 'A    B C',\n\t\t'1111': [2, 2, 2], \t// 'A  B  C  D',\n\t},\n};\n\nexport default function space(chordLineInput) {\n\tconst chordLine = _.cloneDeep(chordLineInput);\n\n\tlet beatsPerBar = 0;\n\tlet chordPattern = '';\n\tlet chordSpaces = [];\n\n\tchordLine.allBars.forEach(bar => {\n\t\tbeatsPerBar = 0;\n\t\tchordPattern = '';\n\n\t\tbar.allChords.forEach(chord => {\n\t\t\tchordPattern += chord.duration.toString();\n\t\t\tbeatsPerBar += chord.duration;\n\t\t});\n\n\t\tchordSpaces = allMasks[beatsPerBar][chordPattern];\n\n\t\tfor (let i = 0; i < chordPattern.length; i++) {\n\t\t\tbar.allChords[i].spacesAfter = chordSpaces[i];\n\t\t}\n\t});\n\n\treturn chordLine;\n}","import _ from 'lodash';\n\nimport isRenderer from '../isRenderer';\n\nconst defaultSpaceCount = 2;\n\nexport default {\n\trender(bar, { chordRenderer } = {}) {\n\t\tlet spacesAfter = 0;\n\n\t\tif (! isRenderer(chordRenderer)) {\n\t\t\tthrow new TypeError('chordRenderer is not a valid renderer');\n\t\t}\n\n\t\treturn bar.allChords.reduce((rendering, chord) => {\n\t\t\tspacesAfter = _.isFinite(chord.spacesAfter) ? chord.spacesAfter : defaultSpaceCount;\n\n\t\t\trendering +=\n\t\t\t\tchordRenderer.render(chord.symbol) +\n\t\t\t\t' '.repeat(spacesAfter);\n\n\t\t\treturn rendering;\n\t\t}, '');\n\t}\n};","import _ from 'lodash';\n\nexport default function isRenderer(renderer) {\n\treturn (_.isObject(renderer) && _.isFunction(renderer.render));\n}","import { Chords } from 'momo-chords';\nconst chords = new Chords();\n\nexport default {\n\trender(chordSymbol) {\n\t\treturn chords.print(chords.parse(chordSymbol).symbol);\n\t}\n};","import { Chords } from 'momo-chords';\nimport replaceMultipleSpaces from './core/string/replaceMultipleSpaces';\nimport parseChordLine from './parseChordLine';\n\nimport simpleChordInterspacer from './interspacer/chord/simple';\nimport textBarRenderer from './renderer/bar/text';\nimport momoChordRenderer from './renderer/chord/momo';\n\nimport InvalidChordRepetitionException from './exceptions/InvalidChordRepetitionException';\nimport IncorrectBeatCountException from './exceptions/IncorrectBeatCountException';\n\nconst chords = new Chords();\n\nfunction isChordLine(line) {\n\treturn replaceMultipleSpaces(line, ' ')\n\t\t.trim()\n\t\t.split(' ')\n\t\t.every(potentialChord => chords.isChord(potentialChord.replace(/\\./g, '')));\n}\n\nexport default function songRendererFactory(songTxt) {\n\tconst allLines = songTxt\n\t\t.split('\\n')\n\t\t.map(line => {\n\t\t\treturn {\n\t\t\t\tcontent: line,\n\t\t\t\ttype: isChordLine(line) ? 'chord' : 'text'\n\t\t\t};\n\t\t})\n\t\t.map(line => {\n\t\t\tif (line.type === 'chord') {\n\t\t\t\ttry {\n\t\t\t\t\tconst parsed = parseChordLine(line.content);\n\t\t\t\t\tconst interspaced = simpleChordInterspacer(parsed);\n\n\t\t\t\t\tconst allBarsRendered = interspaced.allBars\n\t\t\t\t\t\t.map(bar => {\n\t\t\t\t\t\t\tbar.rendered = textBarRenderer.render(bar, { chordRenderer: momoChordRenderer });\n\t\t\t\t\t\t\treturn bar.rendered;\n\t\t\t\t\t\t});\n\n\t\t\t\t\tline.rendered = '| ' + allBarsRendered.join(' | ') + ' |';\n\t\t\t\t} catch (e) {\n\t\t\t\t\tif (e instanceof InvalidChordRepetitionException) {\n\t\t\t\t\t\tconsole.log('A chord cannot follow himself in the same bar: ' + e.string);\n\n\t\t\t\t\t} else if (e instanceof IncorrectBeatCountException) {\n\t\t\t\t\t\tif (e.beatCount > e.beatsPerBar) {\n\t\t\t\t\t\t\tconsole.log(`Duration of chord ${e.string} is too long for current bar`);\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log(`Bar has insufficient beat count: increase ${e.string} duration or add another chord`);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t\tline.rendered = line.content;\n\t\t\t\t}\n\n\n\n\t\t\t} else {\n\t\t\t\tline.rendered = line.content;\n\t\t\t}\n\t\t\treturn line;\n\t\t});\n\n\n\treturn {\n\t\trender() {\n\t\t\treturn allLines\n\t\t\t\t.map(line => line.rendered)\n\t\t\t\t.join('\\n');\n\t\t},\n\n\t\ttoString() {\n\t\t\treturn this.render();\n\t\t}\n\t};\n}\n","import _ from 'lodash';\n\nimport IncorrectBeatCountException from './exceptions/IncorrectBeatCountException';\nimport InvalidChordRepetitionException from './exceptions/InvalidChordRepetitionException';\nimport replaceMultipleSpaces from './core/string/replaceMultipleSpaces';\n\nexport default function parseChordLine(\n\tchordLine,\n\t{\n\t\tbeatsPerBar = 4\n\t} = {}\n) {\n\n\tconst allLineChords = replaceMultipleSpaces(chordLine)\n\t\t.trim()\n\t\t.split(' ');\n\tconst allBars = [];\n\n\tlet bar = { allChords: []};\n\tlet chord = {};\n\tlet beatsCount = 0;\n\tlet chordCount = 0;\n\tlet previousChord = {};\n\n\tallLineChords.forEach(chordString => {\n\t\tchord = {\n\t\t\tstring: chordString,\n\t\t\tduration: ((chordString.match(/\\./g) || []).length) || beatsPerBar,\n\t\t\tsymbol: chordString.replace(/\\./g, '')\n\t\t};\n\t\tbeatsCount += chord.duration;\n\n\n\t\tif (bar.allChords.length > 0) {\n\t\t\tpreviousChord = bar.allChords[bar.allChords.length - 1];\n\t\t\tif (previousChord.symbol === chord.symbol) {\n\t\t\t\tthrow new InvalidChordRepetitionException({\n\t\t\t\t\tstring: chord.string,\n\t\t\t\t\tsymbol: chord.symbol\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tbar.allChords.push(chord);\n\t\tchordCount++;\n\n\t\tif (beatsCount === beatsPerBar) {\n\t\t\tallBars.push(_.cloneDeep(bar));\n\t\t\tbar = { allChords: []};\n\t\t\tbeatsCount = 0;\n\t\t\tpreviousChord = {};\n\n\t\t} else if (beatsCount > beatsPerBar) {\n\t\t\tthrow new IncorrectBeatCountException({\n\t\t\t\tmessage: '',\n\t\t\t\tstring: chord.string,\n\t\t\t\tsymbol: chord.symbol,\n\t\t\t\tduration: chord.duration,\n\t\t\t\tbeatCount: beatsCount,\n\t\t\t\tbeatsPerBar: beatsPerBar,\n\t\t\t});\n\t\t}\n\t});\n\n\tif (beatsCount > 0 && (beatsCount < beatsPerBar)) {\n\t\tthrow new IncorrectBeatCountException({\n\t\t\tmessage: '',\n\t\t\tstring: chord.string,\n\t\t\tsymbol: chord.symbol,\n\t\t\tduration: chord.duration,\n\t\t\tbeatCount: beatsCount,\n\t\t\tbeatsPerBar: beatsPerBar,\n\t\t});\n\t}\n\n\treturn {\n\t\tchordCount,\n\t\tallBars\n\t};\n}","export default `A A\nYou don't have to be beautiful\nA A\nTo turn me on\nA A\nI just need your body, baby\nA A\nFrom dusk till dawn\n\nD D\nYou don't need experience\nD D\nTo turn me out\nA A\nYou just leave it all up to me\nA A\nI'm gonna show you what it's all about\n\nE E\nYou don't have to be rich to be my girl\nD D\nYou don't have to be cool to rule my world\nE E\nAin't no particular sign I'm more compatible with\nD D\nI just want your extra time and your...Kiss\n\nA A\nYou got to not talk dirty, baby\nA A\nIf you wanna impress me\nA A\nYou can't be too flirty, Mama\nA A\nI know how to undress me, yeah\n\nD D\nI want to be your fantasy\nD D\nMaybe you could be mine?\n\nA A\nYou just leave it all up to me\nA A\nWe could have a good time\n\nChorus\n\nI think I wanna dance\n\nA A\nWomen, not girls, rule my world\nA A\nI said they rule my world\nA A\nAct your age, Mama! Not your shoe size(Not your shoe size)\nA A\nMaybe we could do the twirl\n\nD D\nYou don't have to watch Dynasty\nD D \nTo have an attitude (Uh)\nA A\nYou just leave it all up to me\nA A\nMy love... will be your food\n\nChorus`;","import editorFactory from './editor/prosemirror/editor';\nimport songRendererFactory from './songRenderer';\n\nimport kiss from './songs/kiss';\nimport world from './songs/ifIRuledTheWorld';\n\n\n\nconst editorNode = document.querySelector('#editor');\n\nconst editor = editorFactory(editorNode);\n\nconst renderedSong = document.querySelector('#rendered-song');\neditor.on('change', (songLines) => {\n\tconst songRenderer = songRendererFactory(songLines.join('\\n'));\n\trenderedSong.innerHTML = songRenderer.toString();\n\n});\n\n\neditor.load(toNode(kiss));\n\nconst songSelector = document.querySelector('.song-selector');\nsongSelector.addEventListener('change', (event) => {\n\tswitch(event.target.value) {\n\tcase 'kiss': editor.load(toNode(kiss)); break;\n\tcase 'world': editor.load(toNode(world)); break;\n\t}\n});\n\nfunction toNode(text) {\n\tconst div = document.createElement('div');\n\tdiv.innerHTML = text\n\t\t.split('\\n')\n\t\t.map(line => `<p>${line}</p>`)\n\t\t.join('');\n\treturn div;\n}","import { EditorState } from 'prosemirror-state';\nimport { EditorView } from 'prosemirror-view';\nimport { DOMParser } from 'prosemirror-model';\nimport getPlugins from './getPlugins';\nimport editorSchema from './schema';\n\nimport stateToArray from './helpers/stateToArray';\n\nimport { EventEmitter2 } from 'eventemitter2';\n\nimport 'prosemirror-view/style/prosemirror.css';\n\n\n/**\n * @param {Node} renderTo\n */\nexport default function editorFactory(renderTo) {\n\n\tconst editor = new EventEmitter2();\n\tconst editorPlugins = getPlugins(editor);\n\n\tlet editorView;\n\n\teditor.on('statechange', state => {\n\t\teditor.emit('change', stateToArray(state));\n\t});\n\n\treturn Object.assign(editor, {\n\t\tload(newContent) {\n\t\t\tconst newState = EditorState.create({\n\t\t\t\tdoc: DOMParser.fromSchema(editorSchema).parse(newContent),\n\t\t\t\tplugins: editorPlugins\n\t\t\t});\n\n\t\t\tif (editorView) {\n\t\t\t\teditorView.updateState(newState);\n\n\t\t\t} else {\n\t\t\t\teditorView = new EditorView(renderTo, { state: newState });\n\t\t\t}\n\t\t\teditor.emit('statechange', newState);\n\t\t}\n\t});\n}","import { keymap } from 'prosemirror-keymap';\nimport { baseKeymap } from 'prosemirror-commands';\nimport { undo, redo, history } from 'prosemirror-history';\nimport onStateChange from './plugins/onStateChange';\n\nexport default function getPlugins(editor) {\n\treturn [\n\t\thistory(),\n\t\tkeymap({ 'Mod-z': undo, 'Mod-y': redo }),\n\t\tkeymap(baseKeymap),\n\t\tonStateChange(editor)\n\t];\n}","/**\n * Convert a prosemirror state to an array of lines, with only text and no formatting\n */\nexport default function stateToArray(state) {\n\tconst json = state.toJSON();\n\n\treturn json.doc.content.map(paragraph => {\n\t\tif (!paragraph.content) {\n\t\t\treturn '';\n\t\t}\n\t\treturn paragraph.content.reduce((acc, current) => {\n\t\t\tacc += current.text;\n\t\t\treturn acc;\n\t\t}, '');\n\t});\n}","export default `# Intro\nAb.. Cm.. Bb\n\nAb.. Cm..\n_ If I ruled _ the world,\nBb\n_ Every day would be the first day of\nAb.. Cm..\nspring _\nBb\n_ Every heart would have a\nEb/G.. Ab..\nnew song _ to sing,\nCm7/4 EbM7/Bb Bb9\n_ And we'd sing of the _joy every morning would bring _\n\nAb.. Cm..\n_ If I ruled _ the world,\nBb\n_ Every man would be as free as a\nAb.. Cm..\nbird.\nBb\n_ Every voice would be a\nEb/G.. Ab..\nvoice to be _heard,\nCm EbM7/Bb Eb6/Bb.. Bb9. F/G.\n_ Take my word we would _treasure each day that oc_curred _ _\n\n\nCM.. Dm7/C.. FM9/C.. CM9. Dm7/C.\nMy world _ would be a _beautiful place _ _\nCM.. CM9.. Fm7.. Fm7/Bb..\nWhere we would _weave _ such wonderful _dreams _\n\nEbM.. Fm9/Eb.. EbM.. Fm9/Eb..\nMy _ world _ would wear a _smile on its _face,\nCm7.. Cm6.. Am7/5b. D7. Fm7. AbM9/Bb.\nLike the _man and the _moon has, _when _the moon _ _ beams _\n\nAb.. Cm.. Bb\n\nIf I ruled the world,\nEvery man would see the world was his friend. Yeah\nThere'd be happiness that no man could end,\nNo my friend, not if I ruled the world.\nEvery hand would be held up high,\nThere'd be sunshine in everyone's sky.\nIf the day ever dawned,\nWill I rule the world.\nEvery hand would be held up high,\nEvery star would shine in everyone's sky.\nIf the day ever dawned,\nWill I rule the world.`;"],"sourceRoot":""}