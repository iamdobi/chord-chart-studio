!function(e){function t(t){for(var r,o,l=t[0],s=t[1],c=t[2],d=0,p=[];d<l.length;d++)o=l[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(u&&u(t);p.length;)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,l=1;l<n.length;l++){var s=n[l];0!==a[s]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={0:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;i.push(["Vtdi",1]),n()}({"2ywC":function(e,t,n){},"3Z8G":function(e,t,n){},"6/UV":function(e,t,n){},"6EPN":function(e,t,n){},"8PSE":function(e,t,n){},BC9S:function(e,t,n){},IA7u:function(e,t,n){},JeH2:function(e,t,n){},PuEf:function(e,t,n){},Sdr1:function(e,t,n){},UUiC:function(e,t,n){},Vtdi:function(e,t,n){"use strict";n.r(t);n("u0UJ");var r=n("P4Tr"),a=n.n(r),i=n("ANjH");n("pNMO"),n("TeQF"),n("QWBl"),n("5DmW"),n("27RR"),n("tkto"),n("FZtP");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={allFiles:{}};function u(e,t){var n=t.payload,r=n.id,a=n.title,i=n.content,o=l({},e.allFiles);return o[r]={id:r,title:a,content:i},l(l({},e),{},{allFiles:o})}function d(e,t){var n=t.payload,r=n.id,a=n.title,i=n.content;if(!a&&!i||!e.allFiles[r])return e;var o=l({},e.allFiles);return o[r]=l({},o[r]),a&&(o[r].title=a),i&&(o[r].content=i),l(l({},e),{},{allFiles:o})}function p(e,t){var n=t.payload.id;if(!n||!e.allFiles[n])return e;var r=l({},e.allFiles);return delete r[n],l(l({},e),{},{allFiles:r})}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={},y=Object(i.b)({files:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"db/files/Create":return u(e,t);case"db/files/Update":return d(e,t);case"db/files/Delete":return p(e,t)}return e},options:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"db/options/setOptionValue":var n=t.payload,r=n.context,a=n.key,i=n.value;if(!e[r]||!e[r][a])return e;var o=m({},e[r]);o[a]=m(m({},o[a]),{},{value:i});var l=m({},e);return l[r]=o,l}return e}});function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C={selected:"",renamed:"",defaultTitle:"[untitled]"};function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w={isLeftBarCollapsed:!1,isRightBarCollapsed:!1,editorMode:"edit"};var P,j=Object(i.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"ui/layout/app/toggleLeftBar":return E(E({},e),{},{isLeftBarCollapsed:!e.isLeftBarCollapsed});case"ui/layout/app/toggleRightBar":return E(E({},e),{},{isRightBarCollapsed:!e.isRightBarCollapsed});case"ui/layout/app/setEditorMode":var n=t.payload.mode;return E(E({},e),{},{editorMode:n})}return e}}),N=Object(i.b)({layout:j}),x=Object(i.b)({db:y,fileManager:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"db/files/Create":var n=t.payload.id;return v(v({},e),{},{selected:n,renamed:n});case"db/files/Update":return v(v({},e),{},{renamed:""});case"db/files/Delete":return v(v({},e),{},{selected:"",renamed:""});case"fileManager/select":var r=t.payload.id;return v(v({},e),{},{selected:r,renamed:r===e.renamed?r:""});case"fileManager/enableRename":var a=t.payload.id;return v(v({},e),{},{renamed:a})}return e},ui:N}),q={db:{options:{rendering:{style:{value:"chordmark",default:"chordmark",resetOnSongChange:!1},alignBars:{value:!0,default:!0,resetOnSongChange:!1},autoRepeatChords:{value:!0,default:!0,resetOnSongChange:!1},expandSectionRepeats:{value:!0,default:!0,resetOnSongChange:!1},documentSize:{value:"a4",default:"a4",resetOnSongChange:!1},documentMargins:{value:3,default:3,resetOnSongChange:!1},columnsCount:{value:1,default:1,resetOnSongChange:!1},columnBreakOnParagraph:{value:!0,default:!0,resetOnSongChange:!1},showChords:{value:!0,default:!0,resetOnSongChange:!1},instrument:{value:"guitar",default:"guitar",resetOnSongChange:!1},showStrummingPattern:{value:!0,default:!0,resetOnSongChange:!1},transposeValue:{value:0,default:0,resetOnSongChange:!0},simplifyChords:{value:"none",default:"none",resetOnSongChange:!0},capoPosition:{value:0,default:0,resetOnSongChange:!0},harmonizeAccidentals:{value:!0,default:!0,resetOnSongChange:!0},preferredAccidentals:{value:"auto",default:"auto",resetOnSongChange:!0},useShortNamings:{value:!0,default:!0,resetOnSongChange:!1},fontSize:{value:0,default:0,resetOnSongChange:!1},printFontSize:{value:0,default:0,resetOnSongChange:!1},fontStyle:{value:"roboto",default:"roboto",resetOnSongChange:!1},chordsColor:{value:"yellow",default:"yellow",resetOnSongChange:!1},highlightChords:{value:!0,default:!0,resetOnSongChange:!1}}}}},k=[];function M(){window.__REDUX_DEVTOOLS_EXTENSION__&&k.push(window.__REDUX_DEVTOOLS_EXTENSION__({trace:!0}));var e=function(){try{var e=localStorage.getItem("state");if(!e)return;return JSON.parse(e)}catch(e){return}}(),t=a()(e,q);(P=Object(i.d)(x,t,i.c.apply(void 0,k))).subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(e){}}(P.getState())}))}var F=n("d/CZ"),B=n("q1tI"),T=n.n(B),z=n("i8i4"),A=n.n(z),I=n("/MKj"),L=(n("4Brf"),n("0oug"),n("4mDm"),n("NBAS"),n("07d7"),n("SuFq"),n("JfAA"),n("PKPk"),n("3bBZ"),n("WoyN"),n("17x9")),_=n.n(L);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U(e);if(t){var a=U(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return V(this,n)}}function V(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(i,e);var t,n,r,a=H(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={error:null,errorInfo:null},t}return t=i,(n=[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.errorInfo?T.a.createElement("div",{className:"ErrorBoundary"},T.a.createElement("h2",null,"Something went wrong"),T.a.createElement("details",{style:{whiteSpace:"pre-wrap"},open:!0},this.state.error&&this.state.error.toString(),T.a.createElement("br",null),this.state.errorInfo.componentStack)):this.props.children}}])&&W(t.prototype,n),r&&W(t,r),i}(T.a.Component);J.propTypes={children:_.a.any};var K=J;function Z(e,t){if(!e)throw new TypeError("Cannot create an action without an action type");return{type:e,payload:t}}var X=function(e){return e.ui.layout.app.isLeftBarCollapsed},$=function(e){return e.ui.layout.app.isRightBarCollapsed},Q=function(e){return e.ui.layout.app.editorMode};n("oVuX"),n("JeH2"),n("6/UV"),n("PuEf");function Y(e){var t=e.iconName;return T.a.createElement("i",{className:["icon","material-icons"].join(" ")},t)}Y.propTypes={iconName:_.a.string.isRequired};var ee=T.a.memo(Y);function te(){return T.a.createElement("div",{className:"logo"},T.a.createElement("div",{className:"logo-isCollapsed"},T.a.createElement(ee,{iconName:"queue_music"})),T.a.createElement("div",{className:"logo-isExpanded"},T.a.createElement("span",{className:"logo-icon"},T.a.createElement(ee,{iconName:"queue_music"})),"Chords Charts Studio"))}var ne=T.a.memo(te);n("2B1R"),n("zKZe"),n("g3KT");function re(e){var t=e.label,n=e.icon,r=e.editorMode,a=e.setEditorMode,i=["mainNavEntry"];return e.isActive&&i.push("mainNavEntry-isActive"),T.a.createElement("li",{className:i.join(" "),onClick:function(){a(r)}},T.a.createElement("span",{className:"mainNavEntry-icon"},T.a.createElement(ee,{iconName:n})),t)}re.propTypes={label:_.a.string.isRequired,icon:_.a.string.isRequired,editorMode:_.a.string.isRequired,setEditorMode:_.a.func.isRequired,isActive:_.a.bool.isRequired};var ae=T.a.memo(re);function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function oe(e){var t=e.currentMode,n=e.allEntries,r=e.setEditorMode;return T.a.createElement("nav",{className:"mainNav"},T.a.createElement("ul",{className:"mainNav-entries"},n.map((function(e,n){return T.a.createElement(ae,ie({key:n,isActive:e.editorMode===t,setEditorMode:r},e))}))))}oe.propTypes={currentMode:_.a.string.isRequired,setEditorMode:_.a.func.isRequired,allEntries:_.a.arrayOf(_.a.shape({id:_.a.string.isRequired,label:_.a.string.isRequired,icon:_.a.string.isRequired,editorMode:_.a.string.isRequired}))};var le=T.a.memo(oe);n("Sdr1");function se(){return T.a.createElement("div",{className:"appFooter"},"Chords Charts Studio v0.8.0 - ChordMark v0.4.0")}var ce=T.a.memo(se),ue=[{id:"edit",label:"Edit",icon:"create",editorMode:"edit"},{id:"play",label:"Play",icon:"music_note",editorMode:"play"},{id:"print",label:"Print / PDF",icon:"print",editorMode:"print"},{id:"export",label:"Export",icon:"save_alt",editorMode:"export"}];function de(e){var t=e.isLeftBarCollapsed,n=e.isRightBarCollapsed,r=e.editorMode,a=e.toggleLeftBar,i=e.toggleRightBar,o=e.setEditorMode,l=e.leftBar,s=e.rightBar,c=["leftBar"];t&&c.push("leftBar-isCollapsed");var u=["rightBar"];return n&&u.push("rightBar-isCollapsed"),T.a.createElement("div",{className:"appLayout-wrapper"},T.a.createElement("section",{className:c.join(" ")},T.a.createElement("div",{className:"leftBar-content",onClick:t?a:null},T.a.createElement(ne,null),l),T.a.createElement("div",{className:"leftBar-collapser",onClick:a,"data-testid":"leftBar-collapser"},T.a.createElement("span",{className:"leftBar-collapserIcon"},T.a.createElement(ee,{iconName:"keyboard_arrow_left"})))),T.a.createElement("section",{className:"appLayout-main"},T.a.createElement("section",{className:"appLayout-header"},T.a.createElement(le,{allEntries:ue,currentMode:r,setEditorMode:o})),T.a.createElement("section",{className:"appLayout-content"},e.children),T.a.createElement("section",{className:"appLayout-footer"},T.a.createElement(ce,null))),T.a.createElement("section",{className:u.join(" ")},T.a.createElement("div",{className:"rightBar-collapser",onClick:i,"data-testid":"rightBar-collapser"},T.a.createElement("span",{className:"rightBar-collapserIcon"},T.a.createElement(ee,{iconName:"keyboard_arrow_right"}))),T.a.createElement("div",{className:"rightBar-content",onClick:n?i:null},s)))}de.propTypes={children:_.a.element,isLeftBarCollapsed:_.a.bool,isRightBarCollapsed:_.a.bool,toggleLeftBar:_.a.func.isRequired,toggleRightBar:_.a.func.isRequired,editorMode:_.a.string.isRequired,setEditorMode:_.a.func.isRequired,leftBar:_.a.element.isRequired,rightBar:_.a.element.isRequired},de.defaultProps={isLeftBarCollapsed:!1,isRightBarCollapsed:!1};var pe=de,fe=Object(I.b)((function(e){return{isLeftBarCollapsed:X(e),isRightBarCollapsed:$(e),editorMode:Q(e)}}),{toggleLeftBar:function(){return Z("ui/layout/app/toggleLeftBar")},toggleRightBar:function(){return Z("ui/layout/app/toggleRightBar")},setEditorMode:function(e){return Z("ui/layout/app/setEditorMode",{mode:e})}})(pe),me=function(e){return e.fileManager.selected},ge=function(e){return e.fileManager.renamed},he=function(e){return e.fileManager.defaultTitle},ye=n("7Cbv"),be=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=t.content;if(!e)throw new TypeError("Cannot update a file without an id");var a={id:e,title:n,content:r};return Z("db/files/Update",a)},ve=n("3WF5"),Oe=n.n(ve),Ce=n("Y+p1"),Se=n.n(Ce),Ee=n("xweI"),Re=n.n(Ee),we=n("G4qV"),Pe=Object(we.a)(we.b,Se.a)((function(e){return Oe()(e.db.files.allFiles,(function(e){return{title:e.title,id:e.id}}))}),(function(e){return Re()(e,(function(e){return e.title.toLowerCase()}))})),je=function(e,t){return e.db.files.allFiles[t]};n("kGR0");function Ne(e){var t=e.icon,n=e.text,r=e.action;return T.a.createElement("span",{className:"fileManagerAction",onClick:r},T.a.createElement("span",{className:"fileManagerAction-icon"},T.a.createElement(ee,{iconName:t})," ",n))}Ne.propTypes={icon:_.a.string.isRequired,text:_.a.string.isRequired,action:_.a.func.isRequired};var xe=T.a.memo(Ne);function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ke(e){var t=e.createFile,n=e.deleteFile,r=[{icon:"add_circle",text:"New",action:t},{icon:"create",text:"Rename",action:e.enableRename},{icon:"delete",text:"Delete",action:n}];return T.a.createElement("div",{className:"fileManager-actionsList"},r.map((function(e,t){return T.a.createElement(xe,qe({},e,{key:t}))})))}ke.propTypes={createFile:_.a.func.isRequired,deleteFile:_.a.func.isRequired,enableRename:_.a.func.isRequired};var Me=T.a.memo(ke);n("pjDv"),n("+2oP"),n("sMBO");function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Be(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Te(e){var t=Fe(Object(B.useState)(e.title),2),n=t[0],r=t[1],a=e.fileId,i=e.isSelected,o=e.isRenamed,l=e.defaultTitle,s=e.selectFile,c=e.enableRename,u=e.updateFile,d=["fileManagerEntry"];i&&d.push("fileManagerEntry-isSelected"),o&&d.push("fileManagerEntry-isRenamed");var p=T.a.createRef();function f(e){u(a,{title:e=e||l}),r(e),p.current.scrollLeft=0}return Object(B.useEffect)((function(){o&&p.current.focus()}),[o,p]),T.a.createElement("li",{className:d.join(" "),onClick:function(){i||s(a)},onDoubleClick:function(e){o||(c(a),e.target.select())}},T.a.createElement("input",{className:"fileManagerEntry-input",ref:p,type:"text",value:n,readOnly:o?null:"readOnly",autoFocus:o?"autoFocus":null,onChange:function(e){r(e.target.value)},onBlur:function(e){o&&f(e.target.value)},onFocus:function(e){o&&e.target.select()},onKeyPress:function(e){o&&13===e.which&&(e.preventDefault(),window.getSelection().removeAllRanges(),f(e.target.value))}}))}Te.propTypes={title:_.a.string.isRequired,fileId:_.a.string.isRequired,isSelected:_.a.bool.isRequired,isRenamed:_.a.bool.isRequired,defaultTitle:_.a.string.isRequired,selectFile:_.a.func.isRequired,enableRename:_.a.func.isRequired,updateFile:_.a.func.isRequired};var ze=Te;function Ae(e){var t=e.allTitles,n=e.selected,r=e.renamed,a=e.defaultTitle,i=e.selectFile,o=e.createFile,l=e.deleteFile,s=e.enableRename,c=e.updateFile;return T.a.createElement("div",{className:"fileManager"},T.a.createElement("div",{className:"fileManager-isCollapsed"},T.a.createElement("span",{className:"fileManager-icon"},T.a.createElement(ee,{iconName:"file_copy"}))),T.a.createElement("div",{className:"fileManager-isExpanded"},T.a.createElement(Me,{createFile:function(){return o(a)},deleteFile:function(){return l(n)},enableRename:function(){return s(n)}}),T.a.createElement("ul",{className:"fileManager-entriesList"},t.map((function(e){return T.a.createElement(ze,{title:e.title,defaultTitle:a,fileId:e.id,isSelected:n===e.id,isRenamed:r===e.id,selectFile:i,updateFile:c,enableRename:s,key:e.id})})))))}Ae.propTypes={allTitles:_.a.arrayOf(_.a.shape({title:_.a.string.isRequired,id:_.a.string.isRequired})).isRequired,selected:_.a.string.isRequired,renamed:_.a.string.isRequired,defaultTitle:_.a.string.isRequired,selectFile:_.a.func.isRequired,createFile:_.a.func.isRequired,deleteFile:_.a.func.isRequired,enableRename:_.a.func.isRequired,updateFile:_.a.func.isRequired};var Ie=Ae,Le=Object(I.b)((function(e){return{selected:me(e),renamed:ge(e),defaultTitle:he(e),allTitles:Pe(e)}}),{selectFile:function(e){return Z("fileManager/select",{id:e})},createFile:function(e){if(!e)throw new TypeError("Cannot create a file without title");return Z("db/files/Create",{id:Object(ye.a)(),title:e,content:""})},deleteFile:function(e){return Z("db/files/Delete",{id:e})},updateFile:be,enableRename:function(e){return Z("fileManager/enableRename",{id:e})}})(Ie),_e=(n("d1+z"),n("8PSE"),n("noZS"),function(e,t,n){if(e.db.options[t]&&e.db.options[t][n])return e.db.options[t][n].value}),De=(n("zIDs"),n("JZM8")),We=n.n(De),Ge=n("wMS7"),He=n.n(Ge);function Ve(e){return He.a.sanitize(e)}var Ue=n("XHOe");function Je(e,t){var n=Object(Ue.parseSong)(e);return Object(Ue.renderSong)(n,t)}function Ke(e){var t=e.content,n=We()(e,["alignBars","harmonizeAccidentals","accidentalsType","transposeValue","autoRepeatChords","expandSectionRepeats","useShortNamings","simplifyChords"]);return T.a.createElement("div",{className:"songRenderer"},T.a.createElement("div",{dangerouslySetInnerHTML:{__html:Ve(Je(t,n))}}))}Ke.propTypes={content:_.a.string},Ke.defaultProps={content:""};var Ze=Ke,Xe=Object(I.b)((function(e){return{accidentalsType:_e(e,"rendering","preferredAccidentals"),alignBars:_e(e,"rendering","alignBars"),harmonizeAccidentals:_e(e,"rendering","harmonizeAccidentals"),transposeValue:_e(e,"rendering","transposeValue"),autoRepeatChords:_e(e,"rendering","autoRepeatChords"),expandSectionRepeats:_e(e,"rendering","expandSectionRepeats"),useShortNamings:_e(e,"rendering","useShortNamings"),simplifyChords:_e(e,"rendering","simplifyChords")}}))(Ze);function $e(e){var t=e.selectedFile;return T.a.createElement("div",{className:["editorPreview"].join(" ")},T.a.createElement(Xe,{content:t.content}))}$e.propTypes={selectedFile:_.a.object.isRequired};var Qe=$e,Ye=Object(I.b)((function(){return{}}))(Qe),et=(n("Rfxz"),n("BC9S"),n("UxO+")),tt=n("V2qZ"),nt=n("MEpN"),rt=n("fwbU"),at=n("ABBN"),it=n("hyZr");var ot=n("IhAg"),lt=new nt.h({nodes:ot.b,marks:ot.a});n("E9XD"),n("vxnP");function st(e){return e.toJSON().doc.content.map((function(e){return e.content?e.content.reduce((function(e,t){return e+=t.text}),""):""})).join("\n")}n("rB9j"),n("EnZy");function ct(e){return He.a.sanitize(e,{ALLOWED_TAGS:["p","#text"],KEEP_CONTENT:!1})}n("Qe33");function ut(e){var t,n,r=e.selectedFileId,a=e.editorContent,i=e.updateFile,o=Object(B.useRef)(),l=Object(B.useRef)(),s=(t=r,n=Object(B.useRef)(),Object(B.useEffect)((function(){n.current=t})),n.current);function c(){return o.current&&o.current.dom.parentNode}function u(){o.current.dom.parentNode.removeChild(o.current.dom)}return Object(B.useEffect)((function(){if(!r||o.current&&s===r)c()&&!r&&u();else{c()&&u();var e=function(e){return et.b.create({doc:nt.a.fromSchema(lt).parse((t=e,n=ct(t).split("\n").map((function(e){return"<p>".concat(e,"</p>")})).join(""),r=document.createElement("div"),r.innerHTML=ct(n),r),{preserveWhitespace:"full"}),plugins:[Object(it.a)(),Object(rt.a)({"Mod-z":it.c,"Mod-y":it.b}),Object(rt.a)(at.a)]});var t,n,r}(a);o.current=function(e,t,n){return new tt.a(null,{state:e,dispatchTransaction:function(e){var r=this.state.applyTransaction(e),a=r.state,i=r.transactions;this.updateState(a),i.some((function(e){return e.docChanged}))&&t(n,{content:st(a)})}})}(e,i,r),l.current.appendChild(o.current.dom),ut.editorView=o.current}})),T.a.createElement("div",{className:"prosemirrorWrapper",ref:l})}ut.defaultProps={selectedFileId:"",editorContent:""},ut.propTypes={selectedFileId:_.a.string,editorContent:_.a.string,updateFile:_.a.func.isRequired};var dt=ut;function pt(e){var t=e.selectedFile,n=e.updateFile;return T.a.createElement("div",{className:"songEditor"},T.a.createElement("div",{className:"songEditor-source"},T.a.createElement(dt,{editorContent:t.content,updateFile:n,selectedFileId:t.id})),T.a.createElement("div",{className:"songEditor-preview"},T.a.createElement(Ye,{selectedFile:t})))}pt.propTypes={selectedFile:_.a.object,updateFile:_.a.func.isRequired};var ft=pt;n("IA7u");function mt(e){var t=e.selectedFile;return T.a.createElement("div",{className:"exportPreview exp-SongRenderer"},T.a.createElement(Xe,{content:t.content}))}mt.propTypes={selectedFile:_.a.object.isRequired};var gt=mt;n("eLJI");function ht(e){var t=e.selectedFile,n=e.fontSize,r=e.chordsColor,a=e.highlightChords,i=e.columnsCount,o=["playRenderer"];return o.push("playRenderer--columns-"+i),o.push("cmLine--fontSize"+n),o.push("cmChordSymbol--chordsColor-"+r),a&&o.push("cmChordLine--highlightChords"),T.a.createElement("div",{className:"playRendererWrapper1"},T.a.createElement("div",{className:"playRendererWrapper2"},T.a.createElement("div",{className:o.join(" "),"data-testid":"playRenderer"},T.a.createElement(Xe,{content:t.content}))))}ht.propTypes={selectedFile:_.a.object.isRequired,columnsCount:_.a.number.isRequired,fontSize:_.a.number.isRequired,chordsColor:_.a.string.isRequired,highlightChords:_.a.bool.isRequired};var yt=ht,bt=Object(I.b)((function(e){return{chordsColor:_e(e,"rendering","chordsColor"),highlightChords:_e(e,"rendering","highlightChords"),fontSize:_e(e,"rendering","fontSize"),columnsCount:_e(e,"rendering","columnsCount")}}))(yt);n("fNiH"),n("5s+n"),n("ls82");function vt(e){var t=e.pageHeader,n=e.allColumnsLines,r=e.documentSize,a=e.documentMargins,i=e.printFontSize,o=n.map((function(e,t){var n=e.join("\n");return T.a.createElement("div",{key:t,className:"printPreview-pageColumn","data-testid":"printPreview-pageColumn",dangerouslySetInnerHTML:{__html:Ve(n)}})})),l=["printPreview-page"];l.push("printPreview-page--"+r),l.push("printPreview-page--font"+i);var s=["printPreview-pageContentWrapper"];return s.push("printPreview-pageContentWrapper--padding"+a),T.a.createElement("div",{className:l.join(" "),"data-testid":"printPreview-page"},T.a.createElement("div",{className:s.join(" "),"data-testid":"printPreview-pageContentWrapper"},T.a.createElement("div",{className:"printPreview-pageContent"},t,T.a.createElement("div",{className:"printPreview-pageColumnWrapper"},o))))}vt.defaultProps={allColumnsLines:[]},vt.propTypes={pageHeader:_.a.element,allColumnsLines:_.a.arrayOf(_.a.arrayOf(_.a.string)),documentSize:_.a.string.isRequired,documentMargins:_.a.number.isRequired,printFontSize:_.a.number.isRequired};var Ot=T.a.memo(vt);function Ct(e){var t=e.title;return T.a.createElement("div",{className:"printPreview-pageHeader"},t)}Ct.defaultProps={allColumnsLines:[]},Ct.propTypes={title:_.a.string.isRequired};var St=T.a.memo(Ct),Et=(n("yXV3"),"cmEmptyLine"),Rt="cmChordLine",wt="cmTextLine";function Pt(e,t){var n=t.columnsCount,r=t.firstPageHeight,a=t.normalPageHeight,i=t.columnBreakOnParagraph,o=t.noEmptyLinesOnColumnStart,l=void 0===o||o,s=t.noOrphanTextLine,c=void 0===s||s,u=function(e){var t=e.firstPageHeight,n=e.normalPageHeight,r=e.columnsCount,a=[],i=0,o=0,l=u(),s=0;function c(e){e.forEach((function(e){s+e.height>l&&d(),a[i][o].push(e.content),s+=e.height}))}function u(){return 0===i&&t?t:n}function d(){o===r-1?(i++,a[i]=[],o=0):o++,a[i][o]=[],s=0,l=u()}return a[i]=[],a[i][o]=[],{insert:function(e){c(e)},insertOnNextColumn:function(e){d(),c(e)},fitsOnCurrentColumn:function(e){return s+e<=l},fitsOnNextColumn:function(e){return e<=(0===i&&o<r&&t?t:n)},get:function(){return a}}}({columnsCount:n,firstPageHeight:r,normalPageHeight:a,noEmptyLinesOnColumnStart:l}),d=[],p=0;return(r||a)>0&&e.forEach((function(t,n){(function(e,t,n,r){return!(jt(t)&&!e.fitsOnCurrentColumn(t.height)&&0===n.length&&!0===r)})(u,t,d,l)&&(d.push(t),p+=t.height),d.length>0&&function(e,t,n){var r=n.noOrphanTextLine,a=n.columnBreakOnParagraph;if(jt(e)||!t)return!0;var i=function(e){return Nt(e.content,Rt)}(e)&&function(e){return Nt(e.content,wt)}(t);if(!0===r&&i)return!1;var o=jt(t);if(!0===a&&!o)return!1;return!0}(t,e[n+1],{noOrphanTextLine:c,columnBreakOnParagraph:i})&&(u.fitsOnCurrentColumn(p)?u.insert(d):u.fitsOnNextColumn(p)?u.insertOnNextColumn(d):u.insert(d),d=[],p=0)})),u.get()}function jt(e){return Nt(e.content,Et)}function Nt(e,t){return e.indexOf(t)>-1}n("ddDh");function xt(e,t){var n=document.createElement("div");return n.classList.add("measuring-node"),document.body.appendChild(n),new Promise((function(r){A.a.render(T.a.createElement("div",null,e),n,(function(){var e=t(n);A.a.unmountComponentAtNode(n),n.parentNode.removeChild(n),r(e)}))}))}function qt(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.length||0;n<e;n++)t.push([]);return t}function kt(e){return e.offsetHeight}function Mt(e){return e.clientHeight}function Ft(e,t,n,r,a,i,o){try{var l=e[i](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function Bt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){Ft(i,r,a,o,l,"next",e)}function l(e){Ft(i,r,a,o,l,"throw",e)}o(void 0)}))}}var Tt=".cmLine";function zt(e,t){return At.apply(this,arguments)}function At(){return(At=Bt(regeneratorRuntime.mark((function e(t,n){var r,a,i,o,l,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.columnsCount,a=n.documentSize,i=n.documentMargins,o=n.printFontSize,l=T.a.createElement("div",{className:"printPreview"},T.a.createElement(Ot,{allColumnsLines:qt(r,[t]),columnsCount:r,documentSize:a,documentMargins:i,printFontSize:o})),s=function(e){var t=[];return e.querySelectorAll(Tt).forEach((function(e){t.push(kt(e))})),t},e.next=5,xt(l,s);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function It(e,t,n,r,a,i,o){try{var l=e[i](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function Lt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){It(i,r,a,o,l,"next",e)}function l(e){It(i,r,a,o,l,"throw",e)}o(void 0)}))}}function _t(e,t){return Dt.apply(this,arguments)}function Dt(){return(Dt=Lt(regeneratorRuntime.mark((function e(t,n){var r,a,i,o,l,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.columnsCount,a=n.documentSize,i=n.documentMargins,o=n.printFontSize,l=T.a.createElement(Ot,{pageHeader:T.a.createElement(St,{title:t}),allColumnsLines:qt(r),documentSize:a,documentMargins:i,printFontSize:o}),s=function(e){var t=e.querySelector(".printPreview-pageContent");return{firstPageHeight:Mt(e.querySelector(".printPreview-pageColumnWrapper")),normalPageHeight:Mt(t)}},e.next=5,xt(l,s);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wt(e,t,n,r,a,i,o){try{var l=e[i](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function Gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ht(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vt(e){var t=Gt(Object(B.useState)([]),2),n=t[0],r=t[1],a=e.title,i=e.allLines,o=e.columnsCount,l=e.columnBreakOnParagraph,s=e.documentSize,c=e.documentMargins,u=e.printFontSize;Object(B.useLayoutEffect)((function(){(function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n,d,p,f,m,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={columnsCount:o,documentSize:s,documentMargins:c,printFontSize:u},e.next=3,zt(i,t);case 3:return n=e.sent,e.next=6,_t(a,t);case 6:d=e.sent,p=d.normalPageHeight,f=d.firstPageHeight,m=i.map((function(e,t){return{content:e,height:n[t]}})),g=Pt(m,{columnsCount:o,columnBreakOnParagraph:l,normalPageHeight:p,firstPageHeight:f}),r(g);case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){Wt(i,r,a,o,l,"next",e)}function l(e){Wt(i,r,a,o,l,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}})()()}),[i,a,o,l,s,c,u]);var d=n.map((function(e,t){return T.a.createElement(Ot,{key:t,pageHeader:0===t?T.a.createElement(St,{title:a}):null,allColumnsLines:qt(o,e),documentSize:s,documentMargins:c,printFontSize:u})}));return T.a.createElement(T.a.Fragment,null,d)}Vt.propTypes={title:_.a.string.isRequired,allLines:_.a.arrayOf(_.a.string).isRequired,columnsCount:_.a.number.isRequired,columnBreakOnParagraph:_.a.bool.isRequired,documentSize:_.a.string.isRequired,documentMargins:_.a.number.isRequired,printFontSize:_.a.number.isRequired};var Ut=Vt;function Jt(e){var t=e.selectedFile,n=e.highlightChords,r=We()(e,["alignBars","harmonizeAccidentals","accidentalsType","transposeValue","autoRepeatChords","expandSectionRepeats","useShortNamings","simplifyChords"]),a=Je(t.content||"",r).split("\n"),i=["printPreview"];return n&&i.push("cmChordLine--highlightChords"),T.a.createElement("div",{className:i.join(" "),"data-testid":"printPreview"},T.a.createElement(Ut,{title:t.title,allLines:a,columnsCount:e.columnsCount,columnBreakOnParagraph:e.columnBreakOnParagraph,documentSize:e.documentSize,documentMargins:e.documentMargins,printFontSize:e.printFontSize}))}Jt.propTypes={selectedFile:_.a.object.isRequired,columnsCount:_.a.number.isRequired,columnBreakOnParagraph:_.a.bool.isRequired,documentSize:_.a.string.isRequired,documentMargins:_.a.number.isRequired,printFontSize:_.a.number.isRequired,highlightChords:_.a.bool.isRequired};var Kt=Jt,Zt=Object(I.b)((function(e){return{columnsCount:_e(e,"rendering","columnsCount"),columnBreakOnParagraph:_e(e,"rendering","columnBreakOnParagraph"),documentSize:_e(e,"rendering","documentSize"),documentMargins:_e(e,"rendering","documentMargins"),accidentalsType:_e(e,"rendering","preferredAccidentals"),alignBars:_e(e,"rendering","alignBars"),harmonizeAccidentals:_e(e,"rendering","harmonizeAccidentals"),transposeValue:_e(e,"rendering","transposeValue"),printFontSize:_e(e,"rendering","printFontSize"),highlightChords:_e(e,"rendering","highlightChords"),autoRepeatChords:_e(e,"rendering","autoRepeatChords"),expandSectionRepeats:_e(e,"rendering","expandSectionRepeats"),useShortNamings:_e(e,"rendering","useShortNamings"),simplifyChords:_e(e,"rendering","simplifyChords")}}))(Kt);function Xt(e){switch(e.editorMode){case"edit":return T.a.createElement(ft,e);case"play":return T.a.createElement(bt,e);case"print":return T.a.createElement(Zt,e);case"export":return T.a.createElement(gt,e)}}Xt.propTypes={editorMode:_.a.string.isRequired};var $t=Xt,Qt=Object(I.b)((function(e){return{selectedFile:je(e,me(e))||{},editorMode:Q(e)}}),{updateFile:be})($t);n("3Z8G"),n("xeFo"),n("yq1k"),n("JTJg");function Yt(){return(Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function en(e){var t,n,r,a,i,o,l,s=e.id,c=e.allWidgets,u=e.nonInteractableWidgets,d=e.hiddenWidgets,p=e.setOption,f=e.getEntryComponent,m=["optionsPanel","optionsPanel-"+s],g=c.widgetsOrder.filter((function(e){return!d.includes(e)})).map((function(e){return"optionsGroup"===(t=c.allWidgets[e]).type?(l=t.groupWidgetsOrder.filter((function(e){return!d.includes(e)})).map((function(r){return n=t.allGroupWidgets[r],o=!u.includes(e)&&!u.includes(r),h(r,n,o)})),a=f(t.type),i=!u.includes(e),T.a.createElement(a,{key:e,isInteractable:i,label:t.label,icon:t.icon},l)):h(e,t,!u.includes(e))}));function h(t,n,a){return r=f(n.type),T.a.createElement(r,Yt({key:t,isInteractable:a,optionContext:n.option.context,optionKey:n.option.key,optionValue:e[n.option.key],setOption:p,label:n.label},n.typeOptions))}return T.a.createElement("div",{className:m.join(" ")},g)}en.propTypes={id:_.a.string.isRequired,allWidgets:_.a.object.isRequired,nonInteractableWidgets:_.a.arrayOf(_.a.string).isRequired,hiddenWidgets:_.a.arrayOf(_.a.string).isRequired,setOption:_.a.func.isRequired,getEntryComponent:_.a.func.isRequired};var tn=en;n("cGxp");function nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return rn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function an(e){var t=nn(Object(B.useState)(e.isOpened),2),n=t[0],r=t[1],a=e.isInteractable,i=e.icon,o=e.label,l=["sb-optionsGroup"];function s(){return a&&e.children&&e.children.length>0}return s()||l.push("sb-optionsGroup-isNotInteractable"),!n||e.children&&0!==e.children.length||r(!1),T.a.createElement("div",{className:l.join(" ")},T.a.createElement("div",{className:"sb-optionsGroup-title",onClick:s()?function(){r(!n)}:null},T.a.createElement("div",{className:"sb-optionsGroup-label"},T.a.createElement("span",{className:"sb-optionsGroup-iconTitle"},T.a.createElement(ee,{iconName:i}))," ",o),T.a.createElement("div",{className:"sb-optionsGroup-toggle"},T.a.createElement("span",{className:"sb-optionsGroup-iconToggle"},T.a.createElement(ee,{iconName:n?"unfold_less":"unfold_more"})))),T.a.createElement("div",{className:"sb-optionsGroup-content"},n&&e.children))}an.propTypes={isOpened:_.a.bool,isInteractable:_.a.bool.isRequired,icon:_.a.string.isRequired,label:_.a.string.isRequired,children:_.a.arrayOf(_.a.element)},an.defaultProps={isOpened:!0};var on=an;n("2ywC");function ln(e){var t,n=e.isSelected,r=e.label,a=e.onClick,i=["sb-optionSelectChoice"];return n&&(i.push("sb-optionSelectChoice-isSelected"),t=T.a.createElement("span",{className:"sb-optionSelectChoice-checkIcon"},T.a.createElement(ee,{iconName:"check"}))),T.a.createElement("div",{className:i.join(" "),onClick:a},T.a.createElement("div",{className:"sb-optionSelectChoice-check"},n&&t),T.a.createElement("div",{className:"sb-optionSelectChoice-label"},r))}ln.propTypes={isSelected:_.a.bool.isRequired,label:_.a.string.isRequired,onClick:_.a.func.isRequired};var sn=T.a.memo(ln);function cn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return un(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return un(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dn(e){var t=cn(Object(B.useState)(!1),2),n=t[0],r=t[1],a=e.isInteractable,i=e.label,o=e.allChoices,l=e.optionContext,s=e.optionKey,c=e.optionValue,u=e.setOption,d=["sb-optionSelect"];a||d.push("sb-optionSelect-isNotInteractable");var p=n?"keyboard_arrow_down":"keyboard_arrow_right";var f=n?T.a.createElement("div",{className:"sb-optionSelect-choices"},o.map((function(e){return T.a.createElement(sn,{key:e.value,label:e.label,isSelected:c===e.value,onClick:function(){return u(l,s,e.value)}})}))):null;return T.a.createElement("div",{className:d.join(" ")},T.a.createElement("div",{className:"sb-optionSelect-title",onClick:a?function(){r(!n)}:null},T.a.createElement("div",{className:"sb-optionSelect-desc"},i),T.a.createElement("div",{className:"sb-optionSelect-toggle"},T.a.createElement("span",{className:"sb-optionSelect-icon"},T.a.createElement(ee,{iconName:p})))),f)}dn.propTypes={isInteractable:_.a.bool.isRequired,label:_.a.string.isRequired,allChoices:_.a.array.isRequired,optionContext:_.a.string.isRequired,optionKey:_.a.string.isRequired,optionValue:_.a.string.isRequired,setOption:_.a.func.isRequired};var pn=dn;n("qePV"),n("JevA"),n("6EPN");function fn(e){var t=e.isInteractable,n=e.label,r=e.min,a=e.max,i=e.showPlusSymbol,o=e.optionContext,l=e.optionKey,s=e.optionValue,c=e.setOption,u=["sb-optionSlider"];t||u.push("sb-optionSlider-isNotInteractable");var d=s>0&&i?"+"+s:s;return T.a.createElement("div",{className:u.join(" ")},T.a.createElement("div",{className:"sb-optionSlider-desc"},n),T.a.createElement("div",{className:"sb-optionSlider-value"},d),T.a.createElement("div",{className:"sb-optionSlider-range"},T.a.createElement("input",{min:r,max:a,value:s,type:"range",onChange:t?function(e){c(o,l,Number.parseInt(e.target.value))}:null,disabled:!t})))}fn.propTypes={isInteractable:_.a.bool.isRequired,label:_.a.string.isRequired,min:_.a.number.isRequired,max:_.a.number.isRequired,showPlusSymbol:_.a.bool,optionContext:_.a.string.isRequired,optionKey:_.a.string.isRequired,optionValue:_.a.number.isRequired,setOption:_.a.func.isRequired},fn.defaultProps={showPlusSymbol:!0};var mn=T.a.memo(fn);n("UUiC");function gn(e){var t=e.isInteractable,n=e.label,r=e.optionContext,a=e.optionKey,i=e.optionValue,o=e.setOption,l=["sb-optionToggle"];return l.push(!0===i?"sb-optionToggle-isOn":"sb-optionToggle-isOff"),t||l.push("sb-optionToggle-isNotInteractable"),T.a.createElement("div",{className:l.join(" "),onClick:t?function(){o(r,a,!i)}:null},T.a.createElement("div",{className:"sb-optionToggle-desc"},n),T.a.createElement("div",{className:"sb-optionToggle-icon"},T.a.createElement("span",{className:"sb-optionToggle-icon"},T.a.createElement(ee,{iconName:!0===i?"toggle_on":"toggle_off"}))))}gn.propTypes={isInteractable:_.a.bool.isRequired,label:_.a.string.isRequired,optionContext:_.a.string.isRequired,optionKey:_.a.string.isRequired,optionValue:_.a.bool.isRequired,setOption:_.a.func.isRequired};var hn=T.a.memo(gn);function yn(){return(yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function bn(e){switch(e){case"optionsGroup":return on;case"select":return pn;case"slider":return mn;case"toggle":return hn}}function vn(e){return T.a.createElement("div",{className:"sb-optionsPanel"},T.a.createElement(tn,yn({},e,{getEntryComponent:bn})))}function On(){return(On=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Cn=function(e,t,n){if(!e)throw new TypeError("Cannot set an option without a context");if(!t)throw new TypeError("Cannot set an option without a key");return Z("db/options/setOptionValue",{context:e,key:t,value:n})};var Sn,En,Rn,wn,Pn=(Sn={widgetsOrder:["style","alignBars","autoRepeatChords","expandSectionRepeats","layout","helpers","chords","format"],allWidgets:{style:{label:"Rendering style",type:"select",typeOptions:{allChoices:[{id:"styleChordMark",label:"ChordMark",value:"chordmark"}]},option:{context:"rendering",key:"style"}},alignBars:{label:"Align bars",type:"toggle",option:{context:"rendering",key:"alignBars"}},autoRepeatChords:{label:"Auto repeat chords",type:"toggle",option:{context:"rendering",key:"autoRepeatChords"}},expandSectionRepeats:{label:"Expand section repeats",type:"toggle",option:{context:"rendering",key:"expandSectionRepeats"}},layout:{type:"optionsGroup",label:"Layout",icon:"view_compact",groupWidgetsOrder:["documentSize","documentMargins","columnsCount","columnBreakOnParagraph"],allGroupWidgets:{documentSize:{label:"Document size",type:"select",typeOptions:{allChoices:[{id:"documentSizeA4",label:"A4",value:"a4"},{id:"documentSizeBooxMax2Pro",label:"Boox Max 2 Pro",value:"booxmax2pro"}]},option:{context:"rendering",key:"documentSize"}},documentMargins:{label:"Margins",type:"slider",typeOptions:{min:1,max:5},option:{context:"rendering",key:"documentMargins"}},columnsCount:{label:"Columns",type:"slider",typeOptions:{min:1,max:4},option:{context:"rendering",key:"columnsCount"}},columnBreakOnParagraph:{label:"Break on paragraph",type:"toggle",option:{context:"rendering",key:"columnBreakOnParagraph"}}}},helpers:{type:"optionsGroup",label:"Helpers",icon:"remove_red_eye",groupWidgetsOrder:["showChords","instrument","showStrummingPattern"],allGroupWidgets:{showChords:{label:"Show chords diagrams",type:"toggle",option:{context:"rendering",key:"showChords"}},instrument:{label:"Instrument",type:"select",typeOptions:{allChoices:[{id:"instrumentGuitar",label:"Guitar",value:"guitar"},{id:"instrumentUkulele",label:"Ukulele",value:"ukulele"},{id:"instrumentMandolin",label:"Mandolin",value:"mandolin"},{id:"instrumentPiano",label:"Piano",value:"piano"}]},option:{context:"rendering",key:"instrument"}},showStrummingPattern:{label:"Show strumming pattern",type:"toggle",option:{context:"rendering",key:"showStrummingPattern"}}}},chords:{type:"optionsGroup",label:"Chords",icon:"music_note",groupWidgetsOrder:["transposeValue","simplifyChords","capoPosition","harmonizeAccidentals","preferredAccidentals","useShortNamings"],allGroupWidgets:{transposeValue:{label:"Transpose",type:"slider",typeOptions:{min:-11,max:11,showPlusSymbol:!0},option:{context:"rendering",key:"transposeValue"}},simplifyChords:{label:"Simplify chords",type:"select",typeOptions:{allChoices:[{id:"simplifyChordsNone",label:"None",value:"none"},{id:"simplifyChordsMax",label:"Max",value:"max"},{id:"simplifyChordsCore",label:"Core",value:"core"}]},option:{context:"rendering",key:"simplifyChords"}},capoPosition:{label:"Add capo on fret",type:"slider",typeOptions:{min:0,max:11,showPlusSymbol:!1},option:{context:"rendering",key:"capoPosition"}},harmonizeAccidentals:{label:"Harmonize accidentals",type:"toggle",option:{context:"rendering",key:"harmonizeAccidentals"}},preferredAccidentals:{label:"Preferred accidentals",type:"select",typeOptions:{allChoices:[{id:"preferredAccidentalsAuto",label:"Auto",value:"auto"},{id:"preferredAccidentalsSharp",label:"Sharp (#)",value:"sharp"},{id:"preferredAccidentalsFlat",label:"Flats (b)",value:"flat"}]},option:{context:"rendering",key:"preferredAccidentals"}},useShortNamings:{label:"Use short names",type:"toggle",option:{context:"rendering",key:"useShortNamings"}}}},format:{type:"optionsGroup",label:"Format",icon:"format_size",groupWidgetsOrder:["fontSize","printFontSize","fontStyle","chordsColor","highlightChords"],allGroupWidgets:{fontSize:{label:"Font size",type:"slider",typeOptions:{min:-5,max:5,showPlusSymbol:!0},option:{context:"rendering",key:"fontSize"}},printFontSize:{label:"Font size (print)",type:"slider",typeOptions:{min:-5,max:5,showPlusSymbol:!0},option:{context:"rendering",key:"printFontSize"}},fontStyle:{label:"Font style",type:"select",typeOptions:{allChoices:[{id:"fontStyleRoboto",label:"Roboto",value:"roboto"}]},option:{context:"rendering",key:"fontStyle"}},chordsColor:{label:"Chords color",type:"select",typeOptions:{allChoices:[{id:"chordsColor",label:"Base",value:"base"},{id:"chordsColorRed",label:"Red",value:"red"},{id:"chordsColorYellow",label:"Yellow",value:"yellow"},{id:"chordsColorGreen",label:"Green",value:"green"}]},option:{context:"rendering",key:"chordsColor"}},highlightChords:{label:"Highlight Chords",type:"toggle",option:{context:"rendering",key:"highlightChords"}}}}}},En=function(e){var t=[];switch(Q(e)){case"edit":t.push("helpers"),t.push("layout"),t.push("style"),t.push("format");break;case"play":t.push("documentSize"),t.push("documentMargins"),t.push("columnBreakOnParagraph");break;case"print":t.push("chordsColor");break;case"export":t.push("format"),t.push("layout")}return t},Rn=function(e){var t=[],n=Q(e);return _e(e,"rendering","harmonizeAccidentals")||t.push("preferredAccidentals"),"print"===n?t.push("fontSize"):t.push("printFontSize"),t.push("helpers"),t.push("capoPosition"),t},wn=function(e){return T.a.createElement("div",{className:"renderingOptionsPanel"},T.a.createElement("div",{className:"renderingOptionsPanel-isCollapsed"},T.a.createElement("span",{className:"renderingOptionsPanel-icon"},T.a.createElement(ee,{iconName:"settings"}))),T.a.createElement("div",{className:"renderingOptionsPanel-isExpanded"},T.a.createElement(vn,On({},e,{id:"rendering"}))))},Object(I.b)((function(e){var t,n,r={allWidgets:Sn,nonInteractableWidgets:En(e),hiddenWidgets:Rn(e)};return Sn.widgetsOrder.forEach((function(a){"optionsGroup"===(t=Sn.allWidgets[a]).type?t.groupWidgetsOrder.forEach((function(a){n=t.allGroupWidgets[a],r[n.option.key]=_e(e,n.option.context,n.option.key)})):r[t.option.key]=_e(e,t.option.context,t.option.key)})),r}),{setOption:Cn})(wn));function jn(){var e=T.a.createElement(Le,null),t=T.a.createElement(Pn,null);return T.a.createElement(fe,{leftBar:e,rightBar:t},T.a.createElement(Qt,null))}var Nn=[{path:"/editor",action:function(){return jn}}],xn=new F.a(Nn),qn=function(e){return xn.resolve(e).then((function(e){return t=e,void A.a.render(T.a.createElement(I.a,{store:P},T.a.createElement(T.a.StrictMode,null,T.a.createElement(K,null,T.a.createElement(t,null)))),document.getElementById("app"));var t}))};M(),qn("/editor")},WoyN:function(e,t,n){},cGxp:function(e,t,n){},"d1+z":function(e,t,n){},ddDh:function(e,t,n){},eLJI:function(e,t,n){},fNiH:function(e,t,n){},g3KT:function(e,t,n){},kGR0:function(e,t,n){},u0UJ:function(e,t,n){},xeFo:function(e,t,n){},zIDs:function(e,t,n){}});
//# sourceMappingURL=main.f555fde8d7e9f911bdee.js.map