!function(e){function t(t){for(var r,i,l=t[0],c=t[1],u=t[2],d=0,p=[];d<l.length;d++)i=l[d],a[i]&&p.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(s&&s(t);p.length;)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,l=1;l<n.length;l++){var c=n[l];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={0:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var s=c;o.push(["Vtdi",1]),n()}({"2ywC":function(e,t,n){},"3Z8G":function(e,t,n){},"6/UV":function(e,t,n){},"6EPN":function(e,t,n){},"6joI":function(e,t,n){var r=n("3O+N");e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,a){var o;return'<span class="ucc-bar-content">'+(null!=(o=e.lambda(null!=t?t.barContent:t,t))?o:"")+"</span>"},useData:!0})},"8PSE":function(e,t,n){},"9hQf":function(e,t,n){var r=n("3O+N");e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,a){var o;return'<div class="ucc-song">'+(null!=(o=e.lambda(null!=t?t.song:t,t))?o:"")+"</div>"},useData:!0})},BC9S:function(e,t,n){},Ewt9:function(e,t,n){var r=n("3O+N");e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,a){return'<span class="ucc-bar-separator">|</span>'},useData:!0})},IA7u:function(e,t,n){},JeH2:function(e,t,n){},NoTV:function(e,t,n){},PuEf:function(e,t,n){},Sdr1:function(e,t,n){},UUiC:function(e,t,n){},Vtdi:function(e,t,n){"use strict";n.r(t);n("u0UJ");var r=n("P4Tr"),a=n.n(r),o=n("ANjH"),i=function(){try{var e=localStorage.getItem("state");if(!e)return;return JSON.parse(e)}catch(e){return}},l=function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(e){}},c=(n("pNMO"),n("ma9I"),n("TeQF"),n("QWBl"),n("eoL8"),n("5DmW"),n("tkto"),n("FZtP"),"db/files/Create"),u="db/files/Update",s="db/files/Delete";function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){p(e,t,n[t])})}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={allFiles:{}};function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){g(e,t,n[t])})}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b={},y=Object(o.b)({files:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case c:return function(e,t){var n=t.payload,r=n.id,a=n.title,o=n.content,i=d({},e.allFiles);return i[r]={id:r,title:a,content:o},d({},e,{allFiles:i})}(e,t);case u:return function(e,t){var n=t.payload,r=n.id,a=n.title,o=n.content;if(!a&&!o||!e.allFiles[r])return e;var i=d({},e.allFiles);return i[r]=d({},i[r]),a&&(i[r].title=a),o&&(i[r].content=o),d({},e,{allFiles:i})}(e,t);case s:return function(e,t){var n=t.payload.id;if(!n||!e.allFiles[n])return e;var r=d({},e.allFiles);return delete r[n],d({},e,{allFiles:r})}(e,t)}return e},options:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"db/options/setOptionValue":var n=t.payload,r=n.context,a=n.key,o=n.value;if(!e[r]||!e[r][a])return e;var i=m({},e[r]);i[a]=m({},i[a],{value:o});var l=m({},e);return l[r]=i,l}return e}}),h="fileManager/select",v="fileManager/enableRename";function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){O(e,t,n[t])})}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C={selected:"",renamed:"",defaultTitle:"[untitled]"};var w="ui/layout/app/toggleLeftBar",S="ui/layout/app/toggleRightBar",R="ui/layout/app/setEditorMode";function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){x(e,t,n[t])})}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j={isLeftBarCollapsed:!1,isRightBarCollapsed:!1,editorMode:"edit"};var P,T=Object(o.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case w:return N({},e,{isLeftBarCollapsed:!e.isLeftBarCollapsed});case S:return N({},e,{isRightBarCollapsed:!e.isRightBarCollapsed});case R:return N({},e,{editorMode:t.payload.mode})}return e}}),k=Object(o.b)({layout:T}),q=Object(o.b)({db:y,fileManager:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case c:var n=t.payload.id;return E({},e,{selected:n,renamed:n});case u:return E({},e,{renamed:""});case s:return E({},e,{selected:"",renamed:""});case h:var r=t.payload.id;return E({},e,{selected:r,renamed:r===e.renamed?r:""});case v:return E({},e,{renamed:t.payload.id})}return e},ui:k}),B={db:{options:{rendering:{documentSize:{value:"a4",default:"a4",resetOnSongChange:!1},columnsCount:{value:1,default:1,resetOnSongChange:!1},columnBreakOnParagraph:{value:!0,default:!0,resetOnSongChange:!1},style:{value:"ucc",default:"ucc",resetOnSongChange:!1},alignBars:{value:!0,default:!0,resetOnSongChange:!1},showChords:{value:!0,default:!0,resetOnSongChange:!1},instrument:{value:"guitar",default:"guitar",resetOnSongChange:!1},showStrummingPattern:{value:!0,default:!0,resetOnSongChange:!1},transposeValue:{value:0,default:0,resetOnSongChange:!0},simplifyChords:{value:!1,default:!1,resetOnSongChange:!0},capoPosition:{value:0,default:0,resetOnSongChange:!0},harmonizeAccidentals:{value:!0,default:!0,resetOnSongChange:!0},preferredAccidentals:{value:"auto",default:"auto",resetOnSongChange:!0},fontSize:{value:0,default:0,resetOnSongChange:!1},fontStyle:{value:"roboto",default:"roboto",resetOnSongChange:!1},highlightChords:{value:!0,default:!0,resetOnSongChange:!1},chordsColor:{value:"black",default:"black",resetOnSongChange:!1}}}}},F=[];var M=n("d/CZ"),_=n("q1tI"),I=n.n(_),A=n("i8i4"),L=n.n(A),z=n("/MKj");function D(e,t){if(!e)throw new TypeError("Cannot create an action without an action type");return{type:e,payload:t}}var G=function(e){return e.ui.layout.app.isLeftBarCollapsed},W=function(e){return e.ui.layout.app.isRightBarCollapsed},V=function(e){return e.ui.layout.app.editorMode},U=(n("oVuX"),n("JeH2"),n("17x9")),K=n.n(U);n("6/UV"),n("PuEf");function J(e){var t=e.iconName;return I.a.createElement("i",{className:["icon","material-icons"].join(" ")},t)}J.propTypes={iconName:K.a.string.isRequired};var H=I.a.memo(J);var Z=I.a.memo(function(){return I.a.createElement("div",{className:"logo"},I.a.createElement("div",{className:"logo-isCollapsed"},I.a.createElement(H,{iconName:"queue_music"})),I.a.createElement("div",{className:"logo-isExpanded"},I.a.createElement("span",{className:"logo-icon"},I.a.createElement(H,{iconName:"queue_music"})),"Chords Charts Studio"))});n("2B1R"),n("zKZe"),n("g3KT");function X(e){var t=e.label,n=e.icon,r=e.editorMode,a=e.setEditorMode,o=["mainNavEntry"];return e.isActive&&o.push("mainNavEntry-isActive"),I.a.createElement("li",{className:o.join(" "),onClick:function(){a(r)}},I.a.createElement("span",{className:"mainNavEntry-icon"},I.a.createElement(H,{iconName:n})),t)}X.propTypes={label:K.a.string.isRequired,icon:K.a.string.isRequired,editorMode:K.a.string.isRequired,setEditorMode:K.a.func.isRequired,isActive:K.a.bool.isRequired};var Q=I.a.memo(X);function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $(e){var t=e.currentMode,n=e.allEntries,r=e.setEditorMode;return I.a.createElement("nav",{className:"mainNav"},I.a.createElement("ul",{className:"mainNav-entries"},n.map(function(e,n){return I.a.createElement(Q,Y({key:n,isActive:e.editorMode===t,setEditorMode:r},e))})))}$.propTypes={currentMode:K.a.string.isRequired,setEditorMode:K.a.func.isRequired,allEntries:K.a.arrayOf(K.a.shape({id:K.a.string.isRequired,label:K.a.string.isRequired,icon:K.a.string.isRequired,editorMode:K.a.string.isRequired}))};var ee=I.a.memo($);n("Sdr1");var te=I.a.memo(function(){return I.a.createElement("div",{className:"appFooter"},"Chords Charts Studio v0.5.0 - Universal Chords Charts v0.2.0")}),ne=[{id:"edit",label:"Edit",icon:"create",editorMode:"edit"},{id:"play",label:"Play",icon:"music_note",editorMode:"play"},{id:"print",label:"Print / PDF",icon:"print",editorMode:"print"},{id:"export",label:"Export",icon:"save_alt",editorMode:"export"}];function re(e){var t=e.isLeftBarCollapsed,n=e.isRightBarCollapsed,r=e.editorMode,a=e.toggleLeftBar,o=e.toggleRightBar,i=e.setEditorMode,l=e.leftBar,c=e.rightBar,u=["leftBar"];t&&u.push("leftBar-isCollapsed");var s=["rightBar"];return n&&s.push("rightBar-isCollapsed"),I.a.createElement("div",{className:"appLayout-wrapper"},I.a.createElement("section",{className:u.join(" ")},I.a.createElement("div",{className:"leftBar-content",onClick:t?a:null},I.a.createElement(Z,null),l),I.a.createElement("div",{className:"leftBar-collapser",onClick:a,"data-testid":"leftBar-collapser"},I.a.createElement("span",{className:"leftBar-collapserIcon"},I.a.createElement(H,{iconName:"keyboard_arrow_left"})))),I.a.createElement("section",{className:"appLayout-main"},I.a.createElement("section",{className:"appLayout-header"},I.a.createElement(ee,{allEntries:ne,currentMode:r,setEditorMode:i})),I.a.createElement("section",{className:"appLayout-content"},e.children),I.a.createElement("section",{className:"appLayout-footer"},I.a.createElement(te,null))),I.a.createElement("section",{className:s.join(" ")},I.a.createElement("div",{className:"rightBar-collapser",onClick:o,"data-testid":"rightBar-collapser"},I.a.createElement("span",{className:"rightBar-collapserIcon"},I.a.createElement(H,{iconName:"keyboard_arrow_right"}))),I.a.createElement("div",{className:"rightBar-content",onClick:n?o:null},c)))}re.propTypes={children:K.a.element,isLeftBarCollapsed:K.a.bool,isRightBarCollapsed:K.a.bool,toggleLeftBar:K.a.func.isRequired,toggleRightBar:K.a.func.isRequired,editorMode:K.a.string.isRequired,setEditorMode:K.a.func.isRequired,leftBar:K.a.element.isRequired,rightBar:K.a.element.isRequired},re.defaultProps={isLeftBarCollapsed:!1,isRightBarCollapsed:!1};var ae=re,oe=Object(z.b)(function(e){return{isLeftBarCollapsed:G(e),isRightBarCollapsed:W(e),editorMode:V(e)}},{toggleLeftBar:function(){return D(w)},toggleRightBar:function(){return D(S)},setEditorMode:function(e){return D(R,{mode:e})}})(ae),ie=function(e){return e.fileManager.selected},le=function(e){return e.fileManager.renamed},ce=function(e){return e.fileManager.defaultTitle},ue=n("EcEN"),se=n.n(ue),de=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=t.content;if(!e)throw new TypeError("Cannot update a file without an id");return D(u,{id:e,title:n,content:r})},pe=n("3WF5"),fe=n.n(pe),me=n("Y+p1"),ge=n.n(me),be=n("xweI"),ye=n.n(be),he=n("G4qV"),ve=Object(he.a)(he.b,ge.a)(function(e){return fe()(e.db.files.allFiles,function(e){return{title:e.title,id:e.id}})},function(e){return ye()(e,function(e){return e.title.toLowerCase()})}),Ee=function(e,t){return e.db.files.allFiles[t]};n("kGR0");function Oe(e){var t=e.icon,n=e.text,r=e.action;return I.a.createElement("span",{className:"fileManagerAction",onClick:r},I.a.createElement("span",{className:"fileManagerAction-icon"},I.a.createElement(H,{iconName:t})," ",n))}Oe.propTypes={icon:K.a.string.isRequired,text:K.a.string.isRequired,action:K.a.func.isRequired};var Ce=I.a.memo(Oe);function we(){return(we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Se(e){var t=e.createFile,n=e.deleteFile,r=[{icon:"add_circle",text:"New",action:t},{icon:"create",text:"Rename",action:e.enableRename},{icon:"delete",text:"Delete",action:n}];return I.a.createElement("div",{className:"fileManager-actionsList"},r.map(function(e,t){return I.a.createElement(Ce,we({},e,{key:t}))}))}Se.propTypes={createFile:K.a.func.isRequired,deleteFile:K.a.func.isRequired,enableRename:K.a.func.isRequired};var Re=I.a.memo(Se);n("4Brf"),n("0oug"),n("J30X"),n("4mDm"),n("07d7"),n("PKPk"),n("3bBZ");function Ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function xe(e){var t=Ne(Object(_.useState)(e.title),2),n=t[0],r=t[1],a=e.fileId,o=e.isSelected,i=e.isRenamed,l=e.defaultTitle,c=e.selectFile,u=e.enableRename,s=e.updateFile,d=["fileManagerEntry"];o&&d.push("fileManagerEntry-isSelected"),i&&d.push("fileManagerEntry-isRenamed");var p=I.a.createRef();function f(e){s(a,{title:e=e||l}),r(e),p.current.scrollLeft=0}return Object(_.useEffect)(function(){i&&p.current.focus()},[i,p]),I.a.createElement("li",{className:d.join(" "),onClick:function(){o||c(a)},onDoubleClick:function(e){i||(u(a),e.target.select())}},I.a.createElement("input",{className:"fileManagerEntry-input",ref:p,type:"text",value:n,readOnly:i?null:"readOnly",autoFocus:i?"autoFocus":null,onChange:function(e){r(e.target.value)},onBlur:function(e){i&&f(e.target.value)},onFocus:function(e){i&&e.target.select()},onKeyPress:function(e){i&&13===e.which&&(e.preventDefault(),window.getSelection().removeAllRanges(),f(e.target.value))}}))}xe.propTypes={title:K.a.string.isRequired,fileId:K.a.string.isRequired,isSelected:K.a.bool.isRequired,isRenamed:K.a.bool.isRequired,defaultTitle:K.a.string.isRequired,selectFile:K.a.func.isRequired,enableRename:K.a.func.isRequired,updateFile:K.a.func.isRequired};var je=xe;function Pe(e){var t=e.allTitles,n=e.selected,r=e.renamed,a=e.defaultTitle,o=e.selectFile,i=e.createFile,l=e.deleteFile,c=e.enableRename,u=e.updateFile;return I.a.createElement("div",{className:"fileManager"},I.a.createElement("div",{className:"fileManager-isCollapsed"},I.a.createElement("span",{className:"fileManager-icon"},I.a.createElement(H,{iconName:"file_copy"}))),I.a.createElement("div",{className:"fileManager-isExpanded"},I.a.createElement(Re,{createFile:function(){return i(a)},deleteFile:function(){return l(n)},enableRename:function(){return c(n)}}),I.a.createElement("ul",{className:"fileManager-entriesList"},t.map(function(e){return I.a.createElement(je,{title:e.title,defaultTitle:a,fileId:e.id,isSelected:n===e.id,isRenamed:r===e.id,selectFile:o,updateFile:u,enableRename:c,key:e.id})}))))}Pe.propTypes={allTitles:K.a.arrayOf(K.a.shape({title:K.a.string.isRequired,id:K.a.string.isRequired})).isRequired,selected:K.a.string.isRequired,renamed:K.a.string.isRequired,defaultTitle:K.a.string.isRequired,selectFile:K.a.func.isRequired,createFile:K.a.func.isRequired,deleteFile:K.a.func.isRequired,enableRename:K.a.func.isRequired,updateFile:K.a.func.isRequired};var Te=Pe,ke=Object(z.b)(function(e){return{selected:ie(e),renamed:le(e),defaultTitle:ce(e),allTitles:ve(e)}},{selectFile:function(e){return D(h,{id:e})},createFile:function(e){if(!e)throw new TypeError("Cannot create a file without title");var t={id:se.a.v4(),title:e,content:""};return D(c,t)},deleteFile:function(e){return D(s,{id:e})},updateFile:de,enableRename:function(e){return D(v,{id:e})}})(Te),qe=(n("d1+z"),n("8PSE"),n("noZS"),function(e,t,n){if(e.db.options[t]&&e.db.options[t][n])return e.db.options[t][n].value}),Be=(n("zIDs"),n("JZM8")),Fe=n.n(Be),Me=(n("Ldrd"),n("83U7"),n("R/66"),n("dNuR")),_e=n.n(Me),Ie=n("8Hwm"),Ae=n.n(Ie);function Le(e){return Ae.a.sanitize(e)}function ze(e){return Ae.a.sanitize(e,{ALLOWED_TAGS:["#text"],KEEP_CONTENT:!0})}n("iOpb"),n("1wfR"),n("1zki");var De=n("kL1a"),Ge=n.n(De),We=n("u3z5"),Ve=new We.Chords;function Ue(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/\t+/g," ").replace(/  +/g," ").trim().split(" ").map(function(e){return e.replace(/\.*$/g,"")}).every(function(e){return function(e){return Ge()(e)&&Ve.isChord(e)}(e)})}n("Ecbk");var Ke=["2/2","3/2","3/4","4/4","5/4","3/8","6/8","9/8","12/8"];function Je(e){return Ke.includes(e)}n("0T4K"),n("Dzwt");function He(e){if(!Je(e))throw new TypeError("Expected time signature string, received: "+e);var t=e.split("/"),n=Number.parseInt(t[0],10),r=Number.parseInt(t[1],10),a=n;return 2===r?a=2*n:8===r&&(a=n/3),{string:e,count:n,value:r,beatCount:a}}n("ZFc4"),n("rmJO"),n("5ktT");var Ze=n("wfLL"),Xe=n.n(Ze),Qe=n("XhyR"),Ye=n.n(Qe),$e=new We.Chords;n("IHQ4"),n("cvC6"),n("jDvd"),n("wt4b"),n("GZld"),n("uae+"),n("okNV"),n("7kcN"),n("6tnn"),n("SFce"),n("nXTL"),n("ruy4"),n("rt9K"),n("8iCz"),n("jpAq"),n("aLnL"),n("O0Hx");var et=n("okNX"),tt=n.n(et);function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,t){return!t||"object"!==nt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function at(e){var t="function"==typeof Map?new Map:void 0;return(at=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ot(e,arguments,lt(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),it(r,e)})(e)}function ot(e,t,n){return(ot=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&it(a,n.prototype),a}).apply(null,arguments)}function it(e,t){return(it=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lt(e){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ct=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.string,a=n.duration,o=n.currentBeatCount,i=n.beatCount;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!r||!Ge()(r))throw new TypeError("IncorrectBeatCountException cannot be created without chord string, received: "+r);if(!a||!tt()(a))throw new TypeError("IncorrectBeatCountException cannot be created without chord duration, received: "+a);if(!o||!tt()(o))throw new TypeError("IncorrectBeatCountException cannot be created without currentBeatCount, received: "+o);if(!i||!tt()(i))throw new TypeError("IncorrectBeatCountException cannot be created without beatCount, received: "+i);return(e=rt(this,lt(t).call(this))).name="IncorrectBeatCountException",e.string=r,e.duration=a,e.currentBeatCount=o,e.beatCount=i,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&it(e,t)}(t,at(Error)),t}();function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function st(e,t){return!t||"object"!==ut(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dt(e){var t="function"==typeof Map?new Map:void 0;return(dt=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return pt(e,arguments,mt(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ft(r,e)})(e)}function pt(e,t,n){return(pt=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&ft(a,n.prototype),a}).apply(null,arguments)}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gt=function(e){function t(){var e,n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).string;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!n||!Ge()(n))throw new TypeError("InvalidChordRepetitionException cannot be created without chord string, received: "+n);return(e=st(this,mt(t).call(this))).name="InvalidChordRepetitionException",e.string=n,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(t,dt(Error)),t}();function bt(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).timeSignature,n=void 0===t?He("4/4"):t,r=n.beatCount,a=e.replace(/  +/g," ").trim().split(" "),o=[],i={allChords:[]},l={},c={},u=0,s=0,d={};if(a.forEach(function(e){if(c=function(e){return $e.parse(e)}(e.replace(/\./g,"")),(l={string:e,duration:(e.match(/\./g)||[]).length||r,model:c}).beat=u+1,u+=l.duration,i.allChords.length>0&&(d=i.allChords[i.allChords.length-1],Xe()(d.model,l.model)))throw new gt({string:l.string});if(i.allChords.push(l),s++,u===r)i.timeSignature=n,o.push(Ye()(i)),i={allChords:[]},u=0,d={};else if(u>r)throw new ct({message:"",string:l.string,duration:l.duration,currentBeatCount:u,beatCount:r})}),u>0&&u<r)throw new ct({message:"",string:l.string,duration:l.duration,currentBeatCount:u,beatCount:r});return{chordCount:s,allBars:o}}var yt=n("voDb"),ht=n.n(yt);function vt(e,t){var n=Ye()(e);return n.forEach(function(e){"chord"===e.type&&e.model.allBars.forEach(function(e){e.allChords.forEach(function(e){t(e)})})}),n}var Et="4/4";function Ot(e){var t=_e()(e)?e:e.split("\n"),n=He(Et),r=t.map(Le).map(ze).map(function(e){return{string:e}}).map(function(e){if(Je(e.string))n=He(e.string),e.type="time-signature",e.model=n;else if(Ue(e.string))try{e.type="chord",e.model=bt(e.string,{timeSignature:n})}catch(t){e.type="text"}else e.type="text";return e});return{allLines:r,allChords:function(e){var t,n=[];return vt(e,function(e){-1===(t=ht()(n,function(t){return Xe()(t.model,e.model)}))?n.push({model:Ye()(e.model),occurrences:1}):n[t].occurrences++}),n}(r)}}n("4eEA"),n("Y7Wg");var Ct={0:{"":[]},2:{2:[3],11:[3,2]},3:{3:[3],12:[2,4],21:[6,0],111:[2,2,0]},4:{4:[3],13:[1,4],22:[3,2],31:[5,0],112:[1,1,3],121:[1,4,0],211:[4,1,0],1111:[2,2,2]}};var wt=2,St=1;var Rt=n("cimT"),Nt=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],xt={"C#":"Db","D#":"Eb","F#":"Gb","G#":"Ab","A#":"Bb"},jt=n.n(Rt)()(xt);function Pt(e){return jt[e]||e}function Tt(e,t,n){var r=Nt.indexOf(e)+t,a=Math.floor(r/12),o=Nt[r-12*a];return n&&xt[o]||o}function kt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.transposeValue,a=void 0===r?0:r,o=n.accidentalsType,i=void 0===o?"auto":o,l=n.harmonizeAccidentals,c=void 0===l||l,u=Ye()(e),s="auto"===i?function(e){var t="",n=0,r=0;return e.forEach(function(e){2===(t=e.model.symbol.rootNote).length&&("b"===t[1]?n+=e.occurrences:r+=e.occurrences)}),n>r?"flat":"sharp"}(t):i;return(c||0!==a)&&(u=vt(u,function(e){e.transposedModel=function(e,t,n){var r=Ye()(e),a=r.symbol.rootNote,o=r.symbol.bassNote,i=Pt(a);if(r.symbol.rootNote=Tt(i,t,n),o){var l=Pt(o);r.symbol.bassNote=Tt(l,t,n)}return r}(e.model,a,"flat"===s)})),u}var qt=n("uVib"),Bt=n.n(qt),Ft=(n("eWUb"),n("FxsW"),n("lb95")),Mt=n.n(Ft);var _t=n("6joI"),It=n.n(_t),At=" ",Lt=0,zt=2;function Dt(e){var t=0,n=0,r=e.allChords.reduce(function(e,r){var a;return t=tt()(r.spacesWithin)?r.spacesWithin:Lt,n=tt()(r.spacesAfter)?r.spacesAfter:zt,e+=(a=r.symbol,Mt()({chordSymbol:a})+At.repeat(t)+At.repeat(n))},"");return It()({barContent:r})}var Gt=n("Ewt9"),Wt=n.n(Gt);var Vt=n("d6nv"),Ut=n.n(Vt);var Kt=n("9hQf"),Jt=n.n(Kt),Ht=new We.Chords,Zt=function(e){return Ht.print(e.symbol)};function Xt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.alignBars,r=void 0!==n&&n,a=t.transposeValue,o=void 0===a?0:a,i=t.accidentalsType,l=void 0===i?"auto":i,c=t.harmonizeAccidentals,u=void 0===c||c,s=e.allLines,d=function(e){var t=[];return e.filter(function(e){return"chord"===e.type}).forEach(function(e){e.model.allBars.forEach(function(e,n){if(!t[n]){t[n]={};for(var r=1;r<=e.timeSignature.beatCount;r++)t[n][r]=0}e.allChords.forEach(function(e){t[n][e.beat]=Math.max(t[n][e.beat],e.symbol.length)})})}),t}(s=vt(s=kt(s,e.allChords,{transposeValue:o,accidentalsType:l,harmonizeAccidentals:u}),function(e){e.symbol=e.transposedModel?Zt(e.transposedModel):Zt(e.model)})),p=s.map(function(e){if("chord"===e.type){var t=r?function(e,t){var n,r=Ye()(e);return r.allBars.forEach(function(e,r){e.allChords.forEach(function(a){if(a.spacesWithin=t[r][a.beat]-a.symbol.length,a.spacesAfter=0,a.beat!==e.timeSignature.beatCount){a.spacesAfter=wt;for(var o=a.beat+1;o<a.beat+a.duration;o++)n=t[r][o],a.spacesAfter+=n||St,o!==e.timeSignature.beatCount&&n&&(a.spacesAfter+=wt)}})}),r}(e.model,d):(a=e.model,o=Ye()(a),i=0,l="",c=[],o.allBars.forEach(function(e){i=0,l="",e.allChords.forEach(function(e){l+=e.duration.toString(),i+=e.duration}),c=Ct[i][l];for(var t=0;t<l.length;t++)e.allChords[t].spacesAfter=c[t]}),o);e.rendered=function(e){var t=e.allBars.map(function(e){return Dt(e)}),n=Wt()(),r=n+t.join(n)+n;return Bt()({chordLine:r})}(t)}else"text"===e.type&&(e.rendered=(n=e.string,Ut()({textLine:n})));var n,a,o,i,l,c;return e}).filter(function(e){return e.rendered}).map(function(e){return e.rendered}).join("\n");return Jt()({song:p})}n("NoTV");function Qt(e,t){return Xt(Ot(e),t)}function Yt(e){var t=e.content,n=Fe()(e,["alignBars","harmonizeAccidentals","preferredAccidentals","transposeValue"]);return I.a.createElement("div",{className:"songRenderer"},I.a.createElement("div",{dangerouslySetInnerHTML:{__html:Qt(t,n)}}))}Yt.propTypes={content:K.a.string},Yt.defaultProps={content:""};var $t=Yt,en=Object(z.b)(function(e){return{accidentalsType:qe(e,"rendering","preferredAccidentals"),alignBars:qe(e,"rendering","alignBars"),harmonizeAccidentals:qe(e,"rendering","harmonizeAccidentals"),transposeValue:qe(e,"rendering","transposeValue")}})($t);function tn(e){var t=e.selectedFile;return I.a.createElement("div",{className:"ep-SongRenderer"},I.a.createElement(en,{content:t.content}))}tn.propTypes={selectedFile:K.a.object.isRequired};var nn=tn,rn=(n("Rfxz"),n("BC9S"),n("b/sn")),an=n("cD+i"),on=n("byeC"),ln=n("VuzU"),cn=n("++pP"),un=n("Mhoe");var sn=n("n5wB"),dn=new on.Schema({nodes:sn.nodes,marks:sn.marks});n("E9XD"),n("9LPj"),n("vxnP");function pn(e){return e.toJSON().doc.content.map(function(e){return e.content?e.content.reduce(function(e,t){return e+=t.text},""):""}).join("\n")}n("rB9j"),n("EnZy");var fn=n("wMS7"),mn=n.n(fn);function gn(e){return mn.a.sanitize(e,{ALLOWED_TAGS:["p","#text"],KEEP_CONTENT:!1})}n("Qe33");function bn(e){var t,n,r=e.selectedFileId,a=e.editorContent,o=e.updateFile,i=Object(_.useRef)(),l=Object(_.useRef)(),c=(t=r,n=Object(_.useRef)(),Object(_.useEffect)(function(){n.current=t}),n.current);function u(){return i.current&&i.current.dom.parentNode}function s(){i.current.dom.parentNode.removeChild(i.current.dom)}return Object(_.useEffect)(function(){if(!r||i.current&&c===r)u()&&!r&&s();else{u()&&s();var e=function(e){return rn.EditorState.create({doc:on.DOMParser.fromSchema(dn).parse((t=e,n=gn(t).split("\n").map(function(e){return"<p>".concat(e,"</p>")}).join(""),r=document.createElement("div"),r.innerHTML=gn(n),r),{preserveWhitespace:"full"}),plugins:[Object(un.history)(),Object(ln.keymap)({"Mod-z":un.undo,"Mod-y":un.redo}),Object(ln.keymap)(cn.baseKeymap)]});var t,n,r}(a);i.current=function(e,t,n){return new an.EditorView(null,{state:e,dispatchTransaction:function(e){var r=this.state.applyTransaction(e),a=r.state,o=r.transactions;this.updateState(a),o.some(function(e){return e.docChanged})&&t(n,{content:pn(a)})}})}(e,o,r),l.current.appendChild(i.current.dom),bn.editorView=i.current}}),I.a.createElement("div",{className:"prosemirrorWrapper",ref:l})}bn.defaultProps={selectedFileId:"",editorContent:""},bn.propTypes={selectedFileId:K.a.string,editorContent:K.a.string,updateFile:K.a.func.isRequired};var yn=bn;function hn(e){var t=e.selectedFile,n=e.updateFile;return I.a.createElement("div",{className:"songEditor"},I.a.createElement("div",{className:"songEditor-source"},I.a.createElement(yn,{editorContent:t.content,updateFile:n,selectedFileId:t.id})),I.a.createElement("div",{className:"songEditor-preview"},I.a.createElement(nn,{selectedFile:t})))}hn.propTypes={selectedFile:K.a.object,updateFile:K.a.func.isRequired};var vn=hn;n("IA7u");function En(e){var t=e.selectedFile;return I.a.createElement("div",{className:"exportPreview exp-SongRenderer"},I.a.createElement(en,{content:t.content}))}En.propTypes={selectedFile:K.a.object.isRequired};var On=En;n("eLJI");function Cn(e){var t=e.selectedFile;return I.a.createElement("div",{className:"playRenderer pr-SongRenderer"},I.a.createElement(en,{content:t.content}))}Cn.propTypes={selectedFile:K.a.object.isRequired};var wn=Cn;n("fNiH");function Sn(e){var t=e.selectedFile;return I.a.createElement("div",{className:"printPreview"},I.a.createElement("div",{className:"printPreview-page pp-SongRenderer"},I.a.createElement(en,{content:t.content})))}Sn.propTypes={selectedFile:K.a.object.isRequired};var Rn=Sn;function Nn(e){switch(e.editorMode){case"edit":return I.a.createElement(vn,e);case"play":return I.a.createElement(wn,e);case"print":return I.a.createElement(Rn,e);case"export":return I.a.createElement(On,e)}}Nn.propTypes={editorMode:K.a.string.isRequired};var xn=Nn,jn=Object(z.b)(function(e){return{selectedFile:Ee(e,ie(e))||{},editorMode:V(e)}},{updateFile:de})(xn);n("3Z8G"),n("xeFo"),n("yq1k"),n("JTJg");function Pn(){return(Pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Tn(e){var t,n,r,a,o,i,l,c=e.id,u=e.allWidgets,s=e.nonInteractableWidgets,d=e.hiddenWidgets,p=e.setOption,f=e.getEntryComponent,m=["optionsPanel","optionsPanel-"+c],g=u.widgetsOrder.filter(function(e){return!d.includes(e)}).map(function(e){return"optionsGroup"===(t=u.allWidgets[e]).type?(l=t.groupWidgetsOrder.filter(function(e){return!d.includes(e)}).map(function(r){return n=t.allGroupWidgets[r],i=!s.includes(e)&&!s.includes(r),b(r,n,i)}),a=f(t.type),o=!s.includes(e),I.a.createElement(a,{key:e,isInteractable:o,label:t.label,icon:t.icon},l)):b(e,t,!s.includes(e))});function b(t,n,a){return r=f(n.type),I.a.createElement(r,Pn({key:t,isInteractable:a,optionContext:n.option.context,optionKey:n.option.key,optionValue:e[n.option.key],setOption:p,label:n.label},n.typeOptions))}return I.a.createElement("div",{className:m.join(" ")},g)}Tn.propTypes={id:K.a.string.isRequired,allWidgets:K.a.object.isRequired,nonInteractableWidgets:K.a.arrayOf(K.a.string).isRequired,hiddenWidgets:K.a.arrayOf(K.a.string).isRequired,setOption:K.a.func.isRequired,getEntryComponent:K.a.func.isRequired};var kn=Tn;n("cGxp");function qn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Bn(e){var t=qn(Object(_.useState)(e.isOpened),2),n=t[0],r=t[1],a=e.isInteractable,o=e.icon,i=e.label,l=["sb-optionsGroup"];function c(){return a&&e.children&&e.children.length>0}return c()||l.push("sb-optionsGroup-isNotInteractable"),!n||e.children&&0!==e.children.length||r(!1),I.a.createElement("div",{className:l.join(" ")},I.a.createElement("div",{className:"sb-optionsGroup-title",onClick:c()?function(){r(!n)}:null},I.a.createElement("div",{className:"sb-optionsGroup-label"},I.a.createElement("span",{className:"sb-optionsGroup-iconTitle"},I.a.createElement(H,{iconName:o}))," ",i),I.a.createElement("div",{className:"sb-optionsGroup-toggle"},I.a.createElement("span",{className:"sb-optionsGroup-iconToggle"},I.a.createElement(H,{iconName:n?"unfold_less":"unfold_more"})))),I.a.createElement("div",{className:"sb-optionsGroup-content"},n&&e.children))}Bn.propTypes={isOpened:K.a.bool,isInteractable:K.a.bool.isRequired,icon:K.a.string.isRequired,label:K.a.string.isRequired,children:K.a.arrayOf(K.a.element)},Bn.defaultProps={isOpened:!1};var Fn=Bn;n("2ywC");function Mn(e){var t,n=e.isSelected,r=e.label,a=e.onClick,o=["sb-optionSelectChoice"];return n&&(o.push("sb-optionSelectChoice-isSelected"),t=I.a.createElement("span",{className:"sb-optionSelectChoice-checkIcon"},I.a.createElement(H,{iconName:"check"}))),I.a.createElement("div",{className:o.join(" "),onClick:a},I.a.createElement("div",{className:"sb-optionSelectChoice-check"},n&&t),I.a.createElement("div",{className:"sb-optionSelectChoice-label"},r))}Mn.propTypes={isSelected:K.a.bool.isRequired,label:K.a.string.isRequired,onClick:K.a.func.isRequired};var _n=I.a.memo(Mn);function In(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function An(e){var t=In(Object(_.useState)(!1),2),n=t[0],r=t[1],a=e.isInteractable,o=e.label,i=e.allChoices,l=e.optionContext,c=e.optionKey,u=e.optionValue,s=e.setOption,d=["sb-optionSelect"];a||d.push("sb-optionSelect-isNotInteractable");var p=n?"keyboard_arrow_down":"keyboard_arrow_right";var f=n?I.a.createElement("div",{className:"sb-optionSelect-choices"},i.map(function(e){return I.a.createElement(_n,{key:e.value,label:e.label,isSelected:u===e.value,onClick:function(){return s(l,c,e.value)}})})):null;return I.a.createElement("div",{className:d.join(" ")},I.a.createElement("div",{className:"sb-optionSelect-title",onClick:a?function(){r(!n)}:null},I.a.createElement("div",{className:"sb-optionSelect-desc"},o),I.a.createElement("div",{className:"sb-optionSelect-toggle"},I.a.createElement("span",{className:"sb-optionSelect-icon"},I.a.createElement(H,{iconName:p})))),f)}An.propTypes={isInteractable:K.a.bool.isRequired,label:K.a.string.isRequired,allChoices:K.a.array.isRequired,optionContext:K.a.string.isRequired,optionKey:K.a.string.isRequired,optionValue:K.a.string.isRequired,setOption:K.a.func.isRequired};var Ln=An;n("qePV"),n("JevA"),n("6EPN");function zn(e){var t=e.isInteractable,n=e.label,r=e.min,a=e.max,o=e.showPlusSymbol,i=e.optionContext,l=e.optionKey,c=e.optionValue,u=e.setOption,s=["sb-optionSlider"];t||s.push("sb-optionSlider-isNotInteractable");var d=c>0&&o?"+"+c:c;return I.a.createElement("div",{className:s.join(" ")},I.a.createElement("div",{className:"sb-optionSlider-desc"},n),I.a.createElement("div",{className:"sb-optionSlider-value"},d),I.a.createElement("div",{className:"sb-optionSlider-range"},I.a.createElement("input",{min:r,max:a,value:c,type:"range",onChange:t?function(e){u(i,l,Number.parseInt(e.target.value))}:null,disabled:!t})))}zn.propTypes={isInteractable:K.a.bool.isRequired,label:K.a.string.isRequired,min:K.a.number.isRequired,max:K.a.number.isRequired,showPlusSymbol:K.a.bool,optionContext:K.a.string.isRequired,optionKey:K.a.string.isRequired,optionValue:K.a.number.isRequired,setOption:K.a.func.isRequired},zn.defaultProps={showPlusSymbol:!0};var Dn=I.a.memo(zn);n("UUiC");function Gn(e){var t=e.isInteractable,n=e.label,r=e.optionContext,a=e.optionKey,o=e.optionValue,i=e.setOption,l=["sb-optionToggle"];return l.push(!0===o?"sb-optionToggle-isOn":"sb-optionToggle-isOff"),t||l.push("sb-optionToggle-isNotInteractable"),I.a.createElement("div",{className:l.join(" "),onClick:t?function(){i(r,a,!o)}:null},I.a.createElement("div",{className:"sb-optionToggle-desc"},n),I.a.createElement("div",{className:"sb-optionToggle-icon"},I.a.createElement("span",{className:"sb-optionToggle-icon"},I.a.createElement(H,{iconName:!0===o?"toggle_on":"toggle_off"}))))}Gn.propTypes={isInteractable:K.a.bool.isRequired,label:K.a.string.isRequired,optionContext:K.a.string.isRequired,optionKey:K.a.string.isRequired,optionValue:K.a.bool.isRequired,setOption:K.a.func.isRequired};var Wn=I.a.memo(Gn);function Vn(){return(Vn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Un(e){switch(e){case"optionsGroup":return Fn;case"select":return Ln;case"slider":return Dn;case"toggle":return Wn}}function Kn(e){return I.a.createElement("div",{className:"sb-optionsPanel"},I.a.createElement(kn,Vn({},e,{getEntryComponent:Un})))}function Jn(){return(Jn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Hn=function(e,t,n){if(!e)throw new TypeError("Cannot set an option without a context");if(!t)throw new TypeError("Cannot set an option without a key");return D("db/options/setOptionValue",{context:e,key:t,value:n})};var Zn,Xn,Qn,Yn,$n=(Zn={widgetsOrder:["style","alignBars","layout","helpers","chords","format"],allWidgets:{style:{label:"Rendering style",type:"select",typeOptions:{allChoices:[{id:"styleUcc",label:"UCC",value:"ucc"},{id:"styleChordpro",label:"ChordPro",value:"chordpro"}]},option:{context:"rendering",key:"style"}},alignBars:{label:"Align bars",type:"toggle",option:{context:"rendering",key:"alignBars"}},layout:{type:"optionsGroup",label:"Layout",icon:"view_compact",groupWidgetsOrder:["documentSize","columnsCount","columnBreakOnParagraph"],allGroupWidgets:{documentSize:{label:"Document size",type:"select",typeOptions:{allChoices:[{id:"documentSizeA4",label:"A4",value:"a4"},{id:"documentSizeIpad",label:"iPad",value:"ipad"}]},option:{context:"rendering",key:"documentSize"}},columnsCount:{label:"Columns",type:"slider",typeOptions:{min:1,max:3},option:{context:"rendering",key:"columnsCount"}},columnBreakOnParagraph:{label:"Break on paragraph",type:"toggle",option:{context:"rendering",key:"columnBreakOnParagraph"}}}},helpers:{type:"optionsGroup",label:"Helpers",icon:"remove_red_eye",groupWidgetsOrder:["showChords","instrument","showStrummingPattern"],allGroupWidgets:{showChords:{label:"Show chords diagrams",type:"toggle",option:{context:"rendering",key:"showChords"}},instrument:{label:"Instrument",type:"select",typeOptions:{allChoices:[{id:"instrumentGuitar",label:"Guitar",value:"guitar"},{id:"instrumentUkulele",label:"Ukulele",value:"ukulele"},{id:"instrumentMandolin",label:"Mandolin",value:"mandolin"},{id:"instrumentPiano",label:"Piano",value:"piano"}]},option:{context:"rendering",key:"instrument"}},showStrummingPattern:{label:"Show strumming pattern",type:"toggle",option:{context:"rendering",key:"showStrummingPattern"}}}},chords:{type:"optionsGroup",label:"Chords",icon:"music_note",groupWidgetsOrder:["transposeValue","simplifyChords","capoPosition","harmonizeAccidentals","preferredAccidentals"],allGroupWidgets:{transposeValue:{label:"Transpose",type:"slider",typeOptions:{min:-11,max:11,showPlusSymbol:!0},option:{context:"rendering",key:"transposeValue"}},simplifyChords:{label:"Simplify chords",type:"toggle",option:{context:"rendering",key:"simplifyChords"}},capoPosition:{label:"Add capo on fret",type:"slider",typeOptions:{min:0,max:11,showPlusSymbol:!1},option:{context:"rendering",key:"capoPosition"}},harmonizeAccidentals:{label:"Harmonize accidentals",type:"toggle",option:{context:"rendering",key:"harmonizeAccidentals"}},preferredAccidentals:{label:"Preferred accidentals",type:"select",typeOptions:{allChoices:[{id:"preferredAccidentalsAuto",label:"Auto",value:"auto"},{id:"preferredAccidentalsSharp",label:"Sharp (#)",value:"sharp"},{id:"preferredAccidentalsFlat",label:"Flats (b)",value:"flat"}]},option:{context:"rendering",key:"preferredAccidentals"}}}},format:{type:"optionsGroup",label:"Format",icon:"format_size",groupWidgetsOrder:["fontSize","fontStyle","highlightChords","chordsColor"],allGroupWidgets:{fontSize:{label:"Font size",type:"slider",typeOptions:{min:-5,max:5,showPlusSymbol:!0},option:{context:"rendering",key:"fontSize"}},fontStyle:{label:"Font style",type:"select",typeOptions:{allChoices:[{id:"fontStyleRoboto",label:"Roboto",value:"roboto"}]},option:{context:"rendering",key:"fontStyle"}},highlightChords:{label:"Highlight Chords",type:"toggle",option:{context:"rendering",key:"highlightChords"}},chordsColor:{label:"Chords color",type:"select",typeOptions:{allChoices:[{id:"chordsColor",label:"Black",value:"black"},{id:"chordsColorRed",label:"Red",value:"red"}]},option:{context:"rendering",key:"chordsColor"}}}}}},Xn=function(e){var t=[];switch(V(e)){case"edit":t.push("alignBars"),t.push("helpers"),t.push("layout"),t.push("style");break;case"play":t.push("documentSize");break;case"print":break;case"export":t.push("format"),t.push("layout")}return"ucc"!==qe(e,"rendering","style")&&t.push("alignBars"),t},Qn=function(e){var t=[],n=qe(e,"rendering","showChords"),r=qe(e,"rendering","columnsCount");return n||t.push("instrument"),r<2&&t.push("columnBreakOnParagraph"),t},Yn=function(e){return I.a.createElement("div",{className:"renderingOptionsPanel"},I.a.createElement("div",{className:"renderingOptionsPanel-isCollapsed"},I.a.createElement("span",{className:"renderingOptionsPanel-icon"},I.a.createElement(H,{iconName:"settings"}))),I.a.createElement("div",{className:"renderingOptionsPanel-isExpanded"},I.a.createElement(Kn,Jn({},e,{id:"rendering"}))))},Object(z.b)(function(e){var t,n,r={allWidgets:Zn,nonInteractableWidgets:Xn(e),hiddenWidgets:Qn(e)};return Zn.widgetsOrder.forEach(function(a){"optionsGroup"===(t=Zn.allWidgets[a]).type?t.groupWidgetsOrder.forEach(function(a){n=t.allGroupWidgets[a],r[n.option.key]=qe(e,n.option.context,n.option.key)}):r[t.option.key]=qe(e,t.option.context,t.option.key)}),r},{setOption:Hn})(Yn));function er(){var e=I.a.createElement(ke,null),t=I.a.createElement($n,null);return I.a.createElement(oe,{leftBar:e,rightBar:t},I.a.createElement(jn,null))}var tr=[{path:"/editor",action:function(){return er}}],nr=new M.a(tr),rr={navigateTo:function(e){return nr.resolve(e).then(function(e){return t=e,void L.a.render(I.a.createElement(z.a,{store:P},I.a.createElement(t,null)),document.getElementById("app"));var t})}};(function(){window.__REDUX_DEVTOOLS_EXTENSION__&&F.push(window.__REDUX_DEVTOOLS_EXTENSION__({trace:!0}));var e=i(),t=a()(e,B);(P=Object(o.d)(q,t,o.c.apply(void 0,F))).subscribe(function(){l(P.getState())})})(),rr.navigateTo("/editor")},cGxp:function(e,t,n){},"d1+z":function(e,t,n){},d6nv:function(e,t,n){var r=n("3O+N");e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,a){var o;return'<p class="ucc-text-line">'+(null!=(o=e.lambda(null!=t?t.textLine:t,t))?o:"")+"</p>"},useData:!0})},eLJI:function(e,t,n){},fNiH:function(e,t,n){},g3KT:function(e,t,n){},kGR0:function(e,t,n){},lb95:function(e,t,n){var r=n("3O+N");e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,a){return'<span class="ucc-chord-symbol">'+e.escapeExpression(e.lambda(null!=t?t.chordSymbol:t,t))+"</span>"},useData:!0})},u0UJ:function(e,t,n){},uVib:function(e,t,n){var r=n("3O+N");e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,a){var o;return'<p class="ucc-chord-line">'+(null!=(o=e.lambda(null!=t?t.chordLine:t,t))?o:"")+"</p>"},useData:!0})},xeFo:function(e,t,n){},zIDs:function(e,t,n){}});
//# sourceMappingURL=main.1c344598d7d62d4c882b.js.map