{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../ucc/src/renderer/components/tpl/barContent.hbs","webpack:///../ucc/src/renderer/components/tpl/song.hbs","webpack:///../ucc/src/renderer/components/tpl/barSeparator.hbs","webpack:///./src/state/localStorage.js","webpack:///./src/db/files/actionsTypes.js","webpack:///./src/db/files/reducers.js","webpack:///./src/db/options/reducers.js","webpack:///./src/db/reducers.js","webpack:///./src/db/options/actionsTypes.js","webpack:///./src/fileManager/_state/actionsTypes.js","webpack:///./src/fileManager/_state/reducers.js","webpack:///./src/ui/layout/app/_state/actionsTypes.js","webpack:///./src/ui/layout/app/_state/reducers.js","webpack:///./src/ui/layout/reducers.js","webpack:///./src/state/store.js","webpack:///./src/ui/reducers.js","webpack:///./src/state/reducers.js","webpack:///./src/state/seed.js","webpack:///./src/db/seed.js","webpack:///./src/db/options/seed.js","webpack:///./src/core/createAction.js","webpack:///./src/ui/layout/app/_state/actions.js","webpack:///./src/ui/layout/app/_state/selectors.js","webpack:///./src/ui/_components/Icon.js","webpack:///./src/ui/sideBar/_components/Logo.js","webpack:///./src/ui/layout/app/_components/NavEntry.js","webpack:///./src/ui/layout/app/_components/Nav.js","webpack:///./src/ui/layout/app/_components/Footer.js","webpack:///./src/ui/layout/app/allNavEntries.js","webpack:///./src/ui/layout/app/_components/App.js","webpack:///./src/ui/layout/app/_containers/App.js","webpack:///./src/fileManager/_state/selectors.js","webpack:///./src/db/files/actions.js","webpack:///./src/db/files/selectors.js","webpack:///./src/fileManager/_components/FileActionEntry.js","webpack:///./src/fileManager/_components/FileActions.js","webpack:///./src/fileManager/_components/FileEntry.js","webpack:///./src/fileManager/_components/FileManager.js","webpack:///./src/fileManager/_containers/FileManager.js","webpack:///./src/fileManager/_state/actions.js","webpack:///./src/db/options/selectors.js","webpack:///../ucc/src/core/dom/escapeHTML.js","webpack:///../ucc/src/core/dom/stripTags.js","webpack:///../ucc/src/parser/isChord.js","webpack:///../ucc/src/parser/isChordLine.js","webpack:///../ucc/src/parser/isTimeSignatureString.js","webpack:///../ucc/src/parser/parseTimeSignature.js","webpack:///../ucc/src/parser/parseChord.js","webpack:///../ucc/src/parser/exceptions/IncorrectBeatCountException.js","webpack:///../ucc/src/parser/exceptions/InvalidChordRepetitionException.js","webpack:///../ucc/src/parser/parseChordLine.js","webpack:///../ucc/src/parser/helper/songs.js","webpack:///../ucc/src/parser/parseSong.js","webpack:///../ucc/src/parser/getAllChordsInSong.js","webpack:///../ucc/src/renderer/spacers/chord/simple.js","webpack:///../ucc/src/renderer/spacers/chord/aligned.js","webpack:///../ucc/src/renderer/modifiers/transposeChord.js","webpack:///../ucc/src/renderer/modifiers/transposeSong.js","webpack:///../ucc/src/renderer/helpers/getMainAccidental.js","webpack:///../ucc/src/renderer/components/renderBarContent.js","webpack:///../ucc/src/renderer/components/renderChordSymbol.js","webpack:///../ucc/src/renderer/helpers/getChordSymbol.js","webpack:///../ucc/src/renderer/components/renderSong.js","webpack:///../ucc/src/renderer/spacers/chord/getMaxBeatsWidth.js","webpack:///../ucc/src/renderer/components/renderChordLine.js","webpack:///../ucc/src/renderer/components/renderTextLine.js","webpack:///./src/core/renderSong.js","webpack:///./src/songRenderers/_components/SongRenderer.js","webpack:///./src/songRenderers/_containers/SongRenderer.js","webpack:///./src/songRenderers/editorPreview/_components/EditorPreview.js","webpack:///./src/editor/songEditor/prosemirror/schema.js","webpack:///./src/editor/songEditor/prosemirror/converters/stateToText.js","webpack:///./src/editor/songEditor/prosemirror/converters/toSafeHtml.js","webpack:///./src/editor/songEditor/prosemirror/ProsemirrorEditorView.js","webpack:///./src/editor/songEditor/prosemirror/converters/textToDom.js","webpack:///./src/editor/songEditor/prosemirror/getPlugins.js","webpack:///./src/editor/songEditor/_components/EditorLayout.js","webpack:///./src/songRenderers/exportPreview/_components/ExportPreview.js","webpack:///./src/songRenderers/playRenderer/_components/PlayRenderer.js","webpack:///./src/songRenderers/printPreview/_components/PrintPreview.js","webpack:///./src/editor/_components/Editor.js","webpack:///./src/editor/_containers/Editor.js","webpack:///./src/optionsPanels/_components/OptionsPanel.js","webpack:///./src/ui/sideBar/options/_components/OptionsGroup.js","webpack:///./src/ui/sideBar/options/_components/SelectChoice.js","webpack:///./src/ui/sideBar/options/_components/Select.js","webpack:///./src/ui/sideBar/options/_components/Slider.js","webpack:///./src/ui/sideBar/options/_components/Toggle.js","webpack:///./src/ui/sideBar/options/_components/SidebarOptionsPanel.js","webpack:///./src/db/options/actions.js","webpack:///./src/optionsPanels/rendering/allWidgets.js","webpack:///./src/optionsPanels/_containers/OptionsPanelFactory.js","webpack:///./src/optionsPanels/rendering/_containers/Rendering.js","webpack:///./src/optionsPanels/rendering/_state/selectors.js","webpack:///./src/optionsPanels/rendering/_components/Rendering.js","webpack:///./src/controllers/Editor.js","webpack:///./src/router.js","webpack:///./src/renderController.js","webpack:///./src/app.js","webpack:///../ucc/src/renderer/components/tpl/textLine.hbs","webpack:///../ucc/src/renderer/components/tpl/chordSymbol.hbs","webpack:///../ucc/src/renderer/components/tpl/chordLine.hbs"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Handlebars","template","compiler","main","container","depth0","helpers","partials","stack1","lambda","barContent","useData","song","loadState","serializedState","localStorage","getItem","JSON","parse","err","saveState","state","stringify","setItem","DB_FILES_CREATE","DB_FILES_UPDATE","DB_FILES_DELETE","initialState","allFiles","combineReducers","files","arguments","undefined","action","type","actionTypes","_action$payload","payload","id","title","content","_objectSpread","createFile","_action$payload2","updateFile","deleteFile","options","context","contextOptions","reducers_objectSpread","newState","FILE_MANAGER_SELECT_FILE","FILE_MANAGER_ENABLE_RENAME","selected","renamed","defaultTitle","UI_LAYOUT_APP_TOGGLE_LEFT_BAR","UI_LAYOUT_APP_TOGGLE_RIGHT_BAR","UI_LAYOUT_APP_SET_EDITOR_MODE","isLeftBarCollapsed","isRightBarCollapsed","editorMode","store","app","app_state_reducers_objectSpread","layout","db","fileManager","_state_reducers_objectSpread","ui","state_seed","rendering","documentSize","default","resetOnSongChange","columnsCount","columnBreakOnParagraph","style","alignBars","showChords","instrument","showStrummingPattern","transposeValue","simplifyChords","capoPosition","harmonizeAccidentals","preferredAccidentals","fontSize","fontStyle","highlightChords","chordsColor","storeEnhancers","createAction","TypeError","getEditorMode","Icon","props","iconName","react_default","a","createElement","className","join","propTypes","PropTypes","string","isRequired","React","memo","_components_Icon","NavEntry","label","icon","setEditorMode","classNames","isActive","onClick","func","bool","Nav","currentMode","allEntries","map","entry","_components_NavEntry","_extends","arrayOf","shape","allNavEntries","App","toggleLeftBar","toggleRightBar","leftBar","rightBar","leftBarClassNames","rightBarClassNames","_components_Logo","data-testid","_components_Nav","children","_components_Footer","element","defaultProps","connect","getSelectedId","getRenamedId","getDefaultTitle","_ref","getAllTitles","createSelectorCreator","defaultMemoize","_isEqual","createDeepEqualSelector","_map","_sortBy","toLowerCase","getOne","FileActionEntry","text","FileActions","allActions","enableRename","_components_FileActionEntry","FileActions_extends","FileEntry","_useState2","_slicedToArray","useState","setTitle","fileId","isSelected","isRenamed","selectFile","classList","inputRef","createRef","saveTitle","newTitle","current","scrollLeft","useEffect","focus","onDoubleClick","e","target","select","ref","readOnly","autoFocus","onChange","onBlur","onFocus","onKeyPress","which","preventDefault","getSelection","removeAllRanges","FileManager","allTitles","_components_FileActions","file","_components_FileEntry","actionsTypes","uuid","v4","getOptionValue","escapeHTML","unescaped","domPurify","sanitize","stripTags","html","ALLOWED_TAGS","KEEP_CONTENT","chords","Chords","isChordLine","replace","trim","split","potentialChord","every","_isString","isChord","allowedTimeSignatures","isTimeSignatureString","includes","parseTimeSignature","array","count","Number","parseInt","beatCount","IncorrectBeatCountException","_this","duration","currentBeatCount","_classCallCheck","this","_isFinite","_possibleConstructorReturn","_getPrototypeOf","Error","InvalidChordRepetitionException","InvalidChordRepetitionException_classCallCheck","InvalidChordRepetitionException_possibleConstructorReturn","InvalidChordRepetitionException_getPrototypeOf","parseChordLine","chordLine","_ref$timeSignature","timeSignature","allLineChords","allBars","bar","allChords","chord","model","chordCount","previousChord","forEach","chordString","parseChord","match","beat","_cloneDeep","message","forEachChordInSong","allLines","fn","newLines","line","defaultTimeSignature","parseSong","songLines","_isArray","isTimeSignature","_findIndex","occurrences","getAllChordsInSong","allMasks","","2","11","3","12","21","111","4","13","22","31","112","121","211","1111","spacesAfterDefault","emptyBeatSpaces","notes","sharpsToFlats","C#","D#","F#","G#","A#","flatsToSharps","_invert","convertToSharp","note","transposeNote","useFlats","transposedIndex","indexOf","octaves","Math","floor","transposed","transposeSong","_ref$transposeValue","_ref$accidentalsType","accidentalsType","_ref$harmonizeAcciden","accidental","rootNote","flatCount","sharpCount","symbol","getMainAccidental","transposedModel","transposedChord","root","bass","bassNote","rootSharp","bassSharp","transposeChord","space","defaultSpacesWithin","defaultSpacesAfter","renderBarContent","spacesWithin","spacesAfter","reduce","chordSymbol","chordSymbolTpl","repeat","barContentTpl","getChordSymbol","chordDef","print","renderSong","parsedSong","_ref$alignBars","maxBeatsWidth","filter","barIndex","max","getMaxBeatsWidth","spaced","chordLineInput","beatMaxWidth","alignedChordSpacer","chordPattern","chordSpaces","toString","rendered","chordLineModel","allBarsRendered","barSeparator","barSeparatorTpl","chordLineTpl","renderChordLine","textLine","textLineTpl","songTpl","songTxt","renderOptions","renderSongUcc","SongRenderer","_pick","dangerouslySetInnerHTML","__html","EditorPreview","selectedFile","_containers_SongRenderer","editorSchema","Schema","nodes","marks","stateToText","toJSON","doc","paragraph","acc","toSafeHtml","dirty","ProseMirrorEditorView","selectedFileId","editorContent","editorView","useRef","editorDom","previousFileId","editorExists","dom","parentNode","destroyEditor","removeChild","editorState","EditorState","pmDOMParser","fromSchema","concat","div","document","innerHTML","preserveWhitespace","plugins","pmHistory","keymap","Mod-z","undo","Mod-y","redo","baseKeymap","createEditorState","EditorView","dispatchTransaction","transaction","_this$state$applyTran","applyTransaction","transactions","updateState","some","tr","docChanged","createEditorView","appendChild","EditorLayout","prosemirror_ProsemirrorEditorView","_components_EditorPreview","ExportPreview","PlayRenderer","PrintPreview","Editor","_components_EditorLayout","_components_PlayRenderer","_components_PrintPreview","_components_ExportPreview","OptionsPanel","widget","groupWidget","WidgetComponent","GroupComponent","isGroupInteractable","isGroupWidgetInteractable","renderedGroupWidgets","allWidgets","nonInteractableWidgets","hiddenWidgets","setOption","getEntryComponent","renderedWidgets","widgetsOrder","widgetId","groupWidgetsOrder","groupWidgetId","allGroupWidgets","renderWidget","isInteractable","localWidget","OptionsPanel_extends","optionContext","option","optionKey","optionValue","typeOptions","OptionsGroup","OptionsGroup_slicedToArray","isOpened","setIsOpened","shouldBeInteractable","SelectChoice","checkIcon","Select","Select_slicedToArray","isOpen","setIsOpen","allChoices","renderedChoices","choice","_components_SelectChoice","Slider","min","showPlusSymbol","valueDisplay","disabled","number","Toggle","SidebarOptionPanel","_components_OptionsPanel","SidebarOptionsPanel_extends","setOptionValue","getNonInteractableWidgets","getHiddenWidgets","component","OptionsPanelFactory","format","nonVisibleWidgets","Rendering_extends","stateToProps","Edit","fm","_containers_FileManager","rightBarPanel","_containers_Rendering","_containers_App","_containers_Editor","routes","path","universalRouter","UniversalRouter","router","navigateTo","resolve","then","controller","Controller","ReactDom","render","es","getElementById","__REDUX_DEVTOOLS_EXTENSION__","trace","persistedState","_defaultsDeep","seed","createReduxStore","allReducers","compose","subscribe","getState","createStore","escapeExpression"],"mappings":"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","file":"main.1c344598d7d62d4c882b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"Vtdi\",1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var Handlebars = require(\"../../../../../ucc-demo/node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<span class=\\\"ucc-bar-content\\\">\"\n    + ((stack1 = container.lambda((depth0 != null ? depth0.barContent : depth0), depth0)) != null ? stack1 : \"\")\n    + \"</span>\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../ucc-demo/node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<div class=\\\"ucc-song\\\">\"\n    + ((stack1 = container.lambda((depth0 != null ? depth0.song : depth0), depth0)) != null ? stack1 : \"\")\n    + \"</div>\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../ucc-demo/node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<span class=\\\"ucc-bar-separator\\\">|</span>\";\n},\"useData\":true});","// @see https://egghead.io/lessons/javascript-redux-persisting-the-state-to-the-local-storage\n\nexport const loadState = () => {\n\ttry {\n\t\tconst serializedState = localStorage.getItem('state');\n\t\tif (!serializedState) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn JSON.parse(serializedState);\n\n\t} catch (err) {\n\t\treturn undefined;\n\t}\n};\n\nexport const saveState = (state) => {\n\ttry {\n\t\tconst serializedState = JSON.stringify(state);\n\t\tlocalStorage.setItem('state', serializedState);\n\t} catch (err) {\n\t\t// ignore write errors\n\t}\n};\n","export const DB_FILES_CREATE = 'db/files/Create';\nexport const DB_FILES_UPDATE = 'db/files/Update';\nexport const DB_FILES_DELETE = 'db/files/Delete';\n","import * as actionTypes from './actionsTypes';\n\nconst initialState = {\n\tallFiles: {},\n};\n\nfunction createFile(state, action) {\n\tconst { id, title, content } = action.payload;\n\n\tconst allFiles = { ...state.allFiles };\n\tallFiles[id] = {\n\t\tid,\n\t\ttitle,\n\t\tcontent\n\t};\n\n\treturn {\n\t\t...state,\n\t\tallFiles,\n\t};\n}\n\n\nfunction updateFile(state, action) {\n\tconst { id, title, content } = action.payload;\n\n\tif ((!title && !content) || !state.allFiles[id]) {\n\t\treturn state;\n\t}\n\n\tconst allFiles = { ...state.allFiles };\n\n\tallFiles[id] = { ...allFiles[id] };\n\n\tif (title) {\n\t\tallFiles[id].title = title;\n\t}\n\tif (content) {\n\t\tallFiles[id].content = content;\n\t}\n\treturn {\n\t\t...state,\n\t\tallFiles,\n\t};\n}\n\n\nfunction deleteFile(state, action) {\n\tconst { id } = action.payload;\n\n\tif (!id || !state.allFiles[id]) {\n\t\treturn state;\n\t}\n\n\tconst allFiles = { ...state.allFiles };\n\tdelete allFiles[id];\n\n\treturn {\n\t\t...state,\n\t\tallFiles,\n\t};\n}\n\n\nexport default (state = initialState, action = {}) => {\n\tswitch (action.type) {\n\t\tcase actionTypes.DB_FILES_CREATE: return createFile(state, action);\n\t\tcase actionTypes.DB_FILES_UPDATE: return updateFile(state, action);\n\t\tcase actionTypes.DB_FILES_DELETE: return deleteFile(state, action);\n\t}\n\treturn state;\n};\n","import * as actionTypes from './actionsTypes';\n\nconst initialState = {};\n\nexport default (state = initialState, action = {}) => {\n\tswitch (action.type) {\n\t\tcase actionTypes.DB_OPTION_SET_OPTION_VALUE: {\n\t\t\tconst { context, key, value } = action.payload;\n\n\t\t\tif (!state[context] || !state[context][key]) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\tconst contextOptions = { ...state[context] };\n\t\t\tcontextOptions[key] = {\n\t\t\t\t...contextOptions[key],\n\t\t\t\tvalue\n\t\t\t};\n\n\t\t\tconst newState = {\n\t\t\t\t...state,\n\t\t\t};\n\t\t\tnewState[context] = contextOptions;\n\n\t\t\treturn newState;\n\t\t}\n\t}\n\treturn state;\n};\n","import { combineReducers } from 'redux';\nimport files from './files/reducers';\nimport options from './options/reducers';\n\nexport default combineReducers({\n\tfiles,\n\toptions,\n});\n","export const DB_OPTION_SET_OPTION_VALUE = 'db/options/setOptionValue';\n","export const FILE_MANAGER_SELECT_FILE = 'fileManager/select';\nexport const FILE_MANAGER_ENABLE_RENAME = 'fileManager/enableRename';\n\n","import {\n\tFILE_MANAGER_SELECT_FILE,\n\tFILE_MANAGER_ENABLE_RENAME\n} from './actionsTypes';\n\nimport {\n\tDB_FILES_CREATE,\n\tDB_FILES_UPDATE,\n\tDB_FILES_DELETE\n} from '../../db/files/actionsTypes';\n\nconst initialState = {\n\tselected: '',\n\trenamed: '',\n\tdefaultTitle: '[untitled]'\n};\n\nexport default function reducers(state = initialState, action = {}) {\n\tswitch (action.type) {\n\n\t\tcase DB_FILES_CREATE: {\n\t\t\tconst { id } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselected: id,\n\t\t\t\trenamed: id\n\t\t\t};\n\t\t}\n\n\t\tcase DB_FILES_UPDATE: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\trenamed: ''\n\t\t\t};\n\t\t}\n\n\t\tcase DB_FILES_DELETE: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselected: '',\n\t\t\t\trenamed: ''\n\t\t\t};\n\t\t}\n\n\t\tcase FILE_MANAGER_SELECT_FILE: {\n\t\t\tconst { id } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselected: id,\n\t\t\t\trenamed: (id === state.renamed) ? id : ''\n\t\t\t};\n\t\t}\n\n\t\tcase FILE_MANAGER_ENABLE_RENAME: {\n\t\t\tconst { id } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\trenamed: id\n\t\t\t};\n\t\t}\n\t}\n\treturn state;\n}\n","export const UI_LAYOUT_APP_TOGGLE_LEFT_BAR = 'ui/layout/app/toggleLeftBar';\nexport const UI_LAYOUT_APP_TOGGLE_RIGHT_BAR = 'ui/layout/app/toggleRightBar';\nexport const UI_LAYOUT_APP_SET_EDITOR_MODE = 'ui/layout/app/setEditorMode';\n","import {\n\tUI_LAYOUT_APP_TOGGLE_RIGHT_BAR,\n\tUI_LAYOUT_APP_TOGGLE_LEFT_BAR,\n\tUI_LAYOUT_APP_SET_EDITOR_MODE,\n} from './actionsTypes';\n\nconst initialState = {\n\tisLeftBarCollapsed: false,\n\tisRightBarCollapsed: false,\n\teditorMode: 'edit',\n};\n\nexport default function reducers(state = initialState, action = {}) {\n\tswitch (action.type) {\n\t\tcase UI_LAYOUT_APP_TOGGLE_LEFT_BAR: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisLeftBarCollapsed: !state.isLeftBarCollapsed\n\t\t\t};\n\t\t}\n\t\tcase UI_LAYOUT_APP_TOGGLE_RIGHT_BAR: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisRightBarCollapsed: !state.isRightBarCollapsed\n\t\t\t};\n\t\t}\n\t\tcase UI_LAYOUT_APP_SET_EDITOR_MODE: {\n\t\t\tconst { mode } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\teditorMode: mode,\n\t\t\t};\n\t\t}\n\t}\n\treturn state;\n}\n","import { combineReducers } from 'redux';\nimport app from './app/_state/reducers';\n\nexport default combineReducers({\n\tapp\n});\n","import _defaultsDeep from 'lodash/defaultsDeep';\n\nimport { createStore as createReduxStore, compose } from 'redux';\n\nimport { loadState, saveState } from './localStorage';\nimport allReducers from './reducers';\nimport seed from './seed';\n\nconst storeEnhancers = [];\n\n/* * /\nimport { applyMiddleware } from 'redux';\nconst logger = () => next => action => {\n\tconsole.log('!!! DISPATCHING ACTION: ', action);\n\tlet result = next(action);\n\treturn result;\n};\nstoreEnhancers.push(applyMiddleware(logger));\n/* */\n\n\nlet store;\n\nexport function createStore() {\n\tif (window.__REDUX_DEVTOOLS_EXTENSION__) {\n\t\tstoreEnhancers.push(window.__REDUX_DEVTOOLS_EXTENSION__({ trace: true }));\n\t}\n\n\tconst persistedState = loadState();\n\tconst initialState = _defaultsDeep(persistedState, seed);\n\n\tstore = createReduxStore(\n\t\tallReducers,\n\t\tinitialState,\n\t\tcompose(...storeEnhancers)\n\t);\n\n\tstore.subscribe(() => {\n\t\tsaveState(store.getState());\n\t});\n}\n\nexport function getStore() {\n\treturn store;\n}\n","import { combineReducers } from 'redux';\nimport layout from './layout/reducers';\n\nexport default combineReducers({\n\tlayout\n});\n","import { combineReducers } from 'redux';\n\nimport db from '../db/reducers';\nimport fileManager from '../fileManager/_state/reducers';\nimport ui from '../ui/reducers';\n\nexport default combineReducers({\n\tdb,\n\tfileManager,\n\tui,\n});\n","import db from '../db/seed';\n\nexport default {\n\tdb,\n};\n","import options from './options/seed';\n\nexport default {\n\toptions\n};\n","export default {\n\trendering: {\n\n\t\t/** Layout */\n\n\t\tdocumentSize: {\n\t\t\tvalue: 'a4',\n\t\t\tdefault: 'a4',\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\tcolumnsCount: {\n\t\t\tvalue: 1,\n\t\t\tdefault: 1,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\tcolumnBreakOnParagraph: {\n\t\t\tvalue: true,\n\t\t\tdefault: true,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\n\n\t\t/** Display */\n\n\t\tstyle: {\n\t\t\tvalue: 'ucc',\n\t\t\tdefault: 'ucc',\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\talignBars: {\n\t\t\tvalue: true,\n\t\t\tdefault: true,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\tshowChords: {\n\t\t\tvalue: true,\n\t\t\tdefault: true,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\tinstrument: {\n\t\t\tvalue: 'guitar',\n\t\t\tdefault: 'guitar',\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\tshowStrummingPattern: {\n\t\t\tvalue: true,\n\t\t\tdefault: true,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\n\n\n\t\t/** Customize Chords */\n\n\t\ttransposeValue: {\n\t\t\tvalue: 0,\n\t\t\tdefault: 0,\n\t\t\tresetOnSongChange: true,\n\t\t},\n\t\tsimplifyChords: {\n\t\t\tvalue: false,\n\t\t\tdefault: false,\n\t\t\tresetOnSongChange: true,\n\t\t},\n\t\tcapoPosition: {\n\t\t\tvalue: 0,\n\t\t\tdefault: 0,\n\t\t\tresetOnSongChange: true,\n\t\t},\n\t\tharmonizeAccidentals: {\n\t\t\tvalue: true,\n\t\t\tdefault: true,\n\t\t\tresetOnSongChange: true,\n\t\t},\n\t\tpreferredAccidentals: {\n\t\t\tvalue: 'auto',\n\t\t\tdefault: 'auto',\n\t\t\tresetOnSongChange: true,\n\t\t},\n\n\n\n\t\t/** Format */\n\n\t\tfontSize: {\n\t\t\tvalue: 0,\n\t\t\tdefault: 0,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\tfontStyle: {\n\t\t\tvalue: 'roboto',\n\t\t\tdefault: 'roboto',\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\thighlightChords: {\n\t\t\tvalue: true,\n\t\t\tdefault: true,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\tchordsColor: {\n\t\t\tvalue: 'black',\n\t\t\tdefault: 'black',\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t}\n};\n","export default function createAction(type, payload) {\n\tif (!type) {\n\t\tthrow new TypeError('Cannot create an action without an action type');\n\t}\n\treturn {\n\t\ttype,\n\t\tpayload\n\t};\n}\n","import {\n\tUI_LAYOUT_APP_TOGGLE_LEFT_BAR,\n\tUI_LAYOUT_APP_TOGGLE_RIGHT_BAR,\n\tUI_LAYOUT_APP_SET_EDITOR_MODE,\n} from './actionsTypes';\n\nimport createAction from '../../../../core/createAction';\n\nexport const toggleLeftBar = () => createAction(UI_LAYOUT_APP_TOGGLE_LEFT_BAR);\n\nexport const toggleRightBar = () => createAction(UI_LAYOUT_APP_TOGGLE_RIGHT_BAR);\n\nexport const setEditorMode = (mode) => createAction(UI_LAYOUT_APP_SET_EDITOR_MODE, { mode });\n\n","export const isLeftBarCollapsed = (state) => state.ui.layout.app.isLeftBarCollapsed;\n\nexport const isRightBarCollapsed = (state) => state.ui.layout.app.isRightBarCollapsed;\n\nexport const getEditorMode = (state) => state.ui.layout.app.editorMode;\n","import './Icon.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Icon(props) {\n\tconst { iconName } = props;\n\n\tconst classList = ['icon', 'material-icons'];\n\n\treturn (\n\t\t<i className={classList.join(' ')}>{iconName}</i>\n\t);\n}\n\nIcon.propTypes = {\n\ticonName: PropTypes.string.isRequired,\n};\n\nexport default React.memo(Icon);\n","import './Logo.scss';\n\nimport React from 'react';\n\nimport Icon from '../../_components/Icon.js';\n\nfunction Logo() {\n\treturn (\n\t\t<div className={'logo'}>\n\t\t\t<div className={'logo-isCollapsed'}>\n\t\t\t\t<Icon iconName={'queue_music'} />\n\t\t\t</div>\n\n\t\t\t<div className={'logo-isExpanded'}>\n\t\t\t\t<span className={'logo-icon'}><Icon iconName={'queue_music'} /></span>Chords Charts Studio\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default React.memo(Logo);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../../_components/Icon.js';\n\nfunction NavEntry(props) {\n\tconst {\n\t\tlabel,\n\t\ticon,\n\t\teditorMode,\n\t\tsetEditorMode,\n\t\tisActive,\n\t} = props;\n\n\tconst classNames = ['mainNavEntry'];\n\n\tif (isActive) {\n\t\tclassNames.push('mainNavEntry-isActive');\n\t}\n\n\tfunction handleClick() {\n\t\tsetEditorMode(editorMode);\n\t}\n\n\treturn (\n\t\t<li\n\t\t\tclassName={classNames.join(' ')}\n\t\t\tonClick={handleClick}\n\t\t>\n\t\t\t<span className={'mainNavEntry-icon'}><Icon iconName={icon} /></span>{label}\n\t\t</li>\n\t);\n}\n\nNavEntry.propTypes = {\n\tlabel: PropTypes.string.isRequired,\n\ticon: PropTypes.string.isRequired,\n\teditorMode: PropTypes.string.isRequired,\n\tsetEditorMode: PropTypes.func.isRequired,\n\tisActive: PropTypes.bool.isRequired,\n};\n\n\nexport default React.memo(NavEntry);\n","import './Nav.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport NavEntry from './NavEntry.js';\n\nfunction Nav(props) {\n\tconst {\n\t\tcurrentMode,\n\t\tallEntries,\n\t\tsetEditorMode,\n\t} = props;\n\n\treturn (\n\t\t<nav className={'mainNav'}>\n\t\t\t<ul className={'mainNav-entries'}>\n\t\t\t\t{\n\t\t\t\t\tallEntries.map((entry, key) =>\n\t\t\t\t\t\t<NavEntry\n\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\tisActive={(entry.editorMode === currentMode)}\n\t\t\t\t\t\t\tsetEditorMode={setEditorMode}\n\t\t\t\t\t\t\t{...entry}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</ul>\n\t\t</nav>\n\t);\n}\n\nNav.propTypes = {\n\tcurrentMode: PropTypes.string.isRequired,\n\tsetEditorMode: PropTypes.func.isRequired,\n\tallEntries: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\tid: PropTypes.string.isRequired,\n\t\t\tlabel: PropTypes.string.isRequired,\n\t\t\ticon: PropTypes.string.isRequired,\n\t\t\teditorMode: PropTypes.string.isRequired,\n\t\t})\n\t),\n};\n\nexport default React.memo(Nav);\n","import './Footer.scss';\n\nimport React from 'react';\n\nfunction Footer() {\n\treturn (\n\t\t<div className={'appFooter'}>\n\t\t\tChords Charts Studio v0.5.0 - Universal Chords Charts v0.2.0\n\t\t</div>\n\t);\n}\n\nexport default React.memo(Footer);\n","export default [\n\t{\n\t\tid: 'edit',\n\t\tlabel: 'Edit',\n\t\ticon: 'create',\n\t\teditorMode: 'edit',\n\t},\n\t{\n\t\tid: 'play',\n\t\tlabel: 'Play',\n\t\ticon: 'music_note',\n\t\teditorMode: 'play',\n\t},\n\t{\n\t\tid: 'print',\n\t\tlabel: 'Print / PDF',\n\t\ticon: 'print',\n\t\teditorMode: 'print',\n\t},\n\t{\n\t\tid: 'export',\n\t\tlabel: 'Export',\n\t\ticon: 'save_alt',\n\t\teditorMode: 'export',\n\t},\n];\n","import './App.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Logo from '../../../sideBar/_components/Logo';\nimport Nav from './Nav';\nimport Footer from './Footer';\nimport Icon from '../../../_components/Icon';\n\nimport allNavEntries from '../allNavEntries';\n\nfunction App(props) {\n\tconst {\n\t\tisLeftBarCollapsed,\n\t\tisRightBarCollapsed,\n\t\teditorMode,\n\t\ttoggleLeftBar,\n\t\ttoggleRightBar,\n\t\tsetEditorMode,\n\n\t\tleftBar,\n\t\trightBar,\n\t} = props;\n\n\tconst leftBarClassNames = ['leftBar'];\n\tif (isLeftBarCollapsed) {\n\t\tleftBarClassNames.push('leftBar-isCollapsed');\n\t}\n\n\tconst rightBarClassNames = ['rightBar'];\n\tif (isRightBarCollapsed) {\n\t\trightBarClassNames.push('rightBar-isCollapsed');\n\t}\n\n\treturn (\n\t\t<div className={'appLayout-wrapper'}>\n\t\t\t<section className={leftBarClassNames.join(' ')}>\n\t\t\t\t<div className={'leftBar-content'} onClick={(isLeftBarCollapsed) ? toggleLeftBar : null}>\n\t\t\t\t\t<Logo />\n\t\t\t\t\t{leftBar}\n\t\t\t\t</div>\n\t\t\t\t<div className={'leftBar-collapser'} onClick={toggleLeftBar} data-testid={'leftBar-collapser'}>\n\t\t\t\t\t<span className={'leftBar-collapserIcon'}>\n\t\t\t\t\t\t<Icon iconName={'keyboard_arrow_left'} />\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t\t<section className={'appLayout-main'}>\n\t\t\t\t<section className={'appLayout-header'}>\n\t\t\t\t\t<Nav\n\t\t\t\t\t\tallEntries={allNavEntries}\n\t\t\t\t\t\tcurrentMode={editorMode}\n\t\t\t\t\t\tsetEditorMode={setEditorMode}\n\t\t\t\t\t/>\n\t\t\t\t</section>\n\t\t\t\t<section className={'appLayout-content'}>\n\t\t\t\t\t{props.children}\n\t\t\t\t</section>\n\t\t\t\t<section className={'appLayout-footer'}>\n\t\t\t\t\t<Footer/>\n\t\t\t\t</section>\n\t\t\t</section>\n\t\t\t<section className={rightBarClassNames.join(' ')}>\n\t\t\t\t<div className={'rightBar-collapser'} onClick={toggleRightBar} data-testid={'rightBar-collapser'}>\n\t\t\t\t\t<span className={'rightBar-collapserIcon'}>\n\t\t\t\t\t\t<Icon iconName={'keyboard_arrow_right'} />\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div className={'rightBar-content'} onClick={(isRightBarCollapsed) ? toggleRightBar : null}>\n\t\t\t\t\t{rightBar}\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t</div>\n\t);\n}\n\nApp.propTypes = {\n\tchildren: PropTypes.element,\n\n\tisLeftBarCollapsed: PropTypes.bool,\n\tisRightBarCollapsed: PropTypes.bool,\n\ttoggleLeftBar: PropTypes.func.isRequired,\n\ttoggleRightBar: PropTypes.func.isRequired,\n\n\teditorMode: PropTypes.string.isRequired,\n\tsetEditorMode: PropTypes.func.isRequired,\n\n\tleftBar: PropTypes.element.isRequired,\n\trightBar: PropTypes.element.isRequired,\n};\n\nApp.defaultProps = {\n\tisLeftBarCollapsed: false,\n\tisRightBarCollapsed: false,\n};\n\nexport default App;\n","import { connect } from 'react-redux';\n\nimport { toggleLeftBar, toggleRightBar, setEditorMode} from '../_state/actions';\nimport { isLeftBarCollapsed, isRightBarCollapsed, getEditorMode } from '../_state/selectors';\n\nimport App from '../_components/App';\n\n\nexport default connect(\n\tstate => ({\n\t\tisLeftBarCollapsed: isLeftBarCollapsed(state),\n\t\tisRightBarCollapsed: isRightBarCollapsed(state),\n\t\teditorMode: getEditorMode(state)\n\t}),\n\n\t{\n\t\ttoggleLeftBar,\n\t\ttoggleRightBar,\n\t\tsetEditorMode,\n\t}\n\n)(App);\n\n\n","\nexport const getSelectedId = state => state.fileManager.selected;\n\nexport const getRenamedId = state => state.fileManager.renamed;\n\nexport const getDefaultTitle = state => state.fileManager.defaultTitle;\n","import uuid from 'uuid';\n\nimport createAction from '../../core/createAction';\nimport * as actionTypes from './actionsTypes';\n\n\nexport const createFile = (title) => {\n\tif (!title) {\n\t\tthrow new TypeError('Cannot create a file without title');\n\t}\n\tconst payload = {\n\t\tid: uuid.v4(),\n\t\ttitle,\n\t\tcontent: ''\n\t};\n\treturn createAction(actionTypes.DB_FILES_CREATE, payload);\n};\n\n\nexport const updateFile = (id, { title, content } = {}) => {\n\tif (!id) {\n\t\tthrow new TypeError('Cannot update a file without an id');\n\t}\n\tconst payload = {\n\t\tid,\n\t\ttitle,\n\t\tcontent\n\t};\n\treturn createAction(actionTypes.DB_FILES_UPDATE, payload);\n};\n\n\nexport const deleteFile = (id) => {\n\treturn createAction(actionTypes.DB_FILES_DELETE, { id });\n};\n\n","import _map from 'lodash/map';\nimport _isEqual from 'lodash/isEqual';\nimport _sortBy from 'lodash/sortBy';\n\nimport { createSelectorCreator, defaultMemoize } from 'reselect';\n\n\n// create a \"selector creator\" that uses lodash.isEqual instead of ===\nconst createDeepEqualSelector = createSelectorCreator(\n\tdefaultMemoize,\n\t_isEqual\n);\n\n\n// return value should not change when file content changes\nexport const getAllTitles = createDeepEqualSelector(\n\tstate => _map(state.db.files.allFiles, ({ title, id }) => ({ title, id })),\n\tallFiles => _sortBy(allFiles, o => o.title.toLowerCase())\n);\n\n\nexport const getOne = (state, id) => {\n\treturn state.db.files.allFiles[id];\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../ui/_components/Icon';\n\nfunction FileActionEntry(props) {\n\tconst { icon, text, action } = props;\n\n\treturn (\n\t\t<span className={'fileManagerAction'} onClick={action}>\n\t\t\t<span className={'fileManagerAction-icon'}>\n\t\t\t\t<Icon iconName={icon} /> {text}\n\t\t\t</span>\n\t\t</span>\n\t);\n}\n\nFileActionEntry.propTypes = {\n\ticon: PropTypes.string.isRequired,\n\ttext: PropTypes.string.isRequired,\n\taction: PropTypes.func.isRequired,\n};\n\nexport default React.memo(FileActionEntry);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport FileActionEntry from './FileActionEntry';\n\nfunction FileActions(props) {\n\tconst { createFile, deleteFile, enableRename } = props;\n\n\tconst allActions = [\n\t\t{\n\t\t\ticon: 'add_circle',\n\t\t\ttext: 'New',\n\t\t\taction: createFile\n\t\t},\n\t\t{\n\t\t\ticon: 'create',\n\t\t\ttext: 'Rename',\n\t\t\taction: enableRename\n\t\t},\n\t\t{\n\t\t\ticon: 'delete',\n\t\t\ttext: 'Delete',\n\t\t\taction: deleteFile\n\t\t},\n\t];\n\n\treturn (\n\t\t<div className={'fileManager-actionsList'}>\n\t\t\t{\n\t\t\t\tallActions.map((action, key) =>\n\t\t\t\t\t<FileActionEntry {...action} key={key} />\n\t\t\t\t)\n\t\t\t}\n\t\t</div>\n\t);\n}\n\nFileActions.propTypes = {\n\tcreateFile: PropTypes.func.isRequired,\n\tdeleteFile: PropTypes.func.isRequired,\n\tenableRename: PropTypes.func.isRequired,\n};\n\nexport default React.memo(FileActions);\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nfunction FileEntry(props) {\n\tconst [ title, setTitle ] = useState(props.title);\n\n\tconst { fileId, isSelected, isRenamed, defaultTitle, selectFile, enableRename, updateFile } = props;\n\n\tconst classList = ['fileManagerEntry'];\n\tif (isSelected) {\n\t\tclassList.push('fileManagerEntry-isSelected');\n\t}\n\tif (isRenamed) {\n\t\tclassList.push('fileManagerEntry-isRenamed');\n\t}\n\n\tconst inputRef = React.createRef();\n\n\tuseEffect(() => {\n\t\tif (isRenamed) {\n\t\t\tinputRef.current.focus();\n\t\t}\n\t}, [isRenamed, inputRef]);\n\n\tfunction handleClick() {\n\t\tif (!isSelected) {\n\t\t\tselectFile(fileId);\n\t\t}\n\t}\n\n\tfunction handleDoubleClick(e) {\n\t\tif (!isRenamed) {\n\t\t\tenableRename(fileId);\n\t\t\te.target.select();\n\t\t}\n\t}\n\n\tfunction handleKeyPress(e) {\n\t\tif (isRenamed && e.which === 13) {\n\t\t\te.preventDefault();\n\t\t\twindow.getSelection().removeAllRanges();\n\n\t\t\tconst newTitle = e.target.value;\n\t\t\tsaveTitle(newTitle);\n\t\t}\n\t}\n\n\tfunction handleChange(e) {\n\t\tsetTitle(e.target.value);\n\t}\n\n\tfunction handleFocus(e) {\n\t\tif (isRenamed) {\n\t\t\te.target.select();\n\t\t}\n\t}\n\n\tfunction handleBlur(e) {\n\t\tif (isRenamed) {\n\t\t\tconst newTitle = e.target.value;\n\t\t\tsaveTitle(newTitle);\n\t\t}\n\t}\n\n\tfunction saveTitle(newTitle) {\n\t\tnewTitle = newTitle || defaultTitle;\n\n\t\tupdateFile(fileId, {\n\t\t\ttitle: newTitle\n\t\t});\n\t\tsetTitle(newTitle);\n\n\t\tinputRef.current.scrollLeft = 0;\n\t}\n\n\treturn (\n\t\t<li\n\t\t\tclassName={classList.join(' ')}\n\t\t\tonClick={handleClick}\n\t\t\tonDoubleClick={handleDoubleClick}\n\t\t>\n\t\t\t<input\n\t\t\t\tclassName={'fileManagerEntry-input'}\n\t\t\t\tref={inputRef}\n\t\t\t\ttype={'text'}\n\t\t\t\tvalue={title}\n\t\t\t\treadOnly={(isRenamed) ? null : 'readOnly'}\n\t\t\t\tautoFocus={(isRenamed) ? 'autoFocus' : null}\n\t\t\t\tonChange={handleChange}\n\t\t\t\tonBlur={handleBlur}\n\t\t\t\tonFocus={handleFocus}\n\t\t\t\tonKeyPress={handleKeyPress}\n\t\t\t/>\n\t\t</li>\n\t);\n}\n\nFileEntry.propTypes = {\n\ttitle: PropTypes.string.isRequired,\n\tfileId: PropTypes.string.isRequired,\n\tisSelected: PropTypes.bool.isRequired,\n\tisRenamed: PropTypes.bool.isRequired,\n\tdefaultTitle: PropTypes.string.isRequired,\n\tselectFile: PropTypes.func.isRequired,\n\tenableRename: PropTypes.func.isRequired,\n\tupdateFile: PropTypes.func.isRequired,\n};\n\nexport default FileEntry;\n","import './FileManager.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../ui/_components/Icon';\nimport FileActions from './FileActions';\nimport FileEntry from './FileEntry';\n\nfunction FileManager(props) {\n\tconst {\n\t\tallTitles,\n\t\tselected,\n\t\trenamed,\n\t\tdefaultTitle,\n\n\t\tselectFile,\n\t\tcreateFile,\n\t\tdeleteFile,\n\t\tenableRename,\n\t\tupdateFile,\n\n\t} = props;\n\n\treturn (\n\t\t<div className={'fileManager'}>\n\t\t\t<div className={'fileManager-isCollapsed'}>\n\t\t\t\t<span className={'fileManager-icon'}>\n\t\t\t\t\t<Icon iconName={'file_copy'} />\n\t\t\t\t</span>\n\t\t\t</div>\n\n\t\t\t<div className={'fileManager-isExpanded'}>\n\t\t\t\t<FileActions\n\t\t\t\t\tcreateFile={() => createFile(defaultTitle)}\n\t\t\t\t\tdeleteFile={() => deleteFile(selected)}\n\t\t\t\t\tenableRename={() => enableRename(selected)}\n\t\t\t\t/>\n\t\t\t\t<ul className={'fileManager-entriesList'}>\n\t\t\t\t\t{\n\t\t\t\t\t\tallTitles.map(file =>\n\t\t\t\t\t\t\t<FileEntry\n\t\t\t\t\t\t\t\ttitle={file.title}\n\t\t\t\t\t\t\t\tdefaultTitle={defaultTitle}\n\t\t\t\t\t\t\t\tfileId={file.id}\n\t\t\t\t\t\t\t\tisSelected={selected === file.id}\n\t\t\t\t\t\t\t\tisRenamed={renamed === file.id}\n\t\t\t\t\t\t\t\tselectFile={selectFile}\n\t\t\t\t\t\t\t\tupdateFile={updateFile}\n\t\t\t\t\t\t\t\tenableRename={enableRename}\n\t\t\t\t\t\t\t\tkey={file.id}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nFileManager.propTypes = {\n\tallTitles: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\ttitle: PropTypes.string.isRequired,\n\t\t\tid: PropTypes.string.isRequired,\n\t\t})\n\t).isRequired,\n\tselected: PropTypes.string.isRequired,\n\trenamed: PropTypes.string.isRequired,\n\tdefaultTitle: PropTypes.string.isRequired,\n\n\tselectFile: PropTypes.func.isRequired,\n\tcreateFile: PropTypes.func.isRequired,\n\tdeleteFile: PropTypes.func.isRequired,\n\tenableRename: PropTypes.func.isRequired,\n\tupdateFile: PropTypes.func.isRequired,\n};\n\nexport default FileManager;\n","import { connect } from 'react-redux';\n\nimport { selectFile, enableRename } from '../_state/actions';\nimport { getDefaultTitle, getSelectedId, getRenamedId } from '../_state/selectors';\n\nimport { createFile, updateFile, deleteFile } from '../../db/files/actions';\nimport { getAllTitles } from '../../db/files/selectors';\n\nimport FileManager from '../_components/FileManager';\n\nexport default connect(\n\tstate => ({\n\t\tselected: getSelectedId(state),\n\t\trenamed: getRenamedId(state),\n\t\tdefaultTitle: getDefaultTitle(state),\n\t\tallTitles: getAllTitles(state),\n\t}),\n\n\t{\n\t\tselectFile,\n\t\tcreateFile,\n\t\tdeleteFile,\n\t\tupdateFile,\n\t\tenableRename,\n\t}\n\n)(FileManager);\n","import createAction from '../../core/createAction';\n\nimport * as actionsTypes from './actionsTypes';\n\nexport const selectFile = (id) => createAction(actionsTypes.FILE_MANAGER_SELECT_FILE, { id });\n\nexport const enableRename = (id) => createAction(actionsTypes.FILE_MANAGER_ENABLE_RENAME, { id });\n\n\n\n\n","import _mapValues from 'lodash/mapValues';\n\nexport const getOptionValue = (state, context, key) => {\n\tif (!state.db.options[context] || !state.db.options[context][key]) {\n\t\treturn;\n\t}\n\treturn state.db.options[context][key].value;\n};\n\nexport const getContext = (state, context) => {\n\tif (!state.db.options[context]) {\n\t\treturn;\n\t}\n\treturn _mapValues(state.db.options[context], option => option.value);\n};\n","import domPurify from 'dompurify';\n\nexport default function escapeHTML(unescaped) {\n\treturn domPurify.sanitize(unescaped);\n}\n","import domPurify from 'dompurify';\n\nexport default function stripTags(html) {\n\treturn domPurify.sanitize(html, {\n\t\tALLOWED_TAGS: ['#text'],\n\t\tKEEP_CONTENT: true,\n\t});\n}\n","import _isString from 'lodash/isString';\n\nimport { Chords } from 'momo-chords';\n\nconst chords = new Chords();\n\nexport default function isChord(potentialChord) {\n\treturn _isString(potentialChord) && chords.isChord(potentialChord);\n}\n","import isChord from './isChord';\n\nexport default function isChordLine(line = '') {\n\treturn line\n\t\t.replace(/\\t+/g, ' ')\n\t\t.replace(/  +/g, ' ')\n\t\t.trim()\n\t\t.split(' ')\n\t\t.map(potentialChord => potentialChord.replace(/\\.*$/g, ''))\n\t\t.every(potentialChord => isChord(potentialChord));\n}\n","const allowedTimeSignatures = [\n\t'2/2', '3/2',\n\t'3/4', '4/4', '5/4',\n\t'3/8', '6/8', '9/8', '12/8'\n];\n\nexport default function isTimeSignatureString(string) {\n\treturn allowedTimeSignatures.includes(string);\n}","import isTimeSignatureString from './isTimeSignatureString';\n\n/**\n * @typedef {Object} TimeSignature\n * @type {Object}\n * @property {String} string - original string\n * @property {Number} count - upper part of time signature\n * @property {Number} value - lower part of time signature\n * @property {Number} beatCount - number of beats per bar\n */\n\n/**\n * @param {String} string\n * @returns {TimeSignature}\n */\nexport default function parseTimeSignature(string) {\n\tif (!isTimeSignatureString(string)) {\n\t\tthrow new TypeError('Expected time signature string, received: ' + string);\n\t}\n\n\tconst array = string.split('/');\n\n\tconst count = Number.parseInt(array[0], 10);\n\tconst value = Number.parseInt(array[1], 10);\n\n\tlet beatCount = count;\n\n\tif (value === 2) {\n\t\tbeatCount = count * 2;\n\n\t} else if (value === 8) {\n\t\tbeatCount = count / 3;\n\t}\n\n\treturn {\n\t\tstring,\n\t\tcount,\n\t\tvalue,\n\t\tbeatCount,\n\t};\n}\n\n","import { Chords } from 'momo-chords';\n\nconst chords = new Chords();\n\n/**\n * @see https://github.com/mdanka/momo-chords/blob/master/src/types.ts\n */\n\n/**\n * @typedef {Object} ChordDef\n * @type {Object}\n * @property {ChordSymbol} symbol\n * @property {Object} structure - whether each degree (1, 2, 3... 11) is present (true/false) in the chord\n */\n\n/**\n * @typedef {Object} ChordSymbol\n * @type {Object}\n * @property {String} rootNote\n * @property {String} [bassNote]\n * @property {String} quality\n * @property {Object} addeds\n * @property {Object} suspended\n * @property {String} [alteredFifth]\n * @property {String} [seventh]\n * @property {String} [ninth]\n * @property {String} [eleventh]\n * @property {String} [thirteenth]\n */\n\n/**\n * @param chordString\n * @returns {ChordDef}\n */\nexport default function parseChord(chordString) {\n\treturn chords.parse(chordString);\n}\n","import _isString from 'lodash/isString';\nimport _isFinite from 'lodash/isFinite';\n\nexport default class IncorrectBeatCountException extends Error {\n\tconstructor(\n\t\t{\n\t\t\tstring,\n\t\t\tduration,\n\t\t\tcurrentBeatCount,\n\t\t\tbeatCount\n\t\t} = {}\n\t) {\n\t\tif (!string || !_isString(string)) {\n\t\t\tthrow new TypeError('IncorrectBeatCountException cannot be created without chord string, received: ' + string);\n\t\t}\n\t\tif (!duration || !_isFinite(duration)) {\n\t\t\tthrow new TypeError('IncorrectBeatCountException cannot be created without chord duration, received: ' + duration);\n\t\t}\n\t\tif (!currentBeatCount || !_isFinite(currentBeatCount)) {\n\t\t\tthrow new TypeError('IncorrectBeatCountException cannot be created without currentBeatCount, received: ' + currentBeatCount);\n\t\t}\n\t\tif (!beatCount || !_isFinite(beatCount)) {\n\t\t\tthrow new TypeError('IncorrectBeatCountException cannot be created without beatCount, received: ' + beatCount);\n\t\t}\n\n\t\tsuper();\n\n\t\tthis.name = 'IncorrectBeatCountException';\n\t\tthis.string = string;\n\t\tthis.duration = duration;\n\t\tthis.currentBeatCount = currentBeatCount;\n\t\tthis.beatCount = beatCount;\n\t}\n}\n\n","import _isString from 'lodash/isString';\n\nexport default class InvalidChordRepetitionException extends Error {\n\tconstructor(\n\t\t{\n\t\t\tstring,\n\t\t} = {}\n\t) {\n\t\tif (!string || !_isString(string)) {\n\t\t\tthrow new TypeError('InvalidChordRepetitionException cannot be created without chord string, received: ' + string);\n\t\t}\n\n\t\tsuper();\n\n\t\tthis.name = 'InvalidChordRepetitionException';\n\t\tthis.string = string;\n\t}\n}\n\n","import _isEqual from 'lodash/isEqual';\nimport _cloneDeep from 'lodash/cloneDeep';\n\nimport parseChord from './parseChord';\nimport parseTimeSignature from './parseTimeSignature';\n\nimport IncorrectBeatCountException from './exceptions/IncorrectBeatCountException';\nimport InvalidChordRepetitionException from './exceptions/InvalidChordRepetitionException';\n\n/**\n * @typedef {Object} ChordLine\n * @type {Object}\n * @property {Number} chordCount - number of chords in the line\n * @property {Bar[]} allBars\n */\n\n/**\n * @typedef {Object} Bar\n * @type {Object}\n * @property {TimeSignature} timeSignature\n * @property {ChordLineChord[]} allChords\n */\n\n/**\n * @typedef {Object} ChordLineChord\n * @type {Object}\n * @property {String} string - original chord string\n * @property {ChordDef} model\n * @property {Number} duration - number of beats the chord lasts\n * @property {Number} beat - beat on which the chord starts\n */\n\n/**\n * @param {String} chordLine\n * @param {TimeSignature} timeSignature\n * @returns {ChordLine}\n */\nexport default function parseChordLine(\n\tchordLine,\n\t{\n\t\ttimeSignature = parseTimeSignature('4/4')\n\t} = {}\n) {\n\tconst { beatCount } = timeSignature;\n\n\tconst allLineChords = chordLine\n\t\t.replace(/  +/g, ' ')\n\t\t.trim()\n\t\t.split(' ');\n\tconst allBars = [];\n\n\tlet bar = { allChords: []};\n\tlet chord = {};\n\tlet model = {};\n\tlet currentBeatCount = 0;\n\tlet chordCount = 0;\n\tlet previousChord = {};\n\n\tallLineChords.forEach(chordString => {\n\t\tmodel = parseChord(chordString.replace(/\\./g, ''));\n\t\tchord = {\n\t\t\tstring: chordString,\n\t\t\tduration: ((chordString.match(/\\./g) || []).length) || beatCount,\n\t\t\tmodel,\n\t\t};\n\t\tchord.beat = currentBeatCount + 1;\n\t\tcurrentBeatCount += chord.duration;\n\n\t\tif (bar.allChords.length > 0) {\n\t\t\tpreviousChord = bar.allChords[bar.allChords.length - 1];\n\t\t\tif (_isEqual(previousChord.model, chord.model)) {\n\t\t\t\tthrow new InvalidChordRepetitionException({\n\t\t\t\t\tstring: chord.string,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tbar.allChords.push(chord);\n\t\tchordCount++;\n\n\t\tif (currentBeatCount === beatCount) {\n\t\t\tbar.timeSignature = timeSignature;\n\n\t\t\tallBars.push(_cloneDeep(bar));\n\n\t\t\tbar = { allChords: []};\n\t\t\tcurrentBeatCount = 0;\n\t\t\tpreviousChord = {};\n\n\t\t} else if (currentBeatCount > beatCount) {\n\t\t\tthrow new IncorrectBeatCountException({\n\t\t\t\tmessage: '',\n\t\t\t\tstring: chord.string,\n\t\t\t\tduration: chord.duration,\n\t\t\t\tcurrentBeatCount,\n\t\t\t\tbeatCount,\n\t\t\t});\n\t\t}\n\t});\n\n\tif (currentBeatCount > 0 && (currentBeatCount < beatCount)) {\n\t\tthrow new IncorrectBeatCountException({\n\t\t\tmessage: '',\n\t\t\tstring: chord.string,\n\t\t\tduration: chord.duration,\n\t\t\tcurrentBeatCount,\n\t\t\tbeatCount,\n\t\t});\n\t}\n\n\treturn {\n\t\tchordCount,\n\t\tallBars\n\t};\n}\n","import _cloneDeep from 'lodash/cloneDeep';\n\n/**\n * @param {SongLine[]} allLines\n * @param {Function} fn - to execute on each chord\n * @returns {SongLine[]}\n */\nexport function forEachChordInSong(allLines, fn) {\n\tconst newLines = _cloneDeep(allLines);\n\n\tnewLines.forEach(line => {\n\t\tif (line.type === 'chord') {\n\t\t\tline.model.allBars.forEach(bar => {\n\t\t\t\tbar.allChords.forEach(chord => {\n\t\t\t\t\tfn(chord);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t});\n\treturn newLines;\n}\n\n/**\n * @param {ChordLine[]} chordLine\n * @param {Function} fn - to execute on each chord\n * @returns {ChordLine[]}\n */\nexport function forEachChordInChordLine(chordLine, fn) {\n\tconst newChordLine = _cloneDeep(chordLine);\n\n\tnewChordLine.allBars.forEach(bar => {\n\t\tbar.allChords.forEach(chord => {\n\t\t\tfn(chord);\n\t\t});\n\t});\n\n\treturn newChordLine;\n}\n","import _isArray from 'lodash/isArray';\n\nimport escapeHTML from '../core/dom/escapeHTML';\nimport stripTags from '../core/dom/stripTags';\n\nimport isChordLine from './isChordLine';\nimport isTimeSignature from './isTimeSignatureString';\n\nimport parseTimeSignature from './parseTimeSignature';\nimport parseChordLine from './parseChordLine';\n\nimport getAllChordsInSong from './getAllChordsInSong';\n\n/**\n * @typedef {Object} SongLine\n * @type {Object}\n * @property {String} string - original line in source file\n * @property {String} type - chord|text|time-signature|...\n * @property {ChordLine|TimeSignature} model\n */\n\n/**\n * @typedef {Object} Song\n * @type {Object}\n * @property {SongLine[]} allLines\n * @property {SongChord[]} allChords\n */\n\n/**\n * @typedef {Object} SongChord\n * @type {Object}\n * @property {ChordDef} model\n * @property {number} occurrences - number of times the chord appears in the song\n */\n\n/**\n * @type {string}\n */\nconst defaultTimeSignature = '4/4';\n\n/**\n * @param {string|array} song\n * @returns {Song}\n */\nexport default function parseSong(song) {\n\tconst songLines = (!_isArray(song)) ? song.split('\\n') : song;\n\n\tlet timeSignature = parseTimeSignature(defaultTimeSignature);\n\n\tconst allLines = songLines\n\t\t.map(escapeHTML)\n\t\t.map(stripTags)\n\t\t.map(string => ({ string }))\n\t\t.map(line => {\n\t\t\tif (isTimeSignature(line.string)) {\n\t\t\t\ttimeSignature = parseTimeSignature(line.string);\n\n\t\t\t\tline.type = 'time-signature';\n\t\t\t\tline.model = timeSignature;\n\n\t\t\t} else if (isChordLine(line.string)) {\n\t\t\t\ttry {\n\t\t\t\t\tline.type = 'chord';\n\t\t\t\t\tline.model = parseChordLine(line.string, { timeSignature });\n\n\t\t\t\t} catch (e) {\n\t\t\t\t\tline.type = 'text';\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tline.type = 'text';\n\t\t\t}\n\t\t\treturn line;\n\t\t});\n\n\n\tconst allChords = getAllChordsInSong(allLines);\n\n\treturn {\n\t\tallLines,\n\t\tallChords\n\t};\n}\n","import _findIndex from 'lodash/findIndex';\nimport _isEqual from 'lodash/isEqual';\nimport _cloneDeep from 'lodash/cloneDeep';\n\nimport { forEachChordInSong } from './helper/songs';\n\n/**\n * @param {SongLine[]} allLines\n * @returns {SongChord[]}\n */\nexport default function getAllChordsInSong(allLines) {\n\tconst allChords = [];\n\tlet i;\n\n\tforEachChordInSong(allLines, chord => {\n\t\ti = _findIndex(allChords, o => _isEqual(o.model, chord.model));\n\n\t\tif (i === -1) {\n\t\t\tallChords.push({\n\t\t\t\tmodel: _cloneDeep(chord.model),\n\t\t\t\toccurrences: 1\n\t\t\t});\n\t\t} else {\n\t\t\tallChords[i].occurrences++;\n\t\t}\n\t});\n\n\treturn allChords;\n}\n","import _cloneDeep from 'lodash/cloneDeep';\n\nconst allMasks = {\n\t0: {\n\t\t'': []\n\t},\n\n\t2: {\n\t\t'2': \t[3], \t\t// 'A   '\n\t\t'11':  \t[3, 2], \t// 'A   B  ',\n\t},\n\n\t3: {\n\t\t'3': \t[3], \t\t// 'A   '\n\t\t'12':  \t[2, 4], \t// 'A  B    '\n\t\t'21': \t[6, 0], \t// 'A      C'\n\t\t'111': \t[2, 2, 0], \t// 'A  B  C'\n\t},\n\n\t4: {\n\t\t'4': \t[3], \t\t// 'A   ',\n\t\t'13': \t[1, 4], \t// 'A B    ',\n\t\t'22': \t[3, 2], \t// 'A   B  ',\n\t\t'31':   [5, 0], \t// 'A     B',\n\t\t'112':  [1, 1, 3], \t// 'A B C   ',\n\t\t'121':  [1, 4, 0], \t// 'A B    C',\n\t\t'211': \t[4, 1, 0], \t// 'A    B C',\n\t\t'1111': [2, 2, 2], \t// 'A  B  C  D',\n\t},\n};\n\nexport default function space(chordLineInput) {\n\tconst chordLine = _cloneDeep(chordLineInput);\n\n\tlet beatCount = 0;\n\tlet chordPattern = '';\n\tlet chordSpaces = [];\n\n\tchordLine.allBars.forEach(bar => {\n\t\tbeatCount = 0;\n\t\tchordPattern = '';\n\n\t\tbar.allChords.forEach(chord => {\n\t\t\tchordPattern += chord.duration.toString();\n\t\t\tbeatCount += chord.duration;\n\t\t});\n\n\t\tchordSpaces = allMasks[beatCount][chordPattern];\n\n\t\tfor (let i = 0; i < chordPattern.length; i++) {\n\t\t\tbar.allChords[i].spacesAfter = chordSpaces[i];\n\t\t}\n\t});\n\n\treturn chordLine;\n}\n","import _cloneDeep from 'lodash/cloneDeep';\n\nconst spacesAfterDefault = 2;\nconst emptyBeatSpaces = 1;\n\nexport default function space(chordLineInput, maxBeatsWidth) {\n\tconst chordLine = _cloneDeep(chordLineInput);\n\n\tlet beatMaxWidth;\n\n\tchordLine.allBars.forEach((bar, barIndex) => {\n\t\tbar.allChords.forEach(chord => {\n\t\t\tchord.spacesWithin = maxBeatsWidth[barIndex][chord.beat] - chord.symbol.length;\n\t\t\tchord.spacesAfter = 0;\n\n\t\t\tif (chord.beat !== bar.timeSignature.beatCount) {\n\t\t\t\tchord.spacesAfter = spacesAfterDefault;\n\n\t\t\t\tfor (let i = (chord.beat + 1); i < (chord.beat + chord.duration); i++) {\n\t\t\t\t\tbeatMaxWidth = maxBeatsWidth[barIndex][i];\n\n\t\t\t\t\tchord.spacesAfter += (beatMaxWidth)\n\t\t\t\t\t\t? beatMaxWidth\n\t\t\t\t\t\t: emptyBeatSpaces;\n\n\t\t\t\t\tif (i !== bar.timeSignature.beatCount && beatMaxWidth) {\n\t\t\t\t\t\tchord.spacesAfter += spacesAfterDefault;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\treturn chordLine;\n}\n","import _cloneDeep from 'lodash/cloneDeep';\nimport _invert from 'lodash/invert';\n\nconst notes = [\n\t'C',\n\t'C#',\n\t'D',\n\t'D#',\n\t'E',\n\t'F',\n\t'F#',\n\t'G',\n\t'G#',\n\t'A',\n\t'A#',\n\t'B',\n];\n\nconst sharpsToFlats = {\n\t'C#': 'Db',\n\t'D#': 'Eb',\n\t'F#': 'Gb',\n\t'G#': 'Ab',\n\t'A#': 'Bb',\n};\n\nconst flatsToSharps = _invert(sharpsToFlats);\n\nfunction convertToSharp(note) {\n\treturn flatsToSharps[note] || note;\n}\n\nfunction transposeNote(note, value, useFlats) {\n\tconst noteIndex = notes.indexOf(note);\n\tconst transposedIndex = noteIndex + value;\n\n\tconst octaves = Math.floor(transposedIndex / 12);\n\tconst correctedTransposedIndex = transposedIndex - (octaves * 12);\n\n\tconst transposed = notes[correctedTransposedIndex];\n\n\treturn (useFlats)\n\t\t? sharpsToFlats[transposed] || transposed\n\t\t: transposed;\n}\n\nexport default function transposeChord(chord, value, useFlats) {\n\tconst transposedChord = _cloneDeep(chord); // check immutability\n\n\tconst root = transposedChord.symbol.rootNote;\n\tconst bass = transposedChord.symbol.bassNote;\n\n\tconst rootSharp = convertToSharp(root);\n\ttransposedChord.symbol.rootNote = transposeNote(rootSharp, value, useFlats);\n\n\tif (bass) {\n\t\tconst bassSharp = convertToSharp(bass);\n\t\ttransposedChord.symbol.bassNote = transposeNote(bassSharp, value, useFlats);\n\t}\n\n\treturn transposedChord;\n}\n","import _cloneDeep from 'lodash/cloneDeep';\nimport transposeChord from './transposeChord';\nimport getMainAccidental from '../helpers/getMainAccidental';\n\nimport { forEachChordInSong } from '../../parser/helper/songs';\n\n/**\n * @param {SongLine[]} allLines\n * @param {SongChord[]} allChords\n * @param transposeValue\n * @param accidentalsType\n * @param harmonizeAccidentals\n * @returns {SongLine[]} - with added transposedModel property on each chord if needed\n */\nexport default function transposeSong(allLines, allChords, {\n\ttransposeValue = 0,\n\taccidentalsType = 'auto',\n\tharmonizeAccidentals = true\n} = {}) {\n\tlet transposed = _cloneDeep(allLines);\n\n\tlet accidental = (accidentalsType === 'auto')\n\t\t? getMainAccidental(allChords)\n\t\t: accidentalsType;\n\n\tif (harmonizeAccidentals || transposeValue !== 0) {\n\t\ttransposed = forEachChordInSong(transposed, (chord) => {\n\t\t\tchord.transposedModel = transposeChord(\n\t\t\t\tchord.model,\n\t\t\t\ttransposeValue,\n\t\t\t\taccidental === 'flat'\n\t\t\t);\n\t\t});\n\t}\n\n\treturn transposed;\n}\n","/**\n * Returns the most used accidental of a song.\n *\n * @param {SongChord[]} allChords\n * @returns {('flat'|'sharp')}\n */\nexport default function getMainAccidental(allChords) {\n\tlet rootNote = '';\n\tlet flatCount = 0;\n\tlet sharpCount = 0;\n\n\tallChords.forEach(chord => {\n\t\trootNote = chord.model.symbol.rootNote;\n\n\t\tif (rootNote.length === 2) {\n\t\t\tlet accidental = rootNote[1];\n\n\t\t\tif (accidental === 'b') {\n\t\t\t\tflatCount += chord.occurrences;\n\t\t\t} else {\n\t\t\t\tsharpCount += chord.occurrences;\n\t\t\t}\n\t\t}\n\t});\n\n\treturn (flatCount > sharpCount) ? 'flat' : 'sharp';\n}\n","import _isFinite from 'lodash/isFinite';\n\nimport renderChord from './renderChordSymbol';\nimport barContentTpl from './tpl/barContent.hbs';\n\nconst space = ' ';\n\nconst defaultSpacesWithin = 0;\nconst defaultSpacesAfter = 2;\n\n/**\n * @param {Bar} bar\n * @returns {String} rendered html\n */\nexport default function renderBarContent(bar) {\n\tlet spacesWithin = 0;\n\tlet spacesAfter = 0;\n\n\tconst barContent = bar.allChords.reduce((rendering, chord) => {\n\t\tspacesWithin = _isFinite(chord.spacesWithin) ? chord.spacesWithin : defaultSpacesWithin;\n\t\tspacesAfter = _isFinite(chord.spacesAfter) ? chord.spacesAfter : defaultSpacesAfter;\n\n\t\trendering +=\n\t\t\trenderChord(chord.symbol) +\n\t\t\tspace.repeat(spacesWithin) +\n\t\t\tspace.repeat(spacesAfter);\n\n\t\treturn rendering;\n\t}, '');\n\n\treturn barContentTpl({ barContent });\n}\n","import chordSymbolTpl from './tpl/chordSymbol.hbs';\n\n/**\n * @param {String} chordSymbol\n * @returns {String} rendered html\n */\nexport default function renderChordSymbol (chordSymbol) {\n\treturn chordSymbolTpl({ chordSymbol });\n}\n","import { Chords } from 'momo-chords';\n\nconst chords = new Chords();\n\n/**\n * @param {ChordDef} chordDef\n * @returns {string}\n */\nexport default function(chordDef) {\n\treturn chords.print(chordDef.symbol);\n}","import getMaxBeatsWidth from '../spacers/chord/getMaxBeatsWidth';\n\nimport simpleChordSpacer from '../spacers/chord/simple';\nimport alignedChordSpacer from '../spacers/chord/aligned';\n\nimport transposeSong from '../modifiers/transposeSong';\nimport { forEachChordInSong } from '../../parser/helper/songs';\n\nimport renderChordLine from './renderChordLine';\nimport renderTextLine from './renderTextLine';\n\nimport songTpl from './tpl/song.hbs';\nimport getChordSymbol from '../helpers/getChordSymbol';\n\n/**\n * @param {Song} parsedSong\n * @param {Boolean} alignBars\n * @param {Number} transposeValue\n * @param {('auto'|'flat'|'sharp')} accidentalsType\n * @param {Boolean} harmonizeAccidentals\n * @returns {String} rendered HTML\n */\nexport default function renderSong(parsedSong, {\n\talignBars = false,\n\ttransposeValue = 0,\n\taccidentalsType = 'auto',\n\tharmonizeAccidentals = true\n} = {}) {\n\tlet { allLines, allChords } = parsedSong;\n\n\tallLines = transposeSong(allLines, allChords,  {\n\t\ttransposeValue,\n\t\taccidentalsType,\n\t\tharmonizeAccidentals\n\t});\n\tallLines = forEachChordInSong(allLines, (chord) => {\n\t\tchord.symbol = (chord.transposedModel)\n\t\t\t? getChordSymbol(chord.transposedModel)\n\t\t\t: getChordSymbol(chord.model);\n\t});\n\n\tconst maxBeatsWidth = getMaxBeatsWidth(allLines);\n\n\tconst song = allLines\n\t\t.map(line => {\n\t\t\tif (line.type === 'chord') {\n\t\t\t\tconst spaced = (alignBars)\n\t\t\t\t\t? alignedChordSpacer(line.model, maxBeatsWidth)\n\t\t\t\t\t: simpleChordSpacer(line.model);\n\n\t\t\t\tline.rendered = renderChordLine(spaced);\n\n\t\t\t} else if (line.type === 'text') {\n\t\t\t\tline.rendered = renderTextLine(line.string);\n\t\t\t}\n\t\t\treturn line;\n\t\t})\n\t\t.filter(line => line.rendered)\n\t\t.map(line => line.rendered)\n\t\t.join('\\n');\n\n\treturn songTpl({ song });\n}\n\n\n","/**\n * @param {SongLine[]} allLines\n * @returns {Array}\n */\nexport default function getMaxBeatsWidth(allLines) {\n\tconst maxBeatsWidth = [];\n\n\tallLines\n\t\t.filter(line => line.type === 'chord')\n\t\t.forEach(line => {\n\t\t\tline.model.allBars.forEach((bar, barIndex) => {\n\t\t\t\tif (!maxBeatsWidth[barIndex]) {\n\t\t\t\t\tmaxBeatsWidth[barIndex] = {};\n\n\t\t\t\t\tfor (let i = 1; i <= bar.timeSignature.beatCount; i++) {\n\t\t\t\t\t\tmaxBeatsWidth[barIndex][i] = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbar.allChords.forEach(chord => {\n\t\t\t\t\tmaxBeatsWidth[barIndex][chord.beat] = Math.max(\n\t\t\t\t\t\tmaxBeatsWidth[barIndex][chord.beat],\n\t\t\t\t\t\tchord.symbol.length\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\n\treturn maxBeatsWidth;\n}\n","import chordLineTpl from './tpl/chordLine.hbs';\n\nimport renderBarContent from './renderBarContent';\nimport barSeparatorTpl from './tpl/barSeparator.hbs';\n\n/**\n * @param {ChordLine} chordLineModel\n * @returns {String} rendered html\n */\nexport default function renderChordLine(chordLineModel) {\n\tconst allBarsRendered = chordLineModel.allBars\n\t\t.map(bar => renderBarContent(bar));\n\n\tconst barSeparator = barSeparatorTpl();\n\n\tconst chordLine = barSeparator +\n\t\tallBarsRendered.join(barSeparator) +\n\t\tbarSeparator;\n\n\treturn chordLineTpl({ chordLine });\n}\n","import textLineTpl from './tpl/textLine.hbs';\n\n/**\n * @param {String} textLine\n * @returns {String} rendered html\n */\nexport default function render(textLine) {\n\treturn textLineTpl({ textLine });\n}\n","import { renderSong as renderSongUcc, parseSong } from '@touffi/ucc';\n\nexport default function renderSong(songTxt, renderOptions) {\n\tconst parsed = parseSong(songTxt);\n\treturn renderSongUcc(parsed, renderOptions);\n}\n","import './SongRenderer.scss';\n\nimport _pick from 'lodash/pick';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport renderSong from '../../core/renderSong';\n\nfunction SongRenderer(props) {\n\tconst {\n\t\tcontent\n\t} = props;\n\n\tconst renderOptions = _pick(props, [\n\t\t'alignBars',\n\t\t'harmonizeAccidentals',\n\t\t'preferredAccidentals',\n\t\t'transposeValue'\n\t]);\n\n\treturn (\n\t\t<div className={'songRenderer'}>\n\t\t\t<div dangerouslySetInnerHTML={{ __html: renderSong(content, renderOptions) }} />\n\t\t</div>\n\t);\n}\n\nSongRenderer.propTypes = {\n\tcontent: PropTypes.string\n};\n\nSongRenderer.defaultProps = {\n\tcontent: ''\n};\n\nexport default SongRenderer;\n","import { connect } from 'react-redux';\n\nimport { getOptionValue } from '../../db/options/selectors';\n\nimport SongRenderer from '../_components/SongRenderer';\n\nexport default connect(\n\tstate => ({\n\t\taccidentalsType: getOptionValue(state, 'rendering', 'preferredAccidentals'),\n\t\talignBars: getOptionValue(state, 'rendering', 'alignBars'),\n\t\tharmonizeAccidentals: getOptionValue(state, 'rendering', 'harmonizeAccidentals'),\n\t\ttransposeValue: getOptionValue(state, 'rendering', 'transposeValue'),\n\t})\n)(SongRenderer);\n","import './EditorPreview.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport SongRenderer from '../../_containers/SongRenderer';\n\nfunction EditorPreview(props) {\n\tconst { selectedFile } = props;\n\n\treturn (\n\t\t<div className={'ep-SongRenderer'}>\n\t\t\t<SongRenderer content={selectedFile.content} />\n\t\t</div>\n\t);\n}\n\nEditorPreview.propTypes = {\n\tselectedFile: PropTypes.object.isRequired,\n};\n\nexport default EditorPreview;\n","import { Schema } from 'prosemirror-model';\nimport { nodes, marks } from 'prosemirror-schema-basic';\n\nconst editorSchema = new Schema({\n\tnodes: nodes,\n\tmarks: marks\n});\n\nexport default editorSchema;","/**\n * Convert a proseMirror state to plain text\n */\nexport default function stateToText(state) {\n\tconst json = state.toJSON();\n\n\treturn json.doc.content\n\t\t.map(paragraph => {\n\t\t\tif (!paragraph.content) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\treturn paragraph.content.reduce((acc, current) => {\n\t\t\t\tacc += current.text;\n\t\t\t\treturn acc;\n\t\t\t}, '');\n\t\t})\n\t\t.join('\\n');\n}\n","import domPurify from 'dompurify';\n\n/**\n * Minimal wrapper around DOMPurify library.\n * Pretty drastic also: anything that is HTML is just simply ignored, including text content of tags.\n *\n * @param {String} dirty\n * @returns {String} clean HTML\n */\nexport default function toSafeHtml(dirty) {\n\tconst config = {\n\t\tALLOWED_TAGS: ['p', '#text'],\n\t\tKEEP_CONTENT: false,\n\t};\n\n\treturn domPurify.sanitize(dirty, config);\n}\n","import './ProsemirrorEditorView.scss';\n\nimport React, { useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { EditorState } from 'prosemirror-state';\nimport { EditorView } from 'prosemirror-view';\nimport { DOMParser as pmDOMParser } from 'prosemirror-model';\n\nimport getPlugins from './getPlugins';\nimport editorSchema from './schema';\n\nimport stateToText from './converters/stateToText';\nimport textToDom from './converters/textToDom';\n\nimport 'prosemirror-view/style/prosemirror.css';\n\n\nfunction createEditorState(editorContent) {\n\treturn EditorState.create({\n\t\tdoc: pmDOMParser.fromSchema(editorSchema).parse(textToDom(editorContent), { preserveWhitespace: 'full' }),\n\t\tplugins: getPlugins()\n\t});\n}\n\nfunction createEditorView(editorState, updateFile, fileId) {\n\treturn new EditorView(null, {\n\t\tstate: editorState,\n\t\tdispatchTransaction: function dispatchTransaction(transaction) {\n\t\t\tconst { state, transactions } = this.state.applyTransaction(transaction);\n\n\t\t\tthis.updateState(state);\n\n\t\t\tif (transactions.some(tr => tr.docChanged)) {\n\t\t\t\tupdateFile(fileId, { content: stateToText(state) });\n\t\t\t}\n\t\t},\n\t});\n}\n\nfunction ProseMirrorEditorView(props) {\n\tconst { selectedFileId, editorContent, updateFile } = props;\n\n\tconst editorView = useRef();\n\tconst editorDom = useRef();\n\tconst previousFileId = usePrevious(selectedFileId);\n\n\t/**\n\t * Editor is recreated on component mount and on file change.\n\t * The later is needed as we need to to re-bind the change handler with the new file id.\n\t */\n\tfunction shouldCreateEditor() {\n\t\treturn selectedFileId && (!editorView.current || (previousFileId !== selectedFileId));\n\t}\n\n\t// Editor has been previously created, but now no file is selected anymore\n\tfunction isEditorOrphan() {\n\t\treturn editorExists() && !selectedFileId;\n\t}\n\n\tfunction editorExists() {\n\t\treturn editorView.current && editorView.current.dom.parentNode;\n\t}\n\n\tfunction destroyEditor() {\n\t\teditorView.current.dom.parentNode.removeChild(editorView.current.dom);\n\t}\n\n\tuseEffect(() => {\n\t\tif (shouldCreateEditor()) {\n\t\t\tif (editorExists()) {\n\t\t\t\tdestroyEditor();\n\t\t\t}\n\n\t\t\tconst editorState = createEditorState(editorContent);\n\t\t\teditorView.current = createEditorView(editorState, updateFile, selectedFileId);\n\t\t\teditorDom.current.appendChild(editorView.current.dom);\n\n\t\t\t// expose editor instance as a component property for unit tests\n\t\t\tProseMirrorEditorView.editorView = editorView.current;\n\n\t\t} else if (isEditorOrphan()) {\n\t\t\tdestroyEditor();\n\t\t}\n\t});\n\n\treturn (\n\t\t<div className={'prosemirrorWrapper'} ref={editorDom} />\n\t);\n}\n\nProseMirrorEditorView.defaultProps = {\n\tselectedFileId: '',\n\teditorContent: '',\n};\n\nProseMirrorEditorView.propTypes = {\n\tselectedFileId: PropTypes.string,\n\teditorContent: PropTypes.string,\n\tupdateFile: PropTypes.func.isRequired,\n};\n\nexport default ProseMirrorEditorView;\n\n\n// @see https://reactjs.org/docs/hooks-faq.html#how-to-get-the-previous-props-or-state\nfunction usePrevious(value) {\n\tconst ref = useRef();\n\tuseEffect(() => {\n\t\tref.current = value;\n\t});\n\treturn ref.current;\n}\n","import escapeHTML from './toSafeHtml';\n\n/**\n * @param {String} text\n * @returns {HTMLElement}\n */\nexport default function textToDom(text) {\n\tconst html = escapeHTML(text)\n\t\t.split('\\n')\n\t\t.map(line => `<p>${line}</p>`)\n\t\t.join('');\n\n\tconst div = document.createElement('div');\n\tdiv.innerHTML = escapeHTML(html);\n\n\treturn div;\n}\n","import { keymap } from 'prosemirror-keymap';\nimport { baseKeymap } from 'prosemirror-commands';\nimport { undo, redo, history as pmHistory } from 'prosemirror-history';\n\nexport default function getPlugins() {\n\treturn [\n\t\tpmHistory(),\n\t\tkeymap({ 'Mod-z': undo, 'Mod-y': redo }),\n\t\tkeymap(baseKeymap),\n\t];\n}\n","import './EditorLayout.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport EditorPreview from '../../../songRenderers/editorPreview/_components/EditorPreview';\nimport ProseMirrorEditorView from '../prosemirror/ProsemirrorEditorView';\n\nfunction EditorLayout(props) {\n\tconst { selectedFile, updateFile } = props;\n\n\treturn (\n\t\t<div className={'songEditor'}>\n\t\t\t<div className={'songEditor-source'}>\n\t\t\t\t<ProseMirrorEditorView\n\t\t\t\t\teditorContent={selectedFile.content}\n\t\t\t\t\tupdateFile={updateFile}\n\t\t\t\t\tselectedFileId={selectedFile.id}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className={'songEditor-preview'}>\n\t\t\t\t<EditorPreview\n\t\t\t\t\tselectedFile={selectedFile}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nEditorLayout.propTypes = {\n\tselectedFile: PropTypes.object,\n\tupdateFile: PropTypes.func.isRequired,\n};\n\nexport default EditorLayout;\n","import './ExportPreview.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport SongRenderer from '../../_containers/SongRenderer';\n\nfunction ExportPreview(props) {\n\tconst { selectedFile } = props;\n\n\treturn (\n\t\t<div className={'exportPreview exp-SongRenderer'}>\n\t\t\t<SongRenderer content={selectedFile.content} />\n\t\t</div>\n\t);\n}\n\nExportPreview.propTypes = {\n\tselectedFile: PropTypes.object.isRequired,\n};\n\nexport default ExportPreview;\n","import './PlayRenderer.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport SongRenderer from '../../_containers/SongRenderer';\n\nfunction PlayRenderer(props) {\n\tconst { selectedFile } = props;\n\n\treturn (\n\t\t<div className={'playRenderer pr-SongRenderer'}>\n\t\t\t<SongRenderer content={selectedFile.content} />\n\t\t</div>\n\t);\n}\n\nPlayRenderer.propTypes = {\n\tselectedFile: PropTypes.object.isRequired,\n};\n\nexport default PlayRenderer;\n","import './PrintPreview.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport SongRenderer from '../../_containers/SongRenderer';\n\nfunction PrintPreview(props) {\n\tconst { selectedFile } = props;\n\n\treturn (\n\t\t<div className={'printPreview'}>\n\t\t\t<div className={'printPreview-page pp-SongRenderer'}>\n\t\t\t\t<SongRenderer content={selectedFile.content} />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nPrintPreview.propTypes = {\n\tselectedFile: PropTypes.object.isRequired,\n};\n\nexport default PrintPreview;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport EditorLayout from '../songEditor/_components/EditorLayout';\nimport ExportPreview from '../../songRenderers/exportPreview/_components/ExportPreview';\nimport PlayRenderer from '../../songRenderers/playRenderer/_components/PlayRenderer';\nimport PrintPreview from '../../songRenderers/printPreview/_components/PrintPreview';\n\nfunction Editor(props) {\n\tconst { editorMode } = props;\n\n\tswitch (editorMode) {\n\t\tcase 'edit': return <EditorLayout {...props} />;\n\t\tcase 'play': return <PlayRenderer {...props} />;\n\t\tcase 'print': return <PrintPreview {...props} />;\n\t\tcase 'export': return <ExportPreview {...props} />;\n\t}\n}\n\nEditor.propTypes = {\n\teditorMode: PropTypes.string.isRequired,\n};\n\nexport default Editor;\n","import { connect } from 'react-redux';\n\nimport { getSelectedId } from '../../fileManager/_state/selectors';\nimport { getEditorMode } from '../../ui/layout/app/_state/selectors';\n\nimport { getOne } from '../../db/files/selectors';\nimport { updateFile } from '../../db/files/actions';\n\nimport Editor from '../_components/Editor';\n\nexport default connect(\n\tstate => ({\n\t\tselectedFile: getOne(state, getSelectedId(state)) || {},\n\t\teditorMode: getEditorMode(state),\n\t}),\n\n\t{\n\t\tupdateFile\n\t}\n\n)(Editor);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction OptionsPanel(props) {\n\tconst {\n\t\tid,\n\t\tallWidgets,\n\t\tnonInteractableWidgets,\n\t\thiddenWidgets,\n\t\tsetOption,\n\t\tgetEntryComponent,\n\t} = props;\n\n\tconst classNames = [\n\t\t'optionsPanel',\n\t\t'optionsPanel-' + id\n\t];\n\n\tlet widget, groupWidget;\n\n\tlet WidgetComponent, GroupComponent;\n\tlet isGroupInteractable, isGroupWidgetInteractable;\n\n\tlet renderedGroupWidgets;\n\n\tconst renderedWidgets = allWidgets.widgetsOrder\n\t\t.filter(widgetId => {\n\t\t\treturn !(hiddenWidgets.includes(widgetId));\n\t\t})\n\t\t.map(widgetId => {\n\t\t\twidget = allWidgets.allWidgets[widgetId];\n\n\t\t\tif (widget.type === 'optionsGroup') {\n\t\t\t\trenderedGroupWidgets = widget.groupWidgetsOrder\n\t\t\t\t\t.filter(groupWidgetId => {\n\t\t\t\t\t\treturn !(hiddenWidgets.includes(groupWidgetId));\n\t\t\t\t\t})\n\t\t\t\t\t.map(groupWidgetId => {\n\t\t\t\t\t\tgroupWidget = widget.allGroupWidgets[groupWidgetId];\n\n\t\t\t\t\t\tisGroupWidgetInteractable = !(nonInteractableWidgets.includes(widgetId)) && !(nonInteractableWidgets.includes(groupWidgetId));\n\n\t\t\t\t\t\treturn renderWidget(\n\t\t\t\t\t\t\tgroupWidgetId,\n\t\t\t\t\t\t\tgroupWidget,\n\t\t\t\t\t\t\tisGroupWidgetInteractable\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\n\t\t\t\tGroupComponent = getEntryComponent(widget.type);\n\t\t\t\tisGroupInteractable = !(nonInteractableWidgets.includes(widgetId));\n\n\t\t\t\treturn (\n\t\t\t\t\t<GroupComponent\n\t\t\t\t\t\tkey={widgetId}\n\t\t\t\t\t\tisInteractable={isGroupInteractable}\n\t\t\t\t\t\tlabel={widget.label}\n\t\t\t\t\t\ticon={widget.icon}\n\t\t\t\t\t>\n\t\t\t\t\t\t{renderedGroupWidgets}\n\t\t\t\t\t</GroupComponent>\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\treturn renderWidget(\n\t\t\t\t\twidgetId,\n\t\t\t\t\twidget,\n\t\t\t\t\t!(nonInteractableWidgets.includes(widgetId))\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\n\tfunction renderWidget(widgetId, localWidget, isInteractable) {\n\t\tWidgetComponent = getEntryComponent(localWidget.type);\n\n\t\treturn (\n\t\t\t<WidgetComponent\n\t\t\t\tkey={widgetId}\n\t\t\t\tisInteractable={isInteractable}\n\n\t\t\t\toptionContext={localWidget.option.context}\n\t\t\t\toptionKey={localWidget.option.key}\n\t\t\t\toptionValue={props[localWidget.option.key]}\n\t\t\t\tsetOption={setOption}\n\n\t\t\t\tlabel={localWidget.label}\n\t\t\t\t{...localWidget.typeOptions}\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className={classNames.join(' ')}>\n\t\t\t{renderedWidgets}\n\t\t</div>\n\t);\n}\n\nOptionsPanel.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tallWidgets: PropTypes.object.isRequired,\n\tnonInteractableWidgets: PropTypes.arrayOf(PropTypes.string).isRequired,\n\thiddenWidgets: PropTypes.arrayOf(PropTypes.string).isRequired,\n\tsetOption: PropTypes.func.isRequired,\n\tgetEntryComponent: PropTypes.func.isRequired,\n};\n\nexport default OptionsPanel;\n","import './OptionsGroup.scss';\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../../_components/Icon';\n\nfunction OptionsGroup(props) {\n\tconst [ isOpened, setIsOpened ] = useState(props.isOpened);\n\n\tconst {\n\t\tisInteractable,\n\t\ticon,\n\t\tlabel\n\t} = props;\n\n\tconst classNames = ['sb-optionsGroup'];\n\tif (!shouldBeInteractable()) {\n\t\tclassNames.push('sb-optionsGroup-isNotInteractable');\n\t}\n\n\tif (shouldBeClosed()) {\n\t\tsetIsOpened(false);\n\t}\n\n\tfunction shouldBeInteractable() {\n\t\treturn isInteractable && props.children && props.children.length > 0;\n\t}\n\n\tfunction shouldBeClosed() {\n\t\treturn isOpened && (!props.children || props.children.length === 0);\n\t}\n\n\tfunction handleClick() {\n\t\tsetIsOpened(!isOpened);\n\t}\n\n\treturn (\n\t\t<div className={classNames.join(' ')}>\n\t\t\t<div\n\t\t\t\tclassName={'sb-optionsGroup-title'}\n\t\t\t\tonClick={(shouldBeInteractable()) ? handleClick : null}\n\t\t\t>\n\t\t\t\t<div className={'sb-optionsGroup-label'}>\n\t\t\t\t\t<span className={'sb-optionsGroup-iconTitle'}><Icon iconName={icon} /></span> {label}\n\t\t\t\t</div>\n\t\t\t\t<div className={'sb-optionsGroup-toggle'}>\n\t\t\t\t\t<span className={'sb-optionsGroup-iconToggle'}>\n\t\t\t\t\t\t<Icon iconName={(isOpened) ? 'unfold_less' : 'unfold_more' } />\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className={'sb-optionsGroup-content'}>\n\t\t\t\t{isOpened && props.children}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nOptionsGroup.propTypes = {\n\tisOpened: PropTypes.bool,\n\tisInteractable: PropTypes.bool.isRequired,\n\ticon: PropTypes.string.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\tchildren: PropTypes.arrayOf(PropTypes.element),\n};\n\nOptionsGroup.defaultProps = {\n\tisOpened: false,\n};\n\nexport default OptionsGroup;\n","import './Select.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../../_components/Icon';\n\nfunction SelectChoice(props) {\n\tconst {\n\t\tisSelected,\n\t\tlabel,\n\t\tonClick\n\t} = props;\n\n\tlet checkIcon;\n\tconst classNames = ['sb-optionSelectChoice'];\n\n\tif (isSelected) {\n\t\tclassNames.push('sb-optionSelectChoice-isSelected');\n\t\tcheckIcon = (\n\t\t\t<span className={'sb-optionSelectChoice-checkIcon'}>\n\t\t\t\t<Icon iconName={'check'} />\n\t\t\t</span>\n\t\t);\n\t}\n\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames.join(' ')}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t<div className={'sb-optionSelectChoice-check'}>\n\t\t\t\t{isSelected && checkIcon}\n\t\t\t</div>\n\t\t\t<div className={'sb-optionSelectChoice-label'}>\n\t\t\t\t{label}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nSelectChoice.propTypes = {\n\tisSelected: PropTypes.bool.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\tonClick: PropTypes.func.isRequired,\n};\n\nexport default React.memo(SelectChoice);\n\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport SelectChoice from './SelectChoice';\n\nimport Icon from '../../../_components/Icon';\n\nfunction Select(props) {\n\tconst [ isOpen, setIsOpen ] = useState(false);\n\n\tconst {\n\t\tisInteractable,\n\t\tlabel,\n\t\tallChoices,\n\t\toptionContext,\n\t\toptionKey,\n\t\toptionValue,\n\t\tsetOption\n\t} = props;\n\n\tconst classNames = ['sb-optionSelect'];\n\tif (!isInteractable) {\n\t\tclassNames.push('sb-optionSelect-isNotInteractable');\n\t}\n\n\tconst iconName = (isOpen) ? 'keyboard_arrow_down' : 'keyboard_arrow_right';\n\n\tfunction toggleChoices() {\n\t\tsetIsOpen(!isOpen);\n\t}\n\n\tconst renderedChoices = (!isOpen)\n\t\t? null\n\t\t: (\n\t\t\t<div className={'sb-optionSelect-choices'}>\n\t\t\t\t{allChoices.map(choice =>\n\t\t\t\t\t<SelectChoice\n\t\t\t\t\t\tkey={choice.value}\n\t\t\t\t\t\tlabel={choice.label}\n\t\t\t\t\t\tisSelected={(optionValue === choice.value)}\n\t\t\t\t\t\tonClick={() => setOption(optionContext, optionKey, choice.value)}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\n\n\treturn (\n\t\t<div className={classNames.join(' ')}>\n\t\t\t<div\n\t\t\t\tclassName={'sb-optionSelect-title'}\n\t\t\t\tonClick={(isInteractable) ? toggleChoices : null}\n\t\t\t>\n\t\t\t\t<div className={'sb-optionSelect-desc'}>{label}</div>\n\t\t\t\t<div className={'sb-optionSelect-toggle'}>\n\t\t\t\t\t<span className={'sb-optionSelect-icon'}>\n\t\t\t\t\t\t<Icon iconName={iconName} />\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{renderedChoices}\n\t\t</div>\n\t);\n}\n\nSelect.propTypes = {\n\tisInteractable: PropTypes.bool.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\tallChoices: PropTypes.array.isRequired,\n\toptionContext: PropTypes.string.isRequired,\n\toptionKey: PropTypes.string.isRequired,\n\toptionValue: PropTypes.string.isRequired,\n\tsetOption: PropTypes.func.isRequired\n};\n\nexport default Select;\n","import './Slider.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Slider(props) {\n\tconst {\n\t\tisInteractable,\n\t\tlabel,\n\t\tmin,\n\t\tmax,\n\t\tshowPlusSymbol,\n\t\toptionContext,\n\t\toptionKey,\n\t\toptionValue,\n\t\tsetOption\n\t} = props;\n\n\tconst classNames = ['sb-optionSlider'];\n\tif (!isInteractable) {\n\t\tclassNames.push('sb-optionSlider-isNotInteractable');\n\t}\n\n\tfunction handleChange(e) {\n\t\tsetOption(\n\t\t\toptionContext,\n\t\t\toptionKey,\n\t\t\tNumber.parseInt(e.target.value)\n\t\t);\n\t}\n\n\tconst valueDisplay = (optionValue > 0 && showPlusSymbol)\n\t\t? '+' + optionValue\n\t\t: optionValue;\n\n\treturn (\n\t\t<div className={classNames.join(' ')}>\n\t\t\t<div className={'sb-optionSlider-desc'}>{label}</div>\n\t\t\t<div className={'sb-optionSlider-value'}>{valueDisplay}</div>\n\t\t\t<div className={'sb-optionSlider-range'}>\n\t\t\t\t<input\n\t\t\t\t\tmin={min}\n\t\t\t\t\tmax={max}\n\t\t\t\t\tvalue={optionValue}\n\t\t\t\t\ttype={'range'}\n\t\t\t\t\tonChange={(isInteractable) ? handleChange : null}\n\t\t\t\t\tdisabled={!isInteractable}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nSlider.propTypes = {\n\tisInteractable: PropTypes.bool.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\tmin: PropTypes.number.isRequired,\n\tmax: PropTypes.number.isRequired,\n\tshowPlusSymbol: PropTypes.bool,\n\toptionContext: PropTypes.string.isRequired,\n\toptionKey: PropTypes.string.isRequired,\n\toptionValue: PropTypes.number.isRequired,\n\tsetOption: PropTypes.func.isRequired,\n};\n\nSlider.defaultProps = {\n\tshowPlusSymbol: true\n};\n\nexport default React.memo(Slider);\n","import './Toggle.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../../_components/Icon';\n\nfunction Toggle(props) {\n\tconst {\n\t\tisInteractable,\n\t\tlabel,\n\t\toptionContext,\n\t\toptionKey,\n\t\toptionValue,\n\t\tsetOption\n\t} = props;\n\n\tconst classNames = ['sb-optionToggle'];\n\tclassNames.push(\n\t\t(optionValue === true) ? 'sb-optionToggle-isOn' : 'sb-optionToggle-isOff'\n\t);\n\tif (!isInteractable) {\n\t\tclassNames.push('sb-optionToggle-isNotInteractable');\n\t}\n\n\tfunction handleClick() {\n\t\tsetOption(optionContext, optionKey, !optionValue);\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames.join(' ')}\n\t\t\tonClick={(isInteractable) ? handleClick : null}\n\t\t>\n\t\t\t<div className={'sb-optionToggle-desc'}>{label}</div>\n\t\t\t<div className={'sb-optionToggle-icon'}>\n\t\t\t\t<span className={'sb-optionToggle-icon'}>\n\t\t\t\t\t<Icon iconName={(optionValue === true) ? 'toggle_on' : 'toggle_off' } />\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nToggle.propTypes = {\n\tisInteractable: PropTypes.bool.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\toptionContext: PropTypes.string.isRequired,\n\toptionKey: PropTypes.string.isRequired,\n\toptionValue: PropTypes.bool.isRequired,\n\tsetOption: PropTypes.func.isRequired,\n};\n\nexport default React.memo(Toggle);\n","import './SidebarOptionsPanel.scss';\n\nimport React from 'react';\n\nimport OptionPanel from '../../../../optionsPanels/_components/OptionsPanel';\n\nimport OptionsGroup from './OptionsGroup';\nimport Select from './Select';\nimport Slider from './Slider';\nimport Toggle from './Toggle';\n\n\nfunction getEntryComponent(type) {\n\tswitch (type) {\n\t\tcase 'optionsGroup': return OptionsGroup;\n\t\tcase 'select': return Select;\n\t\tcase 'slider': return Slider;\n\t\tcase 'toggle': return Toggle;\n\t}\n}\n\nexport default function SidebarOptionPanel(props) {\n\treturn (\n\t\t<div className={'sb-optionsPanel'}>\n\t\t\t<OptionPanel\n\t\t\t\t{...props}\n\t\t\t\tgetEntryComponent={getEntryComponent}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n","import createAction from '../../core/createAction';\nimport * as actionTypes from './actionsTypes';\n\n\nexport const setOptionValue = (context, key, value) => {\n\tif (!context) {\n\t\tthrow new TypeError('Cannot set an option without a context');\n\t}\n\tif (!key) {\n\t\tthrow new TypeError('Cannot set an option without a key');\n\t}\n\tconst payload = {\n\t\tcontext,\n\t\tkey,\n\t\tvalue\n\t};\n\treturn createAction(actionTypes.DB_OPTION_SET_OPTION_VALUE, payload);\n};\n\n","/* eslint-disable max-lines */\nexport default {\n\twidgetsOrder: [\n\t\t'style',\n\t\t'alignBars',\n\n\t\t'layout',\n\t\t'helpers',\n\t\t'chords',\n\t\t'format',\n\t],\n\n\tallWidgets: {\n\t\tstyle: {\n\t\t\tlabel: 'Rendering style',\n\t\t\ttype: 'select',\n\t\t\ttypeOptions: {\n\t\t\t\tallChoices: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'styleUcc',\n\t\t\t\t\t\tlabel: 'UCC',\n\t\t\t\t\t\tvalue: 'ucc'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'styleChordpro',\n\t\t\t\t\t\tlabel: 'ChordPro',\n\t\t\t\t\t\tvalue: 'chordpro'\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t\toption: {\n\t\t\t\tcontext: 'rendering',\n\t\t\t\tkey: 'style'\n\t\t\t},\n\t\t},\n\t\talignBars: {\n\t\t\tlabel: 'Align bars',\n\t\t\ttype: 'toggle',\n\t\t\toption: {\n\t\t\t\tcontext: 'rendering',\n\t\t\t\tkey: 'alignBars'\n\t\t\t},\n\t\t},\n\n\n\n\t\tlayout: {\n\t\t\ttype: 'optionsGroup',\n\t\t\tlabel: 'Layout',\n\t\t\ticon: 'view_compact',\n\n\t\t\tgroupWidgetsOrder: [\n\t\t\t\t'documentSize',\n\t\t\t\t'columnsCount',\n\t\t\t\t'columnBreakOnParagraph',\n\t\t\t],\n\t\t\tallGroupWidgets: {\n\t\t\t\tdocumentSize: {\n\t\t\t\t\tlabel: 'Document size',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tallChoices: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'documentSizeA4',\n\t\t\t\t\t\t\t\tlabel: 'A4',\n\t\t\t\t\t\t\t\tvalue: 'a4'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'documentSizeIpad',\n\t\t\t\t\t\t\t\tlabel: 'iPad',\n\t\t\t\t\t\t\t\tvalue: 'ipad'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'documentSize'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tcolumnsCount: {\n\t\t\t\t\tlabel: 'Columns',\n\t\t\t\t\ttype: 'slider',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\tmax: 3\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'columnsCount'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tcolumnBreakOnParagraph: {\n\t\t\t\t\tlabel: 'Break on paragraph',\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'columnBreakOnParagraph'\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\n\n\t\thelpers: {\n\t\t\ttype: 'optionsGroup',\n\t\t\tlabel: 'Helpers',\n\t\t\ticon: 'remove_red_eye',\n\n\t\t\tgroupWidgetsOrder: [\n\t\t\t\t'showChords',\n\t\t\t\t'instrument',\n\t\t\t\t'showStrummingPattern',\n\t\t\t],\n\n\t\t\tallGroupWidgets: {\n\t\t\t\tshowChords: {\n\t\t\t\t\tlabel: 'Show chords diagrams',\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'showChords'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tinstrument: {\n\t\t\t\t\tlabel: 'Instrument',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tallChoices: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'instrumentGuitar',\n\t\t\t\t\t\t\t\tlabel: 'Guitar',\n\t\t\t\t\t\t\t\tvalue: 'guitar'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'instrumentUkulele',\n\t\t\t\t\t\t\t\tlabel: 'Ukulele',\n\t\t\t\t\t\t\t\tvalue: 'ukulele'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'instrumentMandolin',\n\t\t\t\t\t\t\t\tlabel: 'Mandolin',\n\t\t\t\t\t\t\t\tvalue: 'mandolin'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'instrumentPiano',\n\t\t\t\t\t\t\t\tlabel: 'Piano',\n\t\t\t\t\t\t\t\tvalue: 'piano'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'instrument'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tshowStrummingPattern: {\n\t\t\t\t\tlabel: 'Show strumming pattern',\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'showStrummingPattern'\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\n\n\t\tchords: {\n\t\t\ttype: 'optionsGroup',\n\t\t\tlabel: 'Chords',\n\t\t\ticon: 'music_note',\n\n\t\t\tgroupWidgetsOrder: [\n\t\t\t\t'transposeValue',\n\t\t\t\t'simplifyChords',\n\t\t\t\t'capoPosition',\n\t\t\t\t'harmonizeAccidentals',\n\t\t\t\t'preferredAccidentals',\n\t\t\t],\n\n\t\t\tallGroupWidgets: {\n\t\t\t\ttransposeValue: {\n\t\t\t\t\tlabel: 'Transpose',\n\t\t\t\t\ttype: 'slider',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tmin: -11,\n\t\t\t\t\t\tmax: 11,\n\t\t\t\t\t\tshowPlusSymbol: true,\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'transposeValue'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tsimplifyChords: {\n\t\t\t\t\tlabel: 'Simplify chords',\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'simplifyChords'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tcapoPosition: {\n\t\t\t\t\tlabel: 'Add capo on fret',\n\t\t\t\t\ttype: 'slider',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\tmax: 11,\n\t\t\t\t\t\tshowPlusSymbol: false,\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'capoPosition'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tharmonizeAccidentals: {\n\t\t\t\t\tlabel: 'Harmonize accidentals',\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'harmonizeAccidentals'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tpreferredAccidentals: {\n\t\t\t\t\tlabel: 'Preferred accidentals',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tallChoices: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'preferredAccidentalsAuto',\n\t\t\t\t\t\t\t\tlabel: 'Auto',\n\t\t\t\t\t\t\t\tvalue: 'auto'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'preferredAccidentalsSharp',\n\t\t\t\t\t\t\t\tlabel: 'Sharp (#)',\n\t\t\t\t\t\t\t\tvalue: 'sharp'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'preferredAccidentalsFlat',\n\t\t\t\t\t\t\t\tlabel: 'Flats (b)',\n\t\t\t\t\t\t\t\tvalue: 'flat'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'preferredAccidentals'\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\n\n\t\tformat: {\n\t\t\ttype: 'optionsGroup',\n\t\t\tlabel: 'Format',\n\t\t\ticon: 'format_size',\n\n\t\t\tgroupWidgetsOrder: [\n\t\t\t\t'fontSize',\n\t\t\t\t'fontStyle',\n\t\t\t\t'highlightChords',\n\t\t\t\t'chordsColor',\n\t\t\t],\n\n\t\t\tallGroupWidgets: {\n\t\t\t\tfontSize: {\n\t\t\t\t\tlabel: 'Font size',\n\t\t\t\t\ttype: 'slider',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tmin: -5,\n\t\t\t\t\t\tmax: +5,\n\t\t\t\t\t\tshowPlusSymbol: true,\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'fontSize'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tfontStyle: {\n\t\t\t\t\tlabel: 'Font style',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tallChoices: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'fontStyleRoboto',\n\t\t\t\t\t\t\t\tlabel: 'Roboto',\n\t\t\t\t\t\t\t\tvalue: 'roboto'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'fontStyle'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\thighlightChords: {\n\t\t\t\t\tlabel: 'Highlight Chords',\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'highlightChords'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tchordsColor: {\n\t\t\t\t\tlabel: 'Chords color',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tallChoices: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'chordsColor',\n\t\t\t\t\t\t\t\tlabel: 'Black',\n\t\t\t\t\t\t\t\tvalue: 'black'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'chordsColorRed',\n\t\t\t\t\t\t\t\tlabel: 'Red',\n\t\t\t\t\t\t\t\tvalue: 'red'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'chordsColor'\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\t},\n};\n","import { connect } from 'react-redux';\n\nimport { getOptionValue } from '../../db/options/selectors';\nimport { setOptionValue } from '../../db/options/actions';\n\nexport default function OptionsPanelFactory(allWidgets, getNonInteractableWidgets, getHiddenWidgets, component) {\n\treturn connect(\n\t\tstate => {\n\t\t\tconst stateToProps = {\n\t\t\t\tallWidgets,\n\t\t\t\tnonInteractableWidgets: getNonInteractableWidgets(state),\n\t\t\t\thiddenWidgets: getHiddenWidgets(state),\n\t\t\t};\n\n\t\t\tlet widget;\n\t\t\tlet groupWidget;\n\n\t\t\tallWidgets.widgetsOrder.forEach(widgetId => {\n\t\t\t\twidget = allWidgets.allWidgets[widgetId];\n\n\t\t\t\tif (widget.type === 'optionsGroup') {\n\t\t\t\t\twidget.groupWidgetsOrder.forEach(groupWidgetId => {\n\t\t\t\t\t\tgroupWidget = widget.allGroupWidgets[groupWidgetId];\n\n\t\t\t\t\t\tstateToProps[groupWidget.option.key] = getOptionValue(state, groupWidget.option.context, groupWidget.option.key);\n\t\t\t\t\t});\n\n\t\t\t\t} else {\n\t\t\t\t\tstateToProps[widget.option.key] = getOptionValue(state, widget.option.context, widget.option.key);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn stateToProps;\n\t\t},\n\n\t\t{\n\t\t\tsetOption: setOptionValue\n\t\t}\n\n\t)(component);\n}\n\n","import Rendering from '../_components/Rendering';\nimport OptionsPanelFactory from '../../_containers/OptionsPanelFactory';\n\nimport allWidgets from '../allWidgets';\nimport { getNonInteractableWidgets, getHiddenWidgets } from '../_state/selectors';\n\nexport default OptionsPanelFactory(allWidgets, getNonInteractableWidgets, getHiddenWidgets, Rendering);\n","import { getEditorMode } from '../../../ui/layout/app/_state/selectors';\nimport { getOptionValue } from '../../../db/options/selectors';\n\nexport const getNonInteractableWidgets = (state) => {\n\tconst nonInteractableWidgets = [];\n\n\tconst editorMode = getEditorMode(state);\n\n\tswitch (editorMode) {\n\t\tcase 'edit': {\n\t\t\tnonInteractableWidgets.push('alignBars');\n\t\t\tnonInteractableWidgets.push('helpers');\n\t\t\tnonInteractableWidgets.push('layout');\n\t\t\tnonInteractableWidgets.push('style');\n\t\t\tbreak;\n\t\t}\n\t\tcase 'play': {\n\t\t\tnonInteractableWidgets.push('documentSize');\n\t\t\tbreak;\n\t\t}\n\t\tcase 'print': {\n\t\t\tbreak;\n\t\t}\n\t\tcase 'export': {\n\t\t\tnonInteractableWidgets.push('format');\n\t\t\tnonInteractableWidgets.push('layout');\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tconst style = getOptionValue(state, 'rendering', 'style');\n\tif (style !== 'ucc') {\n\t\tnonInteractableWidgets.push('alignBars');\n\t}\n\n\treturn nonInteractableWidgets;\n};\n\nexport const getHiddenWidgets = (state) => {\n\tconst nonVisibleWidgets = [];\n\n\tconst showChords = getOptionValue(state, 'rendering', 'showChords');\n\tconst columnsCount = getOptionValue(state, 'rendering', 'columnsCount');\n\n\tif (!showChords) {\n\t\tnonVisibleWidgets.push('instrument');\n\t}\n\tif (columnsCount < 2) {\n\t\tnonVisibleWidgets.push('columnBreakOnParagraph');\n\t}\n\n\treturn nonVisibleWidgets;\n};\n","import './Rendering.scss';\n\nimport React from 'react';\n\nimport Icon from '../../../ui/_components/Icon';\n\nimport SidebarOptionPanel from '../../../ui/sideBar/options/_components/SidebarOptionsPanel';\n\nexport default function Rendering(props) {\n\treturn (\n\t\t<div className={'renderingOptionsPanel'}>\n\t\t\t<div className={'renderingOptionsPanel-isCollapsed'}>\n\t\t\t\t<span className={'renderingOptionsPanel-icon'}>\n\t\t\t\t\t<Icon iconName={'settings'} />\n\t\t\t\t</span>\n\t\t\t</div>\n\n\t\t\t<div className={'renderingOptionsPanel-isExpanded'}>\n\t\t\t\t<SidebarOptionPanel\n\t\t\t\t\t{...props}\n\t\t\t\t\tid={'rendering'}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from 'react';\n\nimport AppLayout from '../ui/layout/app/_containers/App';\nimport FileManager from '../fileManager/_containers/FileManager';\nimport Editor from '../editor/_containers/Editor';\nimport RightBarPanel from '../optionsPanels/rendering/_containers/Rendering';\n\nexport default function Edit() {\n\tconst fm = <FileManager />;\n\tconst rightBarPanel = <RightBarPanel />;\n\n\treturn (\n\t\t<AppLayout\n\t\t\tleftBar={fm}\n\t\t\trightBar={rightBarPanel}\n\t\t>\n\t\t\t<Editor />\n\t\t</AppLayout>\n\t);\n}\n","import UniversalRouter from 'universal-router';\nimport renderController from './renderController';\n\nimport Editor from './controllers/Editor';\n\nconst routes = [\n\t{\n\t\tpath: '/editor',\n\t\taction: () => Editor,\n\t},\n];\n\nconst universalRouter = new UniversalRouter(routes);\n\nexport default {\n\tnavigateTo(path) {\n\t\treturn universalRouter.resolve(path)\n\t\t\t.then(controller => {\n\t\t\t\treturn renderController(controller);\n\t\t\t});\n\t}\n};\n\n\n","import React from 'react';\nimport ReactDom from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport { getStore } from './state/store';\n\nexport default function renderController(Controller) {\n\tReactDom.render(\n\t\t<Provider store={getStore()}>\n\t\t\t<Controller />\n\t\t</Provider>,\n\t\tdocument.getElementById('app')\n\t);\n}\n","import '../scss/styles.scss';\n\nimport { createStore } from './state/store';\nimport router from './router';\n\nexport default function run() {\n\tcreateStore();\n\n\treturn router.navigateTo('/editor');\n}\n","var Handlebars = require(\"../../../../../ucc-demo/node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<p class=\\\"ucc-text-line\\\">\"\n    + ((stack1 = container.lambda((depth0 != null ? depth0.textLine : depth0), depth0)) != null ? stack1 : \"\")\n    + \"</p>\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../ucc-demo/node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<span class=\\\"ucc-chord-symbol\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.chordSymbol : depth0), depth0))\n    + \"</span>\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../ucc-demo/node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<p class=\\\"ucc-chord-line\\\">\"\n    + ((stack1 = container.lambda((depth0 != null ? depth0.chordLine : depth0), depth0)) != null ? stack1 : \"\")\n    + \"</p>\";\n},\"useData\":true});"],"sourceRoot":""}