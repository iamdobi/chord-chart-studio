{"version":3,"sources":["webpack://@touffi/chords-charts-studio/webpack/runtime/chunk loaded","webpack://@touffi/chords-charts-studio/./src/db/files/actionsTypes.js","webpack://@touffi/chords-charts-studio/./src/db/files/reducers.js","webpack://@touffi/chords-charts-studio/./src/db/options/actionsTypes.js","webpack://@touffi/chords-charts-studio/./src/db/options/reducers.js","webpack://@touffi/chords-charts-studio/./src/db/reducers.js","webpack://@touffi/chords-charts-studio/./src/fileManager/_state/actionsTypes.js","webpack://@touffi/chords-charts-studio/./src/fileManager/_state/reducers.js","webpack://@touffi/chords-charts-studio/./src/ui/layout/app/_state/actionsTypes.js","webpack://@touffi/chords-charts-studio/./src/ui/layout/app/_state/reducers.js","webpack://@touffi/chords-charts-studio/./src/ui/layout/reducers.js","webpack://@touffi/chords-charts-studio/./src/ui/reducers.js","webpack://@touffi/chords-charts-studio/./src/state/reducers.js","webpack://@touffi/chords-charts-studio/./src/state/seed.js","webpack://@touffi/chords-charts-studio/./src/db/seed.js","webpack://@touffi/chords-charts-studio/./src/db/options/seed.js","webpack://@touffi/chords-charts-studio/./src/state/store.js","webpack://@touffi/chords-charts-studio/./src/state/localStorage.js","webpack://@touffi/chords-charts-studio/./src/ui/_components/ErrorBoundary.js","webpack://@touffi/chords-charts-studio/./src/core/createAction.js","webpack://@touffi/chords-charts-studio/./src/ui/layout/app/_state/actions.js","webpack://@touffi/chords-charts-studio/./src/ui/layout/app/_state/selectors.js","webpack://@touffi/chords-charts-studio/./src/ui/_components/Icon.js","webpack://@touffi/chords-charts-studio/./src/ui/sideBar/_components/Logo.js","webpack://@touffi/chords-charts-studio/./src/ui/layout/app/_components/NavEntry.js","webpack://@touffi/chords-charts-studio/./src/ui/layout/app/_components/Nav.js","webpack://@touffi/chords-charts-studio/./src/ui/layout/app/_components/Footer.js","webpack://@touffi/chords-charts-studio/./src/ui/layout/app/getVersions.js","webpack://@touffi/chords-charts-studio/./src/ui/layout/app/allNavEntries.js","webpack://@touffi/chords-charts-studio/./src/ui/layout/app/_components/App.js","webpack://@touffi/chords-charts-studio/./src/ui/layout/app/_containers/App.js","webpack://@touffi/chords-charts-studio/./src/fileManager/_state/actions.js","webpack://@touffi/chords-charts-studio/./src/fileManager/_state/selectors.js","webpack://@touffi/chords-charts-studio/./src/db/files/actions.js","webpack://@touffi/chords-charts-studio/./src/db/files/selectors.js","webpack://@touffi/chords-charts-studio/./src/fileManager/_components/FileActionEntry.js","webpack://@touffi/chords-charts-studio/./src/fileManager/_components/FileActions.js","webpack://@touffi/chords-charts-studio/./src/fileManager/_components/FileEntry.js","webpack://@touffi/chords-charts-studio/./src/fileManager/_components/FileManager.js","webpack://@touffi/chords-charts-studio/./src/fileManager/_containers/FileManager.js","webpack://@touffi/chords-charts-studio/./src/db/options/selectors.js","webpack://@touffi/chords-charts-studio/./src/core/escapeHTML.js","webpack://@touffi/chords-charts-studio/./src/core/renderSong.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/_components/SongRenderer.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/_containers/SongRenderer.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/editorPreview/_components/EditorPreview.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/editorPreview/_containers/EditorPreview.js","webpack://@touffi/chords-charts-studio/./src/editor/songEditor/prosemirror/schema.js","webpack://@touffi/chords-charts-studio/./src/editor/songEditor/prosemirror/converters/stateToText.js","webpack://@touffi/chords-charts-studio/./src/editor/songEditor/prosemirror/converters/toSafeHtml.js","webpack://@touffi/chords-charts-studio/./src/editor/songEditor/prosemirror/ProsemirrorEditorView.js","webpack://@touffi/chords-charts-studio/./src/editor/songEditor/prosemirror/converters/textToDom.js","webpack://@touffi/chords-charts-studio/./src/editor/songEditor/prosemirror/getPlugins.js","webpack://@touffi/chords-charts-studio/./src/editor/songEditor/_components/EditorLayout.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/exportPreview/_components/ExportPreview.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/playRenderer/_components/PlayRenderer.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/playRenderer/_containers/PlayRenderer.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/printPreview/_components/Page.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/printPreview/_components/PageHeader.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/printPreview/helpers/mapLinesToColumns.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/printPreview/helpers/getDimensionsFromDom.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/printPreview/helpers/padColumns.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/printPreview/helpers/element.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/printPreview/helpers/getAllLinesHeight.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/printPreview/helpers/getPagesHeight.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/printPreview/_components/AllPages.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/printPreview/_components/PrintPreview.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/printPreview/_containers/PrintPreview.js","webpack://@touffi/chords-charts-studio/./src/editor/_components/Editor.js","webpack://@touffi/chords-charts-studio/./src/editor/_containers/Editor.js","webpack://@touffi/chords-charts-studio/./src/optionsPanels/_components/OptionsPanel.js","webpack://@touffi/chords-charts-studio/./src/ui/sideBar/options/_components/OptionsGroup.js","webpack://@touffi/chords-charts-studio/./src/ui/sideBar/options/_components/SelectChoice.js","webpack://@touffi/chords-charts-studio/./src/ui/sideBar/options/_components/Select.js","webpack://@touffi/chords-charts-studio/./src/ui/sideBar/options/_components/Slider.js","webpack://@touffi/chords-charts-studio/./src/ui/sideBar/options/_components/Toggle.js","webpack://@touffi/chords-charts-studio/./src/ui/sideBar/options/_components/SidebarOptionsPanel.js","webpack://@touffi/chords-charts-studio/./src/db/options/actions.js","webpack://@touffi/chords-charts-studio/./src/optionsPanels/rendering/_containers/Rendering.js","webpack://@touffi/chords-charts-studio/./src/optionsPanels/_containers/OptionsPanelFactory.js","webpack://@touffi/chords-charts-studio/./src/optionsPanels/rendering/allWidgets.js","webpack://@touffi/chords-charts-studio/./src/optionsPanels/rendering/_state/selectors.js","webpack://@touffi/chords-charts-studio/./src/optionsPanels/rendering/_components/Rendering.js","webpack://@touffi/chords-charts-studio/./src/controllers/Editor.js","webpack://@touffi/chords-charts-studio/./src/router.js","webpack://@touffi/chords-charts-studio/./src/renderController.js","webpack://@touffi/chords-charts-studio/./src/app.js","webpack://@touffi/chords-charts-studio/webpack/bootstrap","webpack://@touffi/chords-charts-studio/webpack/runtime/compat get default export","webpack://@touffi/chords-charts-studio/webpack/runtime/define property getters","webpack://@touffi/chords-charts-studio/webpack/runtime/global","webpack://@touffi/chords-charts-studio/webpack/runtime/hasOwnProperty shorthand","webpack://@touffi/chords-charts-studio/webpack/runtime/node module decorator","webpack://@touffi/chords-charts-studio/webpack/runtime/jsonp chunk loading","webpack://@touffi/chords-charts-studio/webpack/startup"],"names":["deferred","DB_FILES_CREATE","DB_FILES_UPDATE","DB_FILES_DELETE","initialState","allFiles","createFile","state","action","payload","id","title","content","updateFile","deleteFile","DB_OPTION_SET_OPTION_VALUE","combineReducers","files","type","actionTypes","options","context","key","value","contextOptions","newState","FILE_MANAGER_SELECT_FILE","FILE_MANAGER_ENABLE_RENAME","selected","renamed","defaultTitle","UI_LAYOUT_APP_TOGGLE_LEFT_BAR","UI_LAYOUT_APP_TOGGLE_RIGHT_BAR","UI_LAYOUT_APP_SET_EDITOR_MODE","isLeftBarCollapsed","isRightBarCollapsed","editorMode","app","mode","layout","db","fileManager","ui","rendering","style","default","resetOnSongChange","alignBars","autoRepeatChords","expandSectionRepeats","documentSize","documentMargins","columnsCount","columnBreakOnParagraph","showChords","instrument","showStrummingPattern","transposeValue","simplifyChords","capoPosition","harmonizeAccidentals","preferredAccidentals","useShortNamings","fontSize","printFontSize","fontStyle","chordsColor","highlightChords","store","storeEnhancers","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","push","trace","persistedState","serializedState","localStorage","getItem","JSON","parse","err","loadState","_defaultsDeep","seed","createReduxStore","allReducers","compose","subscribe","stringify","setItem","saveState","getState","ErrorBoundary","props","error","errorInfo","this","setState","className","whiteSpace","open","toString","componentStack","children","React","propTypes","PropTypes","createAction","TypeError","getEditorMode","Icon","iconName","join","Logo","NavEntry","label","icon","setEditorMode","classNames","isActive","onClick","Nav","currentMode","allEntries","map","entry","Footer","versions","App","toggleLeftBar","toggleRightBar","leftBar","rightBar","leftBarClassNames","rightBarClassNames","data-testid","allNavEntries","defaultProps","connect","getSelectedId","getRenamedId","getDefaultTitle","getAllTitles","createSelectorCreator","defaultMemoize","_isEqual","createDeepEqualSelector","_map","_sortBy","o","toLowerCase","getOne","FileActionEntry","text","FileActions","allActions","enableRename","FileEntry","useState","setTitle","fileId","isSelected","isRenamed","selectFile","classList","inputRef","saveTitle","newTitle","current","scrollLeft","useEffect","focus","onDoubleClick","e","target","select","ref","readOnly","autoFocus","onChange","onBlur","onFocus","onKeyPress","which","preventDefault","getSelection","removeAllRanges","FileManager","allTitles","file","isRequired","actionsTypes","uuidv4","getOptionValue","escapeHTML","unescaped","domPurify","renderSong","songTxt","renderOptions","parsed","parseSong","renderSongCm","SongRenderer","_pick","dangerouslySetInnerHTML","__html","accidentalsType","EditorPreview","selectedFile","Schema","nodes","marks","stateToText","toJSON","doc","paragraph","reduce","acc","toSafeHtml","dirty","ALLOWED_TAGS","KEEP_CONTENT","ProseMirrorEditorView","selectedFileId","editorContent","editorView","useRef","editorDom","previousFileId","editorExists","dom","parentNode","destroyEditor","removeChild","editorState","EditorState","pmDOMParser","editorSchema","html","split","line","div","document","createElement","innerHTML","preserveWhitespace","plugins","pmHistory","keymap","undo","redo","baseKeymap","createEditorState","EditorView","dispatchTransaction","transaction","applyTransaction","transactions","updateState","some","tr","docChanged","createEditorView","appendChild","EditorLayout","ExportPreview","PlayRenderer","Page","pageHeader","allColumnsLines","allSectionsRendered","columnLines","index","columnLinesTxt","pageClasses","pageContentWrapperClasses","PageHeader","cssClasses","mapLinesToColumns","allLinesWithHeight","firstPageHeight","normalPageHeight","noEmptyLinesOnColumnStart","noOrphanTextLine","allPagesColumns","pageIndex","columnIndex","maxColumnHeight","getMaxColumnHeight","currentColumnHeight","flushBuffer","buffer","forEach","shouldChangeColumn","height","changeColumn","nextHeight","shouldChangePage","insert","insertOnNextColumn","fitsOnCurrentColumn","bufferHeight","fitsOnNextColumn","get","layoutFactory","lineIndex","isEmptyLine","length","shouldRenderLine","currentLine","nextLine","wouldProduceOrphanTextLine","hasClass","isChordLine","isTextLine","isEndOfParagraph","isBreakable","indexOf","getDimensionsFromDom","component","measuringFn","container","add","body","Promise","resolve","ReactDOM","measure","padColumns","columnCount","allColumns","i","getOffsetHeight","element","offsetHeight","getClientHeight","clientHeight","cssSelectors","getAllLinesHeight","allLines","allLinesHeight","querySelectorAll","pageContent","querySelector","AllPages","setAllPagesColumns","useLayoutEffect","pageOptions","getPagesHeight","mapped","getDimensions","allPagesRendered","pageColumns","PrintPreview","Editor","OptionsPanel","widget","groupWidget","WidgetComponent","GroupComponent","isGroupInteractable","isGroupWidgetInteractable","renderedGroupWidgets","allWidgets","nonInteractableWidgets","hiddenWidgets","setOption","getEntryComponent","renderedWidgets","widgetsOrder","filter","widgetId","includes","groupWidgetsOrder","groupWidgetId","allGroupWidgets","renderWidget","isInteractable","localWidget","optionContext","option","optionKey","optionValue","typeOptions","OptionsGroup","isOpened","setIsOpened","shouldBeInteractable","SelectChoice","checkIcon","Select","isOpen","setIsOpen","allChoices","renderedChoices","choice","Slider","min","max","showPlusSymbol","valueDisplay","Number","parseInt","disabled","Toggle","SidebarOptionPanel","setOptionValue","getNonInteractableWidgets","getHiddenWidgets","stateToProps","helpers","chords","format","Edit","fm","rightBarPanel","routes","path","universalRouter","UniversalRouter","then","controller","Controller","ReactDom","getElementById","router","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","call","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","splice","n","getter","__esModule","d","a","definition","defineProperty","enumerable","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","nmd","paths","installedChunks","179","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"mappings":"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","file":"main.917a21db3f64c6c14201.js","sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tresult = fn();\n\t\t}\n\t}\n\treturn result;\n};","export const DB_FILES_CREATE = 'db/files/Create';\nexport const DB_FILES_UPDATE = 'db/files/Update';\nexport const DB_FILES_DELETE = 'db/files/Delete';\n","import * as actionTypes from './actionsTypes';\n\nconst initialState = {\n\tallFiles: {},\n};\n\nfunction createFile(state, action) {\n\tconst { id, title, content } = action.payload;\n\n\tconst allFiles = { ...state.allFiles };\n\tallFiles[id] = {\n\t\tid,\n\t\ttitle,\n\t\tcontent\n\t};\n\n\treturn {\n\t\t...state,\n\t\tallFiles,\n\t};\n}\n\n\nfunction updateFile(state, action) {\n\tconst { id, title, content } = action.payload;\n\n\tif ((!title && !content) || !state.allFiles[id]) {\n\t\treturn state;\n\t}\n\n\tconst allFiles = { ...state.allFiles };\n\n\tallFiles[id] = { ...allFiles[id] };\n\n\tif (title) {\n\t\tallFiles[id].title = title;\n\t}\n\tif (content) {\n\t\tallFiles[id].content = content;\n\t}\n\treturn {\n\t\t...state,\n\t\tallFiles,\n\t};\n}\n\n\nfunction deleteFile(state, action) {\n\tconst { id } = action.payload;\n\n\tif (!id || !state.allFiles[id]) {\n\t\treturn state;\n\t}\n\n\tconst allFiles = { ...state.allFiles };\n\tdelete allFiles[id];\n\n\treturn {\n\t\t...state,\n\t\tallFiles,\n\t};\n}\n\n\nexport default (state = initialState, action = {}) => {\n\tswitch (action.type) {\n\t\tcase actionTypes.DB_FILES_CREATE: return createFile(state, action);\n\t\tcase actionTypes.DB_FILES_UPDATE: return updateFile(state, action);\n\t\tcase actionTypes.DB_FILES_DELETE: return deleteFile(state, action);\n\t}\n\treturn state;\n};\n","export const DB_OPTION_SET_OPTION_VALUE = 'db/options/setOptionValue';\n","import * as actionTypes from './actionsTypes';\n\nconst initialState = {};\n\nexport default (state = initialState, action = {}) => {\n\tswitch (action.type) {\n\t\tcase actionTypes.DB_OPTION_SET_OPTION_VALUE: {\n\t\t\tconst { context, key, value } = action.payload;\n\n\t\t\tif (!state[context] || !state[context][key]) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\tconst contextOptions = { ...state[context] };\n\t\t\tcontextOptions[key] = {\n\t\t\t\t...contextOptions[key],\n\t\t\t\tvalue\n\t\t\t};\n\n\t\t\tconst newState = {\n\t\t\t\t...state,\n\t\t\t};\n\t\t\tnewState[context] = contextOptions;\n\n\t\t\treturn newState;\n\t\t}\n\t}\n\treturn state;\n};\n","import { combineReducers } from 'redux';\nimport files from './files/reducers';\nimport options from './options/reducers';\n\nexport default combineReducers({\n\tfiles,\n\toptions,\n});\n","export const FILE_MANAGER_SELECT_FILE = 'fileManager/select';\nexport const FILE_MANAGER_ENABLE_RENAME = 'fileManager/enableRename';\n\n","import {\n\tFILE_MANAGER_SELECT_FILE,\n\tFILE_MANAGER_ENABLE_RENAME\n} from './actionsTypes';\n\nimport {\n\tDB_FILES_CREATE,\n\tDB_FILES_UPDATE,\n\tDB_FILES_DELETE\n} from '../../db/files/actionsTypes';\n\nconst initialState = {\n\tselected: '',\n\trenamed: '',\n\tdefaultTitle: '[untitled]'\n};\n\nexport default function reducers(state = initialState, action = {}) {\n\tswitch (action.type) {\n\n\t\tcase DB_FILES_CREATE: {\n\t\t\tconst { id } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselected: id,\n\t\t\t\trenamed: id\n\t\t\t};\n\t\t}\n\n\t\tcase DB_FILES_UPDATE: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\trenamed: ''\n\t\t\t};\n\t\t}\n\n\t\tcase DB_FILES_DELETE: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselected: '',\n\t\t\t\trenamed: ''\n\t\t\t};\n\t\t}\n\n\t\tcase FILE_MANAGER_SELECT_FILE: {\n\t\t\tconst { id } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselected: id,\n\t\t\t\trenamed: (id === state.renamed) ? id : ''\n\t\t\t};\n\t\t}\n\n\t\tcase FILE_MANAGER_ENABLE_RENAME: {\n\t\t\tconst { id } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\trenamed: id\n\t\t\t};\n\t\t}\n\t}\n\treturn state;\n}\n","export const UI_LAYOUT_APP_TOGGLE_LEFT_BAR = 'ui/layout/app/toggleLeftBar';\nexport const UI_LAYOUT_APP_TOGGLE_RIGHT_BAR = 'ui/layout/app/toggleRightBar';\nexport const UI_LAYOUT_APP_SET_EDITOR_MODE = 'ui/layout/app/setEditorMode';\n","import {\n\tUI_LAYOUT_APP_TOGGLE_RIGHT_BAR,\n\tUI_LAYOUT_APP_TOGGLE_LEFT_BAR,\n\tUI_LAYOUT_APP_SET_EDITOR_MODE,\n} from './actionsTypes';\n\nconst initialState = {\n\tisLeftBarCollapsed: false,\n\tisRightBarCollapsed: false,\n\teditorMode: 'edit',\n};\n\nexport default function reducers(state = initialState, action = {}) {\n\tswitch (action.type) {\n\t\tcase UI_LAYOUT_APP_TOGGLE_LEFT_BAR: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisLeftBarCollapsed: !state.isLeftBarCollapsed\n\t\t\t};\n\t\t}\n\t\tcase UI_LAYOUT_APP_TOGGLE_RIGHT_BAR: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisRightBarCollapsed: !state.isRightBarCollapsed\n\t\t\t};\n\t\t}\n\t\tcase UI_LAYOUT_APP_SET_EDITOR_MODE: {\n\t\t\tconst { mode } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\teditorMode: mode,\n\t\t\t};\n\t\t}\n\t}\n\treturn state;\n}\n","import { combineReducers } from 'redux';\nimport app from './app/_state/reducers';\n\nexport default combineReducers({\n\tapp\n});\n","import { combineReducers } from 'redux';\nimport layout from './layout/reducers';\n\nexport default combineReducers({\n\tlayout\n});\n","import { combineReducers } from 'redux';\n\nimport db from '../db/reducers';\nimport fileManager from '../fileManager/_state/reducers';\nimport ui from '../ui/reducers';\n\nexport default combineReducers({\n\tdb,\n\tfileManager,\n\tui,\n});\n","import db from '../db/seed';\n\nexport default {\n\tdb,\n};\n","import options from './options/seed';\n\nexport default {\n\toptions\n};\n","export default {\n\trendering: {\n\n\t\tstyle: {\n\t\t\tvalue: 'chordmark',\n\t\t\tdefault: 'chordmark',\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\talignBars: {\n\t\t\tvalue: true,\n\t\t\tdefault: true,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\tautoRepeatChords: {\n\t\t\tvalue: true,\n\t\t\tdefault: true,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\texpandSectionRepeats: {\n\t\t\tvalue: true,\n\t\t\tdefault: true,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\n\t\t/** Layout */\n\n\t\tdocumentSize: {\n\t\t\tvalue: 'a4',\n\t\t\tdefault: 'a4',\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\tdocumentMargins: {\n\t\t\tvalue: 3,\n\t\t\tdefault: 3,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\tcolumnsCount: {\n\t\t\tvalue: 1,\n\t\t\tdefault: 1,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\tcolumnBreakOnParagraph: {\n\t\t\tvalue: true,\n\t\t\tdefault: true,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\n\n\t\t/** Display */\n\n\t\tshowChords: {\n\t\t\tvalue: true,\n\t\t\tdefault: true,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\tinstrument: {\n\t\t\tvalue: 'guitar',\n\t\t\tdefault: 'guitar',\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\tshowStrummingPattern: {\n\t\t\tvalue: true,\n\t\t\tdefault: true,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\n\n\n\t\t/** Customize Chords */\n\n\t\ttransposeValue: {\n\t\t\tvalue: 0,\n\t\t\tdefault: 0,\n\t\t\tresetOnSongChange: true,\n\t\t},\n\t\tsimplifyChords: {\n\t\t\tvalue: 'none',\n\t\t\tdefault: 'none',\n\t\t\tresetOnSongChange: true,\n\t\t},\n\t\tcapoPosition: {\n\t\t\tvalue: 0,\n\t\t\tdefault: 0,\n\t\t\tresetOnSongChange: true,\n\t\t},\n\t\tharmonizeAccidentals: {\n\t\t\tvalue: true,\n\t\t\tdefault: true,\n\t\t\tresetOnSongChange: true,\n\t\t},\n\t\tpreferredAccidentals: {\n\t\t\tvalue: 'auto',\n\t\t\tdefault: 'auto',\n\t\t\tresetOnSongChange: true,\n\t\t},\n\t\tuseShortNamings: {\n\t\t\tvalue: true,\n\t\t\tdefault: true,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\n\n\n\t\t/** Format */\n\n\t\tfontSize: {\n\t\t\tvalue: 0,\n\t\t\tdefault: 0,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\tprintFontSize: {\n\t\t\tvalue: 0,\n\t\t\tdefault: 0,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\tfontStyle: {\n\t\t\tvalue: 'roboto',\n\t\t\tdefault: 'roboto',\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\tchordsColor: {\n\t\t\tvalue: 'yellow',\n\t\t\tdefault: 'yellow',\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t\thighlightChords: {\n\t\t\tvalue: true,\n\t\t\tdefault: true,\n\t\t\tresetOnSongChange: false,\n\t\t},\n\t}\n};\n","import _defaultsDeep from 'lodash/defaultsDeep';\n\nimport { createStore as createReduxStore, compose } from 'redux';\n\nimport { loadState, saveState } from './localStorage';\nimport allReducers from './reducers';\nimport seed from './seed';\n\nconst storeEnhancers = [];\n\n/* * /\nimport { applyMiddleware } from 'redux';\nconst logger = () => next => action => {\n\tconsole.log('!!! DISPATCHING ACTION: ', action);\n\tlet result = next(action);\n\treturn result;\n};\nstoreEnhancers.push(applyMiddleware(logger));\n/* */\n\n\nlet store;\n\nexport function createStore() {\n\tif (window.__REDUX_DEVTOOLS_EXTENSION__) {\n\t\tstoreEnhancers.push(window.__REDUX_DEVTOOLS_EXTENSION__({ trace: true }));\n\t}\n\n\tconst persistedState = loadState();\n\tconst initialState = _defaultsDeep(persistedState, seed);\n\n\tstore = createReduxStore(\n\t\tallReducers,\n\t\tinitialState,\n\t\tcompose(...storeEnhancers)\n\t);\n\n\tstore.subscribe(() => {\n\t\tsaveState(store.getState());\n\t});\n}\n\nexport function getStore() {\n\treturn store;\n}\n","// @see https://egghead.io/lessons/javascript-redux-persisting-the-state-to-the-local-storage\n\nexport const loadState = () => {\n\ttry {\n\t\tconst serializedState = localStorage.getItem('state');\n\t\tif (!serializedState) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn JSON.parse(serializedState);\n\n\t} catch (err) {\n\t\treturn undefined;\n\t}\n};\n\nexport const saveState = (state) => {\n\ttry {\n\t\tconst serializedState = JSON.stringify(state);\n\t\tlocalStorage.setItem('state', serializedState);\n\t} catch (err) {\n\t\t// ignore write errors\n\t}\n};\n","import './ErrorBoundary.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\n// source: https://codepen.io/gaearon/pen/wqvxGa?editors=0010\nclass ErrorBoundary extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { error: null, errorInfo: null };\n\t}\n\n\tcomponentDidCatch(error, errorInfo) {\n\t\tthis.setState({\n\t\t\terror: error,\n\t\t\terrorInfo: errorInfo\n\t\t});\n\t}\n\n\trender() {\n\t\tif (this.state.errorInfo) {\n\t\t\treturn (\n\t\t\t\t<div className={'ErrorBoundary'}>\n\t\t\t\t\t<h2>Something went wrong</h2>\n\t\t\t\t\t<details style={{ whiteSpace: 'pre-wrap' }} open={true}>\n\t\t\t\t\t\t{this.state.error && this.state.error.toString()}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t{this.state.errorInfo.componentStack}\n\t\t\t\t\t</details>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn this.props.children;\n\t}\n}\n\nErrorBoundary.propTypes = {\n\tchildren: PropTypes.any\n};\n\nexport default ErrorBoundary;\n","export default function createAction(type, payload) {\n\tif (!type) {\n\t\tthrow new TypeError('Cannot create an action without an action type');\n\t}\n\treturn {\n\t\ttype,\n\t\tpayload\n\t};\n}\n","import {\n\tUI_LAYOUT_APP_TOGGLE_LEFT_BAR,\n\tUI_LAYOUT_APP_TOGGLE_RIGHT_BAR,\n\tUI_LAYOUT_APP_SET_EDITOR_MODE,\n} from './actionsTypes';\n\nimport createAction from '../../../../core/createAction';\n\nexport const toggleLeftBar = () => createAction(UI_LAYOUT_APP_TOGGLE_LEFT_BAR);\n\nexport const toggleRightBar = () => createAction(UI_LAYOUT_APP_TOGGLE_RIGHT_BAR);\n\nexport const setEditorMode = (mode) => createAction(UI_LAYOUT_APP_SET_EDITOR_MODE, { mode });\n\n","export const isLeftBarCollapsed = (state) => state.ui.layout.app.isLeftBarCollapsed;\n\nexport const isRightBarCollapsed = (state) => state.ui.layout.app.isRightBarCollapsed;\n\nexport const getEditorMode = (state) => state.ui.layout.app.editorMode;\n","import './Icon.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Icon(props) {\n\tconst { iconName } = props;\n\n\tconst classList = ['icon', 'material-icons'];\n\n\treturn (\n\t\t<i className={classList.join(' ')}>{iconName}</i>\n\t);\n}\n\nIcon.propTypes = {\n\ticonName: PropTypes.string.isRequired,\n};\n\nexport default React.memo(Icon);\n","import './Logo.scss';\n\nimport React from 'react';\n\nimport Icon from '../../_components/Icon.js';\n\nfunction Logo() {\n\treturn (\n\t\t<div className={'logo'}>\n\t\t\t<div className={'logo-isCollapsed'}>\n\t\t\t\t<Icon iconName={'queue_music'} />\n\t\t\t</div>\n\n\t\t\t<div className={'logo-isExpanded'}>\n\t\t\t\t<span className={'logo-icon'}><Icon iconName={'queue_music'} /></span>Chords Charts Studio\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default React.memo(Logo);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../../_components/Icon.js';\n\nfunction NavEntry(props) {\n\tconst {\n\t\tlabel,\n\t\ticon,\n\t\teditorMode,\n\t\tsetEditorMode,\n\t\tisActive,\n\t} = props;\n\n\tconst classNames = ['mainNavEntry'];\n\n\tif (isActive) {\n\t\tclassNames.push('mainNavEntry-isActive');\n\t}\n\n\tfunction handleClick() {\n\t\tsetEditorMode(editorMode);\n\t}\n\n\treturn (\n\t\t<li\n\t\t\tclassName={classNames.join(' ')}\n\t\t\tonClick={handleClick}\n\t\t>\n\t\t\t<span className={'mainNavEntry-icon'}><Icon iconName={icon} /></span>{label}\n\t\t</li>\n\t);\n}\n\nNavEntry.propTypes = {\n\tlabel: PropTypes.string.isRequired,\n\ticon: PropTypes.string.isRequired,\n\teditorMode: PropTypes.string.isRequired,\n\tsetEditorMode: PropTypes.func.isRequired,\n\tisActive: PropTypes.bool.isRequired,\n};\n\n\nexport default React.memo(NavEntry);\n","import './Nav.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport NavEntry from './NavEntry.js';\n\nfunction Nav(props) {\n\tconst {\n\t\tcurrentMode,\n\t\tallEntries,\n\t\tsetEditorMode,\n\t} = props;\n\n\treturn (\n\t\t<nav className={'mainNav'}>\n\t\t\t<ul className={'mainNav-entries'}>\n\t\t\t\t{\n\t\t\t\t\tallEntries.map((entry, key) =>\n\t\t\t\t\t\t<NavEntry\n\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\tisActive={(entry.editorMode === currentMode)}\n\t\t\t\t\t\t\tsetEditorMode={setEditorMode}\n\t\t\t\t\t\t\t{...entry}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</ul>\n\t\t</nav>\n\t);\n}\n\nNav.propTypes = {\n\tcurrentMode: PropTypes.string.isRequired,\n\tsetEditorMode: PropTypes.func.isRequired,\n\tallEntries: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\tid: PropTypes.string.isRequired,\n\t\t\tlabel: PropTypes.string.isRequired,\n\t\t\ticon: PropTypes.string.isRequired,\n\t\t\teditorMode: PropTypes.string.isRequired,\n\t\t})\n\t),\n};\n\nexport default React.memo(Nav);\n","import getVersions from '../getVersions';\nimport './Footer.scss';\n\nimport React from 'react';\n\nfunction Footer() {\n\tconst versions = getVersions();\n\treturn (\n\t\t<div className={'appFooter'}>\n\t\t\tChords Charts Studio {versions['chord-charts-studio']}\n\t\t\t- ChordMark {versions['chord-mark']}\n\t\t\t- ChordSymbol {versions['chord-symbol']}\n\t\t</div>\n\t);\n}\n\nexport default React.memo(Footer);\n","export default () => ({'chord-charts-studio':'v0.8.3','chord-symbol':'v2.0.0','chord-mark':'v0.5.5'});","export default [\n\t{\n\t\tid: 'edit',\n\t\tlabel: 'Edit',\n\t\ticon: 'create',\n\t\teditorMode: 'edit',\n\t},\n\t{\n\t\tid: 'play',\n\t\tlabel: 'Play',\n\t\ticon: 'music_note',\n\t\teditorMode: 'play',\n\t},\n\t{\n\t\tid: 'print',\n\t\tlabel: 'Print / PDF',\n\t\ticon: 'print',\n\t\teditorMode: 'print',\n\t},\n\t{\n\t\tid: 'export',\n\t\tlabel: 'Export',\n\t\ticon: 'save_alt',\n\t\teditorMode: 'export',\n\t},\n];\n","import './App.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Logo from '../../../sideBar/_components/Logo';\nimport Nav from './Nav';\nimport Footer from './Footer';\nimport Icon from '../../../_components/Icon';\n\nimport allNavEntries from '../allNavEntries';\n\nfunction App(props) {\n\tconst {\n\t\tisLeftBarCollapsed,\n\t\tisRightBarCollapsed,\n\t\teditorMode,\n\t\ttoggleLeftBar,\n\t\ttoggleRightBar,\n\t\tsetEditorMode,\n\n\t\tleftBar,\n\t\trightBar,\n\t} = props;\n\n\tconst leftBarClassNames = ['leftBar'];\n\tif (isLeftBarCollapsed) {\n\t\tleftBarClassNames.push('leftBar-isCollapsed');\n\t}\n\n\tconst rightBarClassNames = ['rightBar'];\n\tif (isRightBarCollapsed) {\n\t\trightBarClassNames.push('rightBar-isCollapsed');\n\t}\n\n\treturn (\n\t\t<div className={'appLayout-wrapper'}>\n\t\t\t<section className={leftBarClassNames.join(' ')}>\n\t\t\t\t<div className={'leftBar-content'} onClick={(isLeftBarCollapsed) ? toggleLeftBar : null}>\n\t\t\t\t\t<Logo />\n\t\t\t\t\t{leftBar}\n\t\t\t\t</div>\n\t\t\t\t<div className={'leftBar-collapser'} onClick={toggleLeftBar} data-testid={'leftBar-collapser'}>\n\t\t\t\t\t<span className={'leftBar-collapserIcon'}>\n\t\t\t\t\t\t<Icon iconName={'keyboard_arrow_left'} />\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t\t<section className={'appLayout-main'}>\n\t\t\t\t<section className={'appLayout-header'}>\n\t\t\t\t\t<Nav\n\t\t\t\t\t\tallEntries={allNavEntries}\n\t\t\t\t\t\tcurrentMode={editorMode}\n\t\t\t\t\t\tsetEditorMode={setEditorMode}\n\t\t\t\t\t/>\n\t\t\t\t</section>\n\t\t\t\t<section className={'appLayout-content'}>\n\t\t\t\t\t{props.children}\n\t\t\t\t</section>\n\t\t\t\t<section className={'appLayout-footer'}>\n\t\t\t\t\t<Footer/>\n\t\t\t\t</section>\n\t\t\t</section>\n\t\t\t<section className={rightBarClassNames.join(' ')}>\n\t\t\t\t<div className={'rightBar-collapser'} onClick={toggleRightBar} data-testid={'rightBar-collapser'}>\n\t\t\t\t\t<span className={'rightBar-collapserIcon'}>\n\t\t\t\t\t\t<Icon iconName={'keyboard_arrow_right'} />\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div className={'rightBar-content'} onClick={(isRightBarCollapsed) ? toggleRightBar : null}>\n\t\t\t\t\t{rightBar}\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t</div>\n\t);\n}\n\nApp.propTypes = {\n\tchildren: PropTypes.element,\n\n\tisLeftBarCollapsed: PropTypes.bool,\n\tisRightBarCollapsed: PropTypes.bool,\n\ttoggleLeftBar: PropTypes.func.isRequired,\n\ttoggleRightBar: PropTypes.func.isRequired,\n\n\teditorMode: PropTypes.string.isRequired,\n\tsetEditorMode: PropTypes.func.isRequired,\n\n\tleftBar: PropTypes.element.isRequired,\n\trightBar: PropTypes.element.isRequired,\n};\n\nApp.defaultProps = {\n\tisLeftBarCollapsed: false,\n\tisRightBarCollapsed: false,\n};\n\nexport default App;\n","import { connect } from 'react-redux';\n\nimport { toggleLeftBar, toggleRightBar, setEditorMode} from '../_state/actions';\nimport { isLeftBarCollapsed, isRightBarCollapsed, getEditorMode } from '../_state/selectors';\n\nimport App from '../_components/App';\n\n\nexport default connect(\n\tstate => ({\n\t\tisLeftBarCollapsed: isLeftBarCollapsed(state),\n\t\tisRightBarCollapsed: isRightBarCollapsed(state),\n\t\teditorMode: getEditorMode(state)\n\t}),\n\n\t{\n\t\ttoggleLeftBar,\n\t\ttoggleRightBar,\n\t\tsetEditorMode,\n\t}\n\n)(App);\n\n\n","import createAction from '../../core/createAction';\n\nimport * as actionsTypes from './actionsTypes';\n\nexport const selectFile = (id) => createAction(actionsTypes.FILE_MANAGER_SELECT_FILE, { id });\n\nexport const enableRename = (id) => createAction(actionsTypes.FILE_MANAGER_ENABLE_RENAME, { id });\n\n\n\n\n","\nexport const getSelectedId = state => state.fileManager.selected;\n\nexport const getRenamedId = state => state.fileManager.renamed;\n\nexport const getDefaultTitle = state => state.fileManager.defaultTitle;\n","import { v4 as uuidv4 } from 'uuid';\n\nimport createAction from '../../core/createAction';\nimport * as actionTypes from './actionsTypes';\n\n\nexport const createFile = (title) => {\n\tif (!title) {\n\t\tthrow new TypeError('Cannot create a file without title');\n\t}\n\tconst payload = {\n\t\tid: uuidv4(),\n\t\ttitle,\n\t\tcontent: ''\n\t};\n\treturn createAction(actionTypes.DB_FILES_CREATE, payload);\n};\n\n\nexport const updateFile = (id, { title, content } = {}) => {\n\tif (!id) {\n\t\tthrow new TypeError('Cannot update a file without an id');\n\t}\n\tconst payload = {\n\t\tid,\n\t\ttitle,\n\t\tcontent\n\t};\n\treturn createAction(actionTypes.DB_FILES_UPDATE, payload);\n};\n\n\nexport const deleteFile = (id) => {\n\treturn createAction(actionTypes.DB_FILES_DELETE, { id });\n};\n\n","import _map from 'lodash/map';\nimport _isEqual from 'lodash/isEqual';\nimport _sortBy from 'lodash/sortBy';\n\nimport { createSelectorCreator, defaultMemoize } from 'reselect';\n\n\n// create a \"selector creator\" that uses lodash.isEqual instead of ===\nconst createDeepEqualSelector = createSelectorCreator(\n\tdefaultMemoize,\n\t_isEqual\n);\n\n\n// return value should not change when file content changes\nexport const getAllTitles = createDeepEqualSelector(\n\tstate => _map(state.db.files.allFiles, ({ title, id }) => ({ title, id })),\n\tallFiles => _sortBy(allFiles, o => o.title.toLowerCase())\n);\n\n\nexport const getOne = (state, id) => {\n\treturn state.db.files.allFiles[id];\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../ui/_components/Icon';\n\nfunction FileActionEntry(props) {\n\tconst { icon, text, action } = props;\n\n\treturn (\n\t\t<span className={'fileManagerAction'} onClick={action}>\n\t\t\t<span className={'fileManagerAction-icon'}>\n\t\t\t\t<Icon iconName={icon} /> {text}\n\t\t\t</span>\n\t\t</span>\n\t);\n}\n\nFileActionEntry.propTypes = {\n\ticon: PropTypes.string.isRequired,\n\ttext: PropTypes.string.isRequired,\n\taction: PropTypes.func.isRequired,\n};\n\nexport default React.memo(FileActionEntry);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport FileActionEntry from './FileActionEntry';\n\nfunction FileActions(props) {\n\tconst { createFile, deleteFile, enableRename } = props;\n\n\tconst allActions = [\n\t\t{\n\t\t\ticon: 'add_circle',\n\t\t\ttext: 'New',\n\t\t\taction: createFile\n\t\t},\n\t\t{\n\t\t\ticon: 'create',\n\t\t\ttext: 'Rename',\n\t\t\taction: enableRename\n\t\t},\n\t\t{\n\t\t\ticon: 'delete',\n\t\t\ttext: 'Delete',\n\t\t\taction: deleteFile\n\t\t},\n\t];\n\n\treturn (\n\t\t<div className={'fileManager-actionsList'}>\n\t\t\t{\n\t\t\t\tallActions.map((action, key) =>\n\t\t\t\t\t<FileActionEntry {...action} key={key} />\n\t\t\t\t)\n\t\t\t}\n\t\t</div>\n\t);\n}\n\nFileActions.propTypes = {\n\tcreateFile: PropTypes.func.isRequired,\n\tdeleteFile: PropTypes.func.isRequired,\n\tenableRename: PropTypes.func.isRequired,\n};\n\nexport default React.memo(FileActions);\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nfunction FileEntry(props) {\n\tconst [ title, setTitle ] = useState(props.title);\n\n\tconst { fileId, isSelected, isRenamed, defaultTitle, selectFile, enableRename, updateFile } = props;\n\n\tconst classList = ['fileManagerEntry'];\n\tif (isSelected) {\n\t\tclassList.push('fileManagerEntry-isSelected');\n\t}\n\tif (isRenamed) {\n\t\tclassList.push('fileManagerEntry-isRenamed');\n\t}\n\n\tconst inputRef = React.createRef();\n\n\tuseEffect(() => {\n\t\tif (isRenamed) {\n\t\t\tinputRef.current.focus();\n\t\t}\n\t}, [isRenamed, inputRef]);\n\n\tfunction handleClick() {\n\t\tif (!isSelected) {\n\t\t\tselectFile(fileId);\n\t\t}\n\t}\n\n\tfunction handleDoubleClick(e) {\n\t\tif (!isRenamed) {\n\t\t\tenableRename(fileId);\n\t\t\te.target.select();\n\t\t}\n\t}\n\n\tfunction handleKeyPress(e) {\n\t\tif (isRenamed && e.which === 13) {\n\t\t\te.preventDefault();\n\t\t\twindow.getSelection().removeAllRanges();\n\n\t\t\tconst newTitle = e.target.value;\n\t\t\tsaveTitle(newTitle);\n\t\t}\n\t}\n\n\tfunction handleChange(e) {\n\t\tsetTitle(e.target.value);\n\t}\n\n\tfunction handleFocus(e) {\n\t\tif (isRenamed) {\n\t\t\te.target.select();\n\t\t}\n\t}\n\n\tfunction handleBlur(e) {\n\t\tif (isRenamed) {\n\t\t\tconst newTitle = e.target.value;\n\t\t\tsaveTitle(newTitle);\n\t\t}\n\t}\n\n\tfunction saveTitle(newTitle) {\n\t\tnewTitle = newTitle || defaultTitle;\n\n\t\tupdateFile(fileId, {\n\t\t\ttitle: newTitle\n\t\t});\n\t\tsetTitle(newTitle);\n\n\t\tinputRef.current.scrollLeft = 0;\n\t}\n\n\treturn (\n\t\t<li\n\t\t\tclassName={classList.join(' ')}\n\t\t\tonClick={handleClick}\n\t\t\tonDoubleClick={handleDoubleClick}\n\t\t>\n\t\t\t<input\n\t\t\t\tclassName={'fileManagerEntry-input'}\n\t\t\t\tref={inputRef}\n\t\t\t\ttype={'text'}\n\t\t\t\tvalue={title}\n\t\t\t\treadOnly={(isRenamed) ? null : 'readOnly'}\n\t\t\t\tautoFocus={(isRenamed) ? 'autoFocus' : null}\n\t\t\t\tonChange={handleChange}\n\t\t\t\tonBlur={handleBlur}\n\t\t\t\tonFocus={handleFocus}\n\t\t\t\tonKeyPress={handleKeyPress}\n\t\t\t/>\n\t\t</li>\n\t);\n}\n\nFileEntry.propTypes = {\n\ttitle: PropTypes.string.isRequired,\n\tfileId: PropTypes.string.isRequired,\n\tisSelected: PropTypes.bool.isRequired,\n\tisRenamed: PropTypes.bool.isRequired,\n\tdefaultTitle: PropTypes.string.isRequired,\n\tselectFile: PropTypes.func.isRequired,\n\tenableRename: PropTypes.func.isRequired,\n\tupdateFile: PropTypes.func.isRequired,\n};\n\nexport default FileEntry;\n","import './FileManager.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../ui/_components/Icon';\nimport FileActions from './FileActions';\nimport FileEntry from './FileEntry';\n\nfunction FileManager(props) {\n\tconst {\n\t\tallTitles,\n\t\tselected,\n\t\trenamed,\n\t\tdefaultTitle,\n\n\t\tselectFile,\n\t\tcreateFile,\n\t\tdeleteFile,\n\t\tenableRename,\n\t\tupdateFile,\n\n\t} = props;\n\n\treturn (\n\t\t<div className={'fileManager'}>\n\t\t\t<div className={'fileManager-isCollapsed'}>\n\t\t\t\t<span className={'fileManager-icon'}>\n\t\t\t\t\t<Icon iconName={'file_copy'} />\n\t\t\t\t</span>\n\t\t\t</div>\n\n\t\t\t<div className={'fileManager-isExpanded'}>\n\t\t\t\t<FileActions\n\t\t\t\t\tcreateFile={() => createFile(defaultTitle)}\n\t\t\t\t\tdeleteFile={() => deleteFile(selected)}\n\t\t\t\t\tenableRename={() => enableRename(selected)}\n\t\t\t\t/>\n\t\t\t\t<ul className={'fileManager-entriesList'}>\n\t\t\t\t\t{\n\t\t\t\t\t\tallTitles.map(file =>\n\t\t\t\t\t\t\t<FileEntry\n\t\t\t\t\t\t\t\ttitle={file.title}\n\t\t\t\t\t\t\t\tdefaultTitle={defaultTitle}\n\t\t\t\t\t\t\t\tfileId={file.id}\n\t\t\t\t\t\t\t\tisSelected={selected === file.id}\n\t\t\t\t\t\t\t\tisRenamed={renamed === file.id}\n\t\t\t\t\t\t\t\tselectFile={selectFile}\n\t\t\t\t\t\t\t\tupdateFile={updateFile}\n\t\t\t\t\t\t\t\tenableRename={enableRename}\n\t\t\t\t\t\t\t\tkey={file.id}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nFileManager.propTypes = {\n\tallTitles: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\ttitle: PropTypes.string.isRequired,\n\t\t\tid: PropTypes.string.isRequired,\n\t\t})\n\t).isRequired,\n\tselected: PropTypes.string.isRequired,\n\trenamed: PropTypes.string.isRequired,\n\tdefaultTitle: PropTypes.string.isRequired,\n\n\tselectFile: PropTypes.func.isRequired,\n\tcreateFile: PropTypes.func.isRequired,\n\tdeleteFile: PropTypes.func.isRequired,\n\tenableRename: PropTypes.func.isRequired,\n\tupdateFile: PropTypes.func.isRequired,\n};\n\nexport default FileManager;\n","import { connect } from 'react-redux';\n\nimport { selectFile, enableRename } from '../_state/actions';\nimport { getDefaultTitle, getSelectedId, getRenamedId } from '../_state/selectors';\n\nimport { createFile, updateFile, deleteFile } from '../../db/files/actions';\nimport { getAllTitles } from '../../db/files/selectors';\n\nimport FileManager from '../_components/FileManager';\n\nexport default connect(\n\tstate => ({\n\t\tselected: getSelectedId(state),\n\t\trenamed: getRenamedId(state),\n\t\tdefaultTitle: getDefaultTitle(state),\n\t\tallTitles: getAllTitles(state),\n\t}),\n\n\t{\n\t\tselectFile,\n\t\tcreateFile,\n\t\tdeleteFile,\n\t\tupdateFile,\n\t\tenableRename,\n\t}\n\n)(FileManager);\n","import _mapValues from 'lodash/mapValues';\n\nexport const getOptionValue = (state, context, key) => {\n\tif (!state.db.options[context] || !state.db.options[context][key]) {\n\t\treturn;\n\t}\n\treturn state.db.options[context][key].value;\n};\n\nexport const getContext = (state, context) => {\n\tif (!state.db.options[context]) {\n\t\treturn;\n\t}\n\treturn _mapValues(state.db.options[context], option => option.value);\n};\n","import domPurify from 'dompurify';\n\nexport default function escapeHTML(unescaped) {\n\treturn domPurify.sanitize(unescaped);\n}\n","import { renderSong as renderSongCm, parseSong } from 'chord-mark';\n\nexport default function renderSong(songTxt, renderOptions) {\n\tconst parsed = parseSong(songTxt);\n\treturn renderSongCm(parsed, renderOptions);\n}\n","import './SongRenderer.scss';\n\nimport _pick from 'lodash/pick';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport escapeHTML from '../../core/escapeHTML';\n\nimport renderSong from '../../core/renderSong';\n\nfunction SongRenderer(props) {\n\tconst {\n\t\tcontent\n\t} = props;\n\n\tconst renderOptions = _pick(props, [\n\t\t'alignBars',\n\t\t'harmonizeAccidentals',\n\t\t'accidentalsType',\n\t\t'transposeValue',\n\t\t'autoRepeatChords',\n\t\t'expandSectionRepeats',\n\t\t'useShortNamings',\n\t\t'simplifyChords',\n\t]);\n\n\treturn (\n\t\t<div className={'songRenderer'}>\n\t\t\t<div dangerouslySetInnerHTML={{ __html: escapeHTML(renderSong(content, renderOptions)) }} />\n\t\t</div>\n\t);\n}\n\nSongRenderer.propTypes = {\n\tcontent: PropTypes.string\n};\n\nSongRenderer.defaultProps = {\n\tcontent: ''\n};\n\nexport default SongRenderer;\n","import { connect } from 'react-redux';\n\nimport { getOptionValue } from '../../db/options/selectors';\n\nimport SongRenderer from '../_components/SongRenderer';\n\nexport default connect(\n\tstate => ({\n\t\taccidentalsType: getOptionValue(state, 'rendering', 'preferredAccidentals'),\n\t\talignBars: getOptionValue(state, 'rendering', 'alignBars'),\n\t\tharmonizeAccidentals: getOptionValue(state, 'rendering', 'harmonizeAccidentals'),\n\t\ttransposeValue: getOptionValue(state, 'rendering', 'transposeValue'),\n\t\tautoRepeatChords: getOptionValue(state, 'rendering', 'autoRepeatChords'),\n\t\texpandSectionRepeats: getOptionValue(state, 'rendering', 'expandSectionRepeats'),\n\t\tuseShortNamings: getOptionValue(state, 'rendering', 'useShortNamings'),\n\t\tsimplifyChords: getOptionValue(state, 'rendering', 'simplifyChords'),\n\t})\n)(SongRenderer);\n","import './EditorPreview.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport SongRenderer from '../../_containers/SongRenderer';\n\nfunction EditorPreview(props) {\n\tconst { selectedFile } = props;\n\n\tconst classNames = ['editorPreview'];\n\n\treturn (\n\t\t<div className={classNames.join(' ')}>\n\t\t\t<SongRenderer content={selectedFile.content} />\n\t\t</div>\n\t);\n}\n\nEditorPreview.propTypes = {\n\tselectedFile: PropTypes.object.isRequired,\n};\n\nexport default EditorPreview;\n","import { connect } from 'react-redux';\n\n//import { getOptionValue } from '../../../db/options/selectors';\n\nimport EditorPreview from '../_components/EditorPreview';\n\nexport default connect(\n\t() => ({})\n)(EditorPreview);\n","import { Schema } from 'prosemirror-model';\nimport { nodes, marks } from 'prosemirror-schema-basic';\n\nconst editorSchema = new Schema({\n\tnodes: nodes,\n\tmarks: marks\n});\n\nexport default editorSchema;","/**\n * Convert a proseMirror state to plain text\n */\nexport default function stateToText(state) {\n\tconst json = state.toJSON();\n\n\treturn json.doc.content\n\t\t.map(paragraph => {\n\t\t\tif (!paragraph.content) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\treturn paragraph.content.reduce((acc, current) => {\n\t\t\t\tacc += current.text;\n\t\t\t\treturn acc;\n\t\t\t}, '');\n\t\t})\n\t\t.join('\\n');\n}\n","import domPurify from 'dompurify';\n\n/**\n * Minimal wrapper around DOMPurify library.\n * Pretty drastic also: anything that is HTML is just simply ignored, including text content of tags.\n *\n * @param {String} dirty\n * @returns {String} clean HTML\n */\nexport default function toSafeHtml(dirty) {\n\tconst config = {\n\t\tALLOWED_TAGS: ['p', '#text'],\n\t\tKEEP_CONTENT: false,\n\t};\n\n\treturn domPurify.sanitize(dirty, config);\n}\n","import './ProsemirrorEditorView.scss';\n\nimport React, { useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { EditorState } from 'prosemirror-state';\nimport { EditorView } from 'prosemirror-view';\nimport { DOMParser as pmDOMParser } from 'prosemirror-model';\n\nimport getPlugins from './getPlugins';\nimport editorSchema from './schema';\n\nimport stateToText from './converters/stateToText';\nimport textToDom from './converters/textToDom';\n\nimport 'prosemirror-view/style/prosemirror.css';\n\n\nfunction createEditorState(editorContent) {\n\treturn EditorState.create({\n\t\tdoc: pmDOMParser.fromSchema(editorSchema).parse(textToDom(editorContent), { preserveWhitespace: 'full' }),\n\t\tplugins: getPlugins()\n\t});\n}\n\nfunction createEditorView(editorState, updateFile, fileId) {\n\treturn new EditorView(null, {\n\t\tstate: editorState,\n\t\tdispatchTransaction: function dispatchTransaction(transaction) {\n\t\t\tconst { state, transactions } = this.state.applyTransaction(transaction);\n\n\t\t\tthis.updateState(state);\n\n\t\t\tif (transactions.some(tr => tr.docChanged)) {\n\t\t\t\tupdateFile(fileId, { content: stateToText(state) });\n\t\t\t}\n\t\t},\n\t});\n}\n\nfunction ProseMirrorEditorView(props) {\n\tconst { selectedFileId, editorContent, updateFile } = props;\n\n\tconst editorView = useRef();\n\tconst editorDom = useRef();\n\tconst previousFileId = usePrevious(selectedFileId);\n\n\t/**\n\t * Editor is recreated on component mount and on file change.\n\t * The later is needed as we need to to re-bind the change handler with the new file id.\n\t */\n\tfunction shouldCreateEditor() {\n\t\treturn selectedFileId && (!editorView.current || (previousFileId !== selectedFileId));\n\t}\n\n\t// Editor has been previously created, but now no file is selected anymore\n\tfunction isEditorOrphan() {\n\t\treturn editorExists() && !selectedFileId;\n\t}\n\n\tfunction editorExists() {\n\t\treturn editorView.current && editorView.current.dom.parentNode;\n\t}\n\n\tfunction destroyEditor() {\n\t\teditorView.current.dom.parentNode.removeChild(editorView.current.dom);\n\t}\n\n\tuseEffect(() => {\n\t\tif (shouldCreateEditor()) {\n\t\t\tif (editorExists()) {\n\t\t\t\tdestroyEditor();\n\t\t\t}\n\n\t\t\tconst editorState = createEditorState(editorContent);\n\t\t\teditorView.current = createEditorView(editorState, updateFile, selectedFileId);\n\t\t\teditorDom.current.appendChild(editorView.current.dom);\n\n\t\t\t// expose editor instance as a component property for unit tests\n\t\t\tProseMirrorEditorView.editorView = editorView.current;\n\n\t\t} else if (isEditorOrphan()) {\n\t\t\tdestroyEditor();\n\t\t}\n\t});\n\n\treturn (\n\t\t<div className={'prosemirrorWrapper'} ref={editorDom} />\n\t);\n}\n\nProseMirrorEditorView.defaultProps = {\n\tselectedFileId: '',\n\teditorContent: '',\n};\n\nProseMirrorEditorView.propTypes = {\n\tselectedFileId: PropTypes.string,\n\teditorContent: PropTypes.string,\n\tupdateFile: PropTypes.func.isRequired,\n};\n\nexport default ProseMirrorEditorView;\n\n\n// @see https://reactjs.org/docs/hooks-faq.html#how-to-get-the-previous-props-or-state\nfunction usePrevious(value) {\n\tconst ref = useRef();\n\tuseEffect(() => {\n\t\tref.current = value;\n\t});\n\treturn ref.current;\n}\n","import escapeHTML from './toSafeHtml';\n\n/**\n * @param {String} text\n * @returns {HTMLElement}\n */\nexport default function textToDom(text) {\n\tconst html = escapeHTML(text)\n\t\t.split('\\n')\n\t\t.map(line => `<p>${line}</p>`)\n\t\t.join('');\n\n\tconst div = document.createElement('div');\n\tdiv.innerHTML = escapeHTML(html);\n\n\treturn div;\n}\n","import { keymap } from 'prosemirror-keymap';\nimport { baseKeymap } from 'prosemirror-commands';\nimport { undo, redo, history as pmHistory } from 'prosemirror-history';\n\nexport default function getPlugins() {\n\treturn [\n\t\tpmHistory(),\n\t\tkeymap({ 'Mod-z': undo, 'Mod-y': redo }),\n\t\tkeymap(baseKeymap),\n\t];\n}\n","import './EditorLayout.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport EditorPreview from '../../../songRenderers/editorPreview/_containers/EditorPreview';\nimport ProseMirrorEditorView from '../prosemirror/ProsemirrorEditorView';\n\nfunction EditorLayout(props) {\n\tconst { selectedFile, updateFile } = props;\n\n\treturn (\n\t\t<div className={'songEditor'}>\n\t\t\t<div className={'songEditor-source'}>\n\t\t\t\t<ProseMirrorEditorView\n\t\t\t\t\teditorContent={selectedFile.content}\n\t\t\t\t\tupdateFile={updateFile}\n\t\t\t\t\tselectedFileId={selectedFile.id}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className={'songEditor-preview'}>\n\t\t\t\t<EditorPreview\n\t\t\t\t\tselectedFile={selectedFile}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nEditorLayout.propTypes = {\n\tselectedFile: PropTypes.object,\n\tupdateFile: PropTypes.func.isRequired,\n};\n\nexport default EditorLayout;\n","import './ExportPreview.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport SongRenderer from '../../_containers/SongRenderer';\n\nfunction ExportPreview(props) {\n\tconst { selectedFile } = props;\n\n\treturn (\n\t\t<div className={'exportPreview exp-SongRenderer'}>\n\t\t\t<SongRenderer content={selectedFile.content} />\n\t\t</div>\n\t);\n}\n\nExportPreview.propTypes = {\n\tselectedFile: PropTypes.object.isRequired,\n};\n\nexport default ExportPreview;\n","import './PlayRenderer.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport SongRenderer from '../../_containers/SongRenderer';\n\nfunction PlayRenderer(props) {\n\tconst { selectedFile, fontSize, chordsColor, highlightChords, columnsCount } = props;\n\n\tconst classNames = ['playRenderer'];\n\tclassNames.push('playRenderer--columns-' + columnsCount);\n\tclassNames.push('cmLine--fontSize' + fontSize);\n\tclassNames.push('cmChordSymbol--chordsColor-' + chordsColor);\n\tif (highlightChords) {\n\t\tclassNames.push('cmChordLine--highlightChords');\n\t}\n\n\n\treturn (\n\t\t<div className={'playRendererWrapper1'}>\n\t\t\t<div className={'playRendererWrapper2'}>\n\t\t\t\t<div className={classNames.join(' ')} data-testid={'playRenderer'}>\n\t\t\t\t\t<SongRenderer content={selectedFile.content} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nPlayRenderer.propTypes = {\n\tselectedFile: PropTypes.object.isRequired,\n\tcolumnsCount: PropTypes.number.isRequired,\n\tfontSize: PropTypes.number.isRequired,\n\tchordsColor: PropTypes.string.isRequired,\n\thighlightChords: PropTypes.bool.isRequired,\n};\n\nexport default PlayRenderer;\n","import { connect } from 'react-redux';\n\nimport { getOptionValue } from '../../../db/options/selectors';\n\nimport PlayRenderer from '../_components/PlayRenderer';\n\nexport default connect(\n\tstate => ({\n\t\tchordsColor: getOptionValue(state, 'rendering', 'chordsColor'),\n\t\thighlightChords: getOptionValue(state, 'rendering', 'highlightChords'),\n\t\tfontSize: getOptionValue(state, 'rendering', 'fontSize'),\n\t\tcolumnsCount: getOptionValue(state, 'rendering', 'columnsCount'),\n\t})\n)(PlayRenderer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport escapeHTML from '../../../core/escapeHTML';\n\nfunction Page(props) {\n\tconst { pageHeader, allColumnsLines, documentSize, documentMargins, printFontSize } = props;\n\n\tconst allSectionsRendered = allColumnsLines.map((columnLines, index) => {\n\t\tconst columnLinesTxt = columnLines.join('\\n');\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tkey={index}\n\t\t\t\tclassName={'printPreview-pageColumn'}\n\t\t\t\tdata-testid={'printPreview-pageColumn'}\n\t\t\t\tdangerouslySetInnerHTML={{ __html: escapeHTML(columnLinesTxt) }}\n\t\t\t/>\n\t\t);\n\t});\n\n\tconst pageClasses = ['printPreview-page'];\n\tpageClasses.push('printPreview-page--' + documentSize);\n\tpageClasses.push('printPreview-page--font' + printFontSize);\n\n\tconst pageContentWrapperClasses = ['printPreview-pageContentWrapper'];\n\tpageContentWrapperClasses.push('printPreview-pageContentWrapper--padding' + documentMargins);\n\n\treturn (\n\t\t<div\n\t\t\tclassName={pageClasses.join(' ')}\n\t\t\tdata-testid={'printPreview-page'}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={pageContentWrapperClasses.join(' ')}\n\t\t\t\tdata-testid={'printPreview-pageContentWrapper'}\n\t\t\t>\n\t\t\t\t<div className={'printPreview-pageContent'}>\n\t\t\t\t\t{pageHeader}\n\t\t\t\t\t<div className={'printPreview-pageColumnWrapper'}>\n\t\t\t\t\t\t{allSectionsRendered}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\nPage.defaultProps = {\n\tallColumnsLines: [],\n};\nPage.propTypes = {\n\tpageHeader: PropTypes.element,\n\tallColumnsLines: PropTypes.arrayOf(\n\t\tPropTypes.arrayOf(\n\t\t\tPropTypes.string\n\t\t)\n\t),\n\tdocumentSize: PropTypes.string.isRequired,\n\tdocumentMargins: PropTypes.number.isRequired,\n\tprintFontSize: PropTypes.number.isRequired,\n};\n\nexport default React.memo(Page);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction PageHeader(props) {\n\tconst { title } = props;\n\n\treturn (\n\t\t<div className={'printPreview-pageHeader'}>\n\t\t\t{title}\n\t\t</div>\n\t);\n}\nPageHeader.defaultProps = {\n\tallColumnsLines: [],\n};\nPageHeader.propTypes = {\n\ttitle: PropTypes.string.isRequired,\n};\n\nexport default React.memo(PageHeader);\n","const cssClasses = {\n\temptyLine: 'cmEmptyLine',\n\tchordLine: 'cmChordLine',\n\ttextLine: 'cmTextLine',\n};\n\n\n/**\n * @param {Object[]} allLinesWithHeight\n * @param {String} allLinesWithHeight.content\n * @param {Number} allLinesWithHeight.height\n * @param {Number} columnsCount\n * @param {Number} firstPageHeight\n * @param {Number} normalPageHeight\n * @param {Boolean} columnBreakOnParagraph\n * @param {Boolean} noEmptyLinesOnColumnStart\n * @param {Boolean} noOrphanTextLine\n * @returns {Array} array of pages, as array of columns\n */\nexport default function mapLinesToColumns(allLinesWithHeight, {\n\tcolumnsCount,\n\tfirstPageHeight,\n\tnormalPageHeight,\n\tcolumnBreakOnParagraph,\n\tnoEmptyLinesOnColumnStart = true,\n\tnoOrphanTextLine = true,\n}) {\n\tconst layout = layoutFactory({\n\t\tcolumnsCount,\n\t\tfirstPageHeight,\n\t\tnormalPageHeight,\n\t\tnoEmptyLinesOnColumnStart,\n\t});\n\n\tlet buffer = [];\n\tlet bufferHeight = 0;\n\n\tconst pageHeight = firstPageHeight || normalPageHeight;\n\n\tif (pageHeight > 0) {\n\t\tallLinesWithHeight.forEach((line, lineIndex) => {\n\n\t\t\tif (shouldRenderLine(layout, line, buffer, noEmptyLinesOnColumnStart)) {\n\t\t\t\tbuffer.push(line);\n\t\t\t\tbufferHeight += line.height;\n\t\t\t}\n\n\t\t\tif (buffer.length > 0 && isBreakable(\n\t\t\t\tline,\n\t\t\t\tallLinesWithHeight[lineIndex + 1],\n\t\t\t\t{ noOrphanTextLine, columnBreakOnParagraph }\n\t\t\t)) {\n\t\t\t\tif (layout.fitsOnCurrentColumn(bufferHeight)) {\n\t\t\t\t\tlayout.insert(buffer);\n\n\t\t\t\t} else if (layout.fitsOnNextColumn(bufferHeight)) {\n\t\t\t\t\tlayout.insertOnNextColumn(buffer);\n\n\t\t\t\t} else {\n\t\t\t\t\tlayout.insert(buffer);\n\t\t\t\t}\n\t\t\t\tbuffer = [];\n\t\t\t\tbufferHeight = 0;\n\t\t\t}\n\t\t});\n\t}\n\treturn layout.get();\n}\n\n/**\n * Try to spot the case where the line is empty and would be rendered as the first line\n * of the next column, which we may want to avoid\n */\nfunction shouldRenderLine(layout, line, buffer, noEmptyLinesOnColumnStart) {\n\treturn !(\n\t\tisEmptyLine(line)\n\t\t&& !layout.fitsOnCurrentColumn(line.height)\n\t\t&& buffer.length === 0\n\t\t&& noEmptyLinesOnColumnStart === true\n\t);\n}\n\nfunction isBreakable(currentLine, nextLine, { noOrphanTextLine, columnBreakOnParagraph }) {\n\tif (isEmptyLine(currentLine) || !nextLine) {\n\t\treturn true;\n\t}\n\n\tconst wouldProduceOrphanTextLine = isChordLine(currentLine) && isTextLine(nextLine);\n\tif (noOrphanTextLine === true && wouldProduceOrphanTextLine) {\n\t\treturn false;\n\t}\n\n\tconst isEndOfParagraph = isEmptyLine(nextLine);\n\tif (columnBreakOnParagraph === true && !isEndOfParagraph) {\n\t\treturn false;\n\t}\n\treturn true;\n}\n\nfunction isEmptyLine(line) {\n\treturn hasClass(line.content, cssClasses.emptyLine);\n}\n\nfunction isChordLine(line) {\n\treturn hasClass(line.content, cssClasses.chordLine);\n}\n\nfunction isTextLine(line) {\n\treturn hasClass(line.content, cssClasses.textLine);\n}\n\nfunction hasClass(line, className) {\n\treturn line.indexOf(className) > -1;\n}\n\n\nfunction layoutFactory({ firstPageHeight, normalPageHeight, columnsCount }) {\n\tconst allPagesColumns = [];\n\n\tlet pageIndex = 0;\n\tlet columnIndex = 0;\n\tlet maxColumnHeight = getMaxColumnHeight();\n\tlet currentColumnHeight = 0;\n\n\tallPagesColumns[pageIndex] = [];\n\tallPagesColumns[pageIndex][columnIndex] = [];\n\n\tfunction flushBuffer(buffer) {\n\t\tbuffer.forEach(line => {\n\t\t\tif (shouldChangeColumn(currentColumnHeight + line.height)) {\n\t\t\t\tchangeColumn();\n\t\t\t}\n\t\t\tallPagesColumns[pageIndex][columnIndex].push(line.content);\n\t\t\tcurrentColumnHeight += line.height;\n\t\t});\n\t}\n\n\tfunction getMaxColumnHeight() {\n\t\treturn (pageIndex === 0 && firstPageHeight) ? firstPageHeight : normalPageHeight;\n\t}\n\n\tfunction shouldChangeColumn(nextHeight) {\n\t\treturn nextHeight > maxColumnHeight;\n\t}\n\n\tfunction changeColumn() {\n\t\tif (shouldChangePage()) {\n\t\t\tpageIndex++;\n\t\t\tallPagesColumns[pageIndex] = [];\n\t\t\tcolumnIndex = 0;\n\t\t} else {\n\t\t\tcolumnIndex++;\n\t\t}\n\t\tallPagesColumns[pageIndex][columnIndex] = [];\n\t\tcurrentColumnHeight = 0;\n\t\tmaxColumnHeight = getMaxColumnHeight();\n\t}\n\n\tfunction shouldChangePage() {\n\t\treturn columnIndex === (columnsCount - 1);\n\t}\n\n\treturn {\n\t\tinsert(buffer) {\n\t\t\tflushBuffer(buffer);\n\t\t},\n\n\t\tinsertOnNextColumn(buffer) {\n\t\t\tchangeColumn();\n\t\t\tflushBuffer(buffer);\n\t\t},\n\n\t\tfitsOnCurrentColumn(bufferHeight) {\n\t\t\treturn (currentColumnHeight + bufferHeight) <= maxColumnHeight;\n\t\t},\n\n\t\tfitsOnNextColumn(bufferHeight) {\n\t\t\tconst nextColumnHeight = (pageIndex === 0 && columnIndex < columnsCount && firstPageHeight)\n\t\t\t\t? firstPageHeight\n\t\t\t\t: normalPageHeight;\n\t\t\treturn bufferHeight <= nextColumnHeight;\n\t\t},\n\n\t\tget() {\n\t\t\treturn allPagesColumns;\n\t\t},\n\t};\n}\n\n","import './getDimensionsFromDom.scss';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nexport default function getDimensionsFromDom(component, measuringFn) {\n\tconst container = document.createElement('div');\n\tcontainer.classList.add('measuring-node');\n\tdocument.body.appendChild(container);\n\n\treturn new Promise(resolve => {\n\t\tReactDOM.render(<div>{component}</div>, container, () => {\n\n\t\t\tconst measure = measuringFn(container);\n\n\t\t\tReactDOM.unmountComponentAtNode(container);\n\t\t\tcontainer.parentNode.removeChild(container);\n\n\t\t\tresolve(measure);\n\t\t});\n\t});\n}\n\n","export default function padColumns(columnCount, allColumns = []) {\n\tfor (let i = (allColumns.length || 0); i < columnCount; i++) {\n\t\tallColumns.push([]);\n\t}\n\treturn allColumns;\n}\n","export function getOffsetHeight(element) {\n\treturn element.offsetHeight;\n}\n\nexport function getClientHeight(element) {\n\treturn element.clientHeight;\n}\n","import React from 'react';\n\nimport getDimensionsFromDom from './getDimensionsFromDom';\nimport padColumns from './padColumns';\nimport { getOffsetHeight } from './element';\n\nimport Page from '../_components/Page';\n\nconst cssSelectors = {\n\tline: '.cmLine',\n};\n\nexport default async function getAllLinesHeight(allLines, {\n\tcolumnsCount,\n\tdocumentSize,\n\tdocumentMargins,\n\tprintFontSize\n}) {\n\tconst component = <div className={'printPreview'}>\n\t\t<Page\n\t\t\tallColumnsLines={padColumns(columnsCount, [allLines])}\n\t\t\tcolumnsCount={columnsCount}\n\t\t\tdocumentSize={documentSize}\n\t\t\tdocumentMargins={documentMargins}\n\t\t\tprintFontSize={printFontSize}\n\t\t/>\n\t</div>;\n\n\tconst measuringFn = (container) => {\n\t\tconst allLinesHeight = [];\n\t\tcontainer.querySelectorAll(cssSelectors.line).forEach(line => {\n\t\t\tallLinesHeight.push(getOffsetHeight(line));\n\t\t});\n\t\treturn allLinesHeight;\n\t};\n\n\treturn await getDimensionsFromDom(component, measuringFn);\n}\n","import React from 'react';\n\nimport getDimensionsFromDom from './getDimensionsFromDom';\nimport padColumns from './padColumns';\nimport { getClientHeight } from './element';\n\nimport Page from '../_components/Page';\nimport PageHeader from '../_components/PageHeader';\n\nexport default async function getAllLinesHeight(title, {\n\tcolumnsCount,\n\tdocumentSize,\n\tdocumentMargins,\n\tprintFontSize\n}) {\n\tconst component = <Page\n\t\tpageHeader={<PageHeader title={title} />}\n\t\tallColumnsLines={padColumns(columnsCount)}\n\t\tdocumentSize={documentSize}\n\t\tdocumentMargins={documentMargins}\n\t\tprintFontSize={printFontSize}\n\t/>;\n\n\tconst measuringFn = (container) => {\n\t\tconst pageContent = container.querySelector('.printPreview-pageContent');\n\t\tconst pageColumnWrapper = container.querySelector('.printPreview-pageColumnWrapper');\n\t\treturn {\n\t\t\tfirstPageHeight: getClientHeight(pageColumnWrapper),\n\t\t\tnormalPageHeight: getClientHeight(pageContent),\n\t\t};\n\t};\n\n\treturn await getDimensionsFromDom(component, measuringFn);\n}\n","import React, { useState, useLayoutEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Page from './Page';\nimport PageHeader from './PageHeader';\n\nimport mapLinesToColumns from '../helpers/mapLinesToColumns';\nimport getAllLinesHeight from '../helpers/getAllLinesHeight';\nimport getPagesHeight from '../helpers/getPagesHeight';\nimport padColumns from '../helpers/padColumns';\n\n\nfunction AllPages(props) {\n\tconst [ allPagesColumns, setAllPagesColumns ] = useState([]);\n\n\tconst {\n\t\ttitle,\n\t\tallLines,\n\t\tcolumnsCount,\n\t\tcolumnBreakOnParagraph,\n\t\tdocumentSize,\n\t\tdocumentMargins,\n\t\tprintFontSize,\n\t} = props;\n\n\tuseLayoutEffect(() => {\n\t\tconst getDimensions = async () => {\n\t\t\tconst pageOptions = {\n\t\t\t\tcolumnsCount,\n\t\t\t\tdocumentSize,\n\t\t\t\tdocumentMargins,\n\t\t\t\tprintFontSize\n\t\t\t};\n\n\t\t\tconst allLinesHeight = await getAllLinesHeight(allLines, pageOptions);\n\n\t\t\tconst { normalPageHeight, firstPageHeight } = await getPagesHeight(title, pageOptions);\n\n\t\t\tconst allLinesWithHeight = allLines.map((line, index) => ({\n\t\t\t\tcontent: line,\n\t\t\t\theight: allLinesHeight[index]\n\t\t\t}));\n\n\t\t\tconst mapped = mapLinesToColumns(allLinesWithHeight, {\n\t\t\t\tcolumnsCount,\n\t\t\t\tcolumnBreakOnParagraph,\n\t\t\t\tnormalPageHeight,\n\t\t\t\tfirstPageHeight,\n\t\t\t});\n\n\t\t\tsetAllPagesColumns(mapped);\n\t\t};\n\t\tgetDimensions();\n\t}, [\n\t\tallLines,\n\t\ttitle,\n\t\tcolumnsCount,\n\t\tcolumnBreakOnParagraph,\n\t\tdocumentSize,\n\t\tdocumentMargins,\n\t\tprintFontSize,\n\t]);\n\n\tconst allPagesRendered = allPagesColumns.map((pageColumns, index) => {\n\t\treturn <Page\n\t\t\tkey={index}\n\t\t\tpageHeader={(index === 0) ? <PageHeader title={title} /> : null}\n\t\t\tallColumnsLines={padColumns(columnsCount, pageColumns)}\n\t\t\tdocumentSize={documentSize}\n\t\t\tdocumentMargins={documentMargins}\n\t\t\tprintFontSize={printFontSize}\n\t\t/>;\n\t});\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t{allPagesRendered}\n\t\t</React.Fragment>\n\t);\n}\n\nAllPages.propTypes = {\n\ttitle: PropTypes.string.isRequired,\n\tallLines: PropTypes.arrayOf(PropTypes.string).isRequired,\n\tcolumnsCount: PropTypes.number.isRequired,\n\tcolumnBreakOnParagraph: PropTypes.bool.isRequired,\n\tdocumentSize: PropTypes.string.isRequired,\n\tdocumentMargins: PropTypes.number.isRequired,\n\tprintFontSize: PropTypes.number.isRequired,\n};\n\nexport default AllPages;\n","import './PrintPreview.scss';\n\nimport _pick from 'lodash/pick';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport renderSong from '../../../core/renderSong';\nimport AllPages from './AllPages';\n\n\nfunction PrintPreview(props) {\n\tconst { selectedFile, highlightChords } = props;\n\n\tconst renderOptions = _pick(props, [\n\t\t'alignBars',\n\t\t'harmonizeAccidentals',\n\t\t'accidentalsType',\n\t\t'transposeValue',\n\t\t'autoRepeatChords',\n\t\t'expandSectionRepeats',\n\t\t'useShortNamings',\n\t\t'simplifyChords',\n\t]);\n\n\tconst allLines = renderSong(selectedFile.content || '', renderOptions).split('\\n');\n\n\tconst classNames = ['printPreview'];\n\tif (highlightChords) {\n\t\tclassNames.push('cmChordLine--highlightChords');\n\t}\n\n\treturn (\n\t\t<div className={classNames.join(' ')} data-testid={'printPreview'}>\n\t\t\t<AllPages\n\t\t\t\ttitle={selectedFile.title}\n\t\t\t\tallLines={allLines}\n\t\t\t\tcolumnsCount={props.columnsCount}\n\t\t\t\tcolumnBreakOnParagraph={props.columnBreakOnParagraph}\n\t\t\t\tdocumentSize={props.documentSize}\n\t\t\t\tdocumentMargins={props.documentMargins}\n\t\t\t\tprintFontSize={props.printFontSize}\n\t\t\t/>\n\t\t</div>\n\t);\n}\nPrintPreview.propTypes = {\n\tselectedFile: PropTypes.object.isRequired,\n\tcolumnsCount: PropTypes.number.isRequired,\n\tcolumnBreakOnParagraph: PropTypes.bool.isRequired,\n\tdocumentSize: PropTypes.string.isRequired,\n\tdocumentMargins: PropTypes.number.isRequired,\n\tprintFontSize: PropTypes.number.isRequired,\n\thighlightChords: PropTypes.bool.isRequired,\n};\n\nexport default PrintPreview;\n\n","import { connect } from 'react-redux';\n\nimport { getOptionValue } from '../../../db/options/selectors';\n\nimport PrintPreview from '../_components/PrintPreview';\n\nexport default connect(\n\tstate => ({\n\t\tcolumnsCount: getOptionValue(state, 'rendering', 'columnsCount'),\n\t\tcolumnBreakOnParagraph: getOptionValue(state, 'rendering', 'columnBreakOnParagraph'),\n\t\tdocumentSize: getOptionValue(state, 'rendering', 'documentSize'),\n\t\tdocumentMargins: getOptionValue(state, 'rendering', 'documentMargins'),\n\t\taccidentalsType: getOptionValue(state, 'rendering', 'preferredAccidentals'),\n\t\talignBars: getOptionValue(state, 'rendering', 'alignBars'),\n\t\tharmonizeAccidentals: getOptionValue(state, 'rendering', 'harmonizeAccidentals'),\n\t\ttransposeValue: getOptionValue(state, 'rendering', 'transposeValue'),\n\t\tprintFontSize: getOptionValue(state, 'rendering', 'printFontSize'),\n\t\thighlightChords: getOptionValue(state, 'rendering', 'highlightChords'),\n\t\tautoRepeatChords: getOptionValue(state, 'rendering', 'autoRepeatChords'),\n\t\texpandSectionRepeats: getOptionValue(state, 'rendering', 'expandSectionRepeats'),\n\t\tuseShortNamings: getOptionValue(state, 'rendering', 'useShortNamings'),\n\t\tsimplifyChords: getOptionValue(state, 'rendering', 'simplifyChords'),\n\t})\n)(PrintPreview);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport EditorLayout from '../songEditor/_components/EditorLayout';\nimport ExportPreview from '../../songRenderers/exportPreview/_components/ExportPreview';\nimport PlayRenderer from '../../songRenderers/playRenderer/_containers/PlayRenderer';\nimport PrintPreview from '../../songRenderers/printPreview/_containers/PrintPreview';\n\nfunction Editor(props) {\n\tconst { editorMode } = props;\n\n\tswitch (editorMode) {\n\t\tcase 'edit': return <EditorLayout {...props} />;\n\t\tcase 'play': return <PlayRenderer {...props} />;\n\t\tcase 'print': return <PrintPreview {...props} />;\n\t\tcase 'export': return <ExportPreview {...props} />;\n\t}\n}\n\nEditor.propTypes = {\n\teditorMode: PropTypes.string.isRequired,\n};\n\nexport default Editor;\n","import { connect } from 'react-redux';\n\nimport { getSelectedId } from '../../fileManager/_state/selectors';\nimport { getEditorMode } from '../../ui/layout/app/_state/selectors';\n\nimport { getOne } from '../../db/files/selectors';\nimport { updateFile } from '../../db/files/actions';\n\nimport Editor from '../_components/Editor';\n\nexport default connect(\n\tstate => ({\n\t\tselectedFile: getOne(state, getSelectedId(state)) || {},\n\t\teditorMode: getEditorMode(state),\n\t}),\n\n\t{\n\t\tupdateFile\n\t}\n\n)(Editor);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction OptionsPanel(props) {\n\tconst {\n\t\tid,\n\t\tallWidgets,\n\t\tnonInteractableWidgets,\n\t\thiddenWidgets,\n\t\tsetOption,\n\t\tgetEntryComponent,\n\t} = props;\n\n\tconst classNames = [\n\t\t'optionsPanel',\n\t\t'optionsPanel-' + id\n\t];\n\n\tlet widget, groupWidget;\n\n\tlet WidgetComponent, GroupComponent;\n\tlet isGroupInteractable, isGroupWidgetInteractable;\n\n\tlet renderedGroupWidgets;\n\n\tconst renderedWidgets = allWidgets.widgetsOrder\n\t\t.filter(widgetId => {\n\t\t\treturn !(hiddenWidgets.includes(widgetId));\n\t\t})\n\t\t.map(widgetId => {\n\t\t\twidget = allWidgets.allWidgets[widgetId];\n\n\t\t\tif (widget.type === 'optionsGroup') {\n\t\t\t\trenderedGroupWidgets = widget.groupWidgetsOrder\n\t\t\t\t\t.filter(groupWidgetId => {\n\t\t\t\t\t\treturn !(hiddenWidgets.includes(groupWidgetId));\n\t\t\t\t\t})\n\t\t\t\t\t.map(groupWidgetId => {\n\t\t\t\t\t\tgroupWidget = widget.allGroupWidgets[groupWidgetId];\n\n\t\t\t\t\t\tisGroupWidgetInteractable = !(nonInteractableWidgets.includes(widgetId)) && !(nonInteractableWidgets.includes(groupWidgetId));\n\n\t\t\t\t\t\treturn renderWidget(\n\t\t\t\t\t\t\tgroupWidgetId,\n\t\t\t\t\t\t\tgroupWidget,\n\t\t\t\t\t\t\tisGroupWidgetInteractable\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\n\t\t\t\tGroupComponent = getEntryComponent(widget.type);\n\t\t\t\tisGroupInteractable = !(nonInteractableWidgets.includes(widgetId));\n\n\t\t\t\treturn (\n\t\t\t\t\t<GroupComponent\n\t\t\t\t\t\tkey={widgetId}\n\t\t\t\t\t\tisInteractable={isGroupInteractable}\n\t\t\t\t\t\tlabel={widget.label}\n\t\t\t\t\t\ticon={widget.icon}\n\t\t\t\t\t>\n\t\t\t\t\t\t{renderedGroupWidgets}\n\t\t\t\t\t</GroupComponent>\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\treturn renderWidget(\n\t\t\t\t\twidgetId,\n\t\t\t\t\twidget,\n\t\t\t\t\t!(nonInteractableWidgets.includes(widgetId))\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\n\tfunction renderWidget(widgetId, localWidget, isInteractable) {\n\t\tWidgetComponent = getEntryComponent(localWidget.type);\n\n\t\treturn (\n\t\t\t<WidgetComponent\n\t\t\t\tkey={widgetId}\n\t\t\t\tisInteractable={isInteractable}\n\n\t\t\t\toptionContext={localWidget.option.context}\n\t\t\t\toptionKey={localWidget.option.key}\n\t\t\t\toptionValue={props[localWidget.option.key]}\n\t\t\t\tsetOption={setOption}\n\n\t\t\t\tlabel={localWidget.label}\n\t\t\t\t{...localWidget.typeOptions}\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className={classNames.join(' ')}>\n\t\t\t{renderedWidgets}\n\t\t</div>\n\t);\n}\n\nOptionsPanel.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tallWidgets: PropTypes.object.isRequired,\n\tnonInteractableWidgets: PropTypes.arrayOf(PropTypes.string).isRequired,\n\thiddenWidgets: PropTypes.arrayOf(PropTypes.string).isRequired,\n\tsetOption: PropTypes.func.isRequired,\n\tgetEntryComponent: PropTypes.func.isRequired,\n};\n\nexport default OptionsPanel;\n","import './OptionsGroup.scss';\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../../_components/Icon';\n\nfunction OptionsGroup(props) {\n\tconst [ isOpened, setIsOpened ] = useState(props.isOpened);\n\n\tconst {\n\t\tisInteractable,\n\t\ticon,\n\t\tlabel\n\t} = props;\n\n\tconst classNames = ['sb-optionsGroup'];\n\tif (!shouldBeInteractable()) {\n\t\tclassNames.push('sb-optionsGroup-isNotInteractable');\n\t}\n\n\tif (shouldBeClosed()) {\n\t\tsetIsOpened(false);\n\t}\n\n\tfunction shouldBeInteractable() {\n\t\treturn isInteractable && props.children && props.children.length > 0;\n\t}\n\n\tfunction shouldBeClosed() {\n\t\treturn isOpened && (!props.children || props.children.length === 0);\n\t}\n\n\tfunction handleClick() {\n\t\tsetIsOpened(!isOpened);\n\t}\n\n\treturn (\n\t\t<div className={classNames.join(' ')}>\n\t\t\t<div\n\t\t\t\tclassName={'sb-optionsGroup-title'}\n\t\t\t\tonClick={(shouldBeInteractable()) ? handleClick : null}\n\t\t\t>\n\t\t\t\t<div className={'sb-optionsGroup-label'}>\n\t\t\t\t\t<span className={'sb-optionsGroup-iconTitle'}><Icon iconName={icon} /></span> {label}\n\t\t\t\t</div>\n\t\t\t\t<div className={'sb-optionsGroup-toggle'}>\n\t\t\t\t\t<span className={'sb-optionsGroup-iconToggle'}>\n\t\t\t\t\t\t<Icon iconName={(isOpened) ? 'unfold_less' : 'unfold_more' } />\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className={'sb-optionsGroup-content'}>\n\t\t\t\t{isOpened && props.children}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nOptionsGroup.propTypes = {\n\tisOpened: PropTypes.bool,\n\tisInteractable: PropTypes.bool.isRequired,\n\ticon: PropTypes.string.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\tchildren: PropTypes.arrayOf(PropTypes.element),\n};\n\nOptionsGroup.defaultProps = {\n\tisOpened: true,\n};\n\nexport default OptionsGroup;\n","import './Select.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../../_components/Icon';\n\nfunction SelectChoice(props) {\n\tconst {\n\t\tisSelected,\n\t\tlabel,\n\t\tonClick\n\t} = props;\n\n\tlet checkIcon;\n\tconst classNames = ['sb-optionSelectChoice'];\n\n\tif (isSelected) {\n\t\tclassNames.push('sb-optionSelectChoice-isSelected');\n\t\tcheckIcon = (\n\t\t\t<span className={'sb-optionSelectChoice-checkIcon'}>\n\t\t\t\t<Icon iconName={'check'} />\n\t\t\t</span>\n\t\t);\n\t}\n\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames.join(' ')}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t<div className={'sb-optionSelectChoice-check'}>\n\t\t\t\t{isSelected && checkIcon}\n\t\t\t</div>\n\t\t\t<div className={'sb-optionSelectChoice-label'}>\n\t\t\t\t{label}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nSelectChoice.propTypes = {\n\tisSelected: PropTypes.bool.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\tonClick: PropTypes.func.isRequired,\n};\n\nexport default React.memo(SelectChoice);\n\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport SelectChoice from './SelectChoice';\n\nimport Icon from '../../../_components/Icon';\n\nfunction Select(props) {\n\tconst [ isOpen, setIsOpen ] = useState(false);\n\n\tconst {\n\t\tisInteractable,\n\t\tlabel,\n\t\tallChoices,\n\t\toptionContext,\n\t\toptionKey,\n\t\toptionValue,\n\t\tsetOption\n\t} = props;\n\n\tconst classNames = ['sb-optionSelect'];\n\tif (!isInteractable) {\n\t\tclassNames.push('sb-optionSelect-isNotInteractable');\n\t}\n\n\tconst iconName = (isOpen) ? 'keyboard_arrow_down' : 'keyboard_arrow_right';\n\n\tfunction toggleChoices() {\n\t\tsetIsOpen(!isOpen);\n\t}\n\n\tconst renderedChoices = (!isOpen)\n\t\t? null\n\t\t: (\n\t\t\t<div className={'sb-optionSelect-choices'}>\n\t\t\t\t{allChoices.map(choice =>\n\t\t\t\t\t<SelectChoice\n\t\t\t\t\t\tkey={choice.value}\n\t\t\t\t\t\tlabel={choice.label}\n\t\t\t\t\t\tisSelected={(optionValue === choice.value)}\n\t\t\t\t\t\tonClick={() => setOption(optionContext, optionKey, choice.value)}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\n\n\treturn (\n\t\t<div className={classNames.join(' ')}>\n\t\t\t<div\n\t\t\t\tclassName={'sb-optionSelect-title'}\n\t\t\t\tonClick={(isInteractable) ? toggleChoices : null}\n\t\t\t>\n\t\t\t\t<div className={'sb-optionSelect-desc'}>{label}</div>\n\t\t\t\t<div className={'sb-optionSelect-toggle'}>\n\t\t\t\t\t<span className={'sb-optionSelect-icon'}>\n\t\t\t\t\t\t<Icon iconName={iconName} />\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{renderedChoices}\n\t\t</div>\n\t);\n}\n\nSelect.propTypes = {\n\tisInteractable: PropTypes.bool.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\tallChoices: PropTypes.array.isRequired,\n\toptionContext: PropTypes.string.isRequired,\n\toptionKey: PropTypes.string.isRequired,\n\toptionValue: PropTypes.string.isRequired,\n\tsetOption: PropTypes.func.isRequired\n};\n\nexport default Select;\n","import './Slider.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Slider(props) {\n\tconst {\n\t\tisInteractable,\n\t\tlabel,\n\t\tmin,\n\t\tmax,\n\t\tshowPlusSymbol,\n\t\toptionContext,\n\t\toptionKey,\n\t\toptionValue,\n\t\tsetOption\n\t} = props;\n\n\tconst classNames = ['sb-optionSlider'];\n\tif (!isInteractable) {\n\t\tclassNames.push('sb-optionSlider-isNotInteractable');\n\t}\n\n\tfunction handleChange(e) {\n\t\tsetOption(\n\t\t\toptionContext,\n\t\t\toptionKey,\n\t\t\tNumber.parseInt(e.target.value)\n\t\t);\n\t}\n\n\tconst valueDisplay = (optionValue > 0 && showPlusSymbol)\n\t\t? '+' + optionValue\n\t\t: optionValue;\n\n\treturn (\n\t\t<div className={classNames.join(' ')}>\n\t\t\t<div className={'sb-optionSlider-desc'}>{label}</div>\n\t\t\t<div className={'sb-optionSlider-value'}>{valueDisplay}</div>\n\t\t\t<div className={'sb-optionSlider-range'}>\n\t\t\t\t<input\n\t\t\t\t\tmin={min}\n\t\t\t\t\tmax={max}\n\t\t\t\t\tvalue={optionValue}\n\t\t\t\t\ttype={'range'}\n\t\t\t\t\tonChange={(isInteractable) ? handleChange : null}\n\t\t\t\t\tdisabled={!isInteractable}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nSlider.propTypes = {\n\tisInteractable: PropTypes.bool.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\tmin: PropTypes.number.isRequired,\n\tmax: PropTypes.number.isRequired,\n\tshowPlusSymbol: PropTypes.bool,\n\toptionContext: PropTypes.string.isRequired,\n\toptionKey: PropTypes.string.isRequired,\n\toptionValue: PropTypes.number.isRequired,\n\tsetOption: PropTypes.func.isRequired,\n};\n\nSlider.defaultProps = {\n\tshowPlusSymbol: true\n};\n\nexport default React.memo(Slider);\n","import './Toggle.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../../_components/Icon';\n\nfunction Toggle(props) {\n\tconst {\n\t\tisInteractable,\n\t\tlabel,\n\t\toptionContext,\n\t\toptionKey,\n\t\toptionValue,\n\t\tsetOption\n\t} = props;\n\n\tconst classNames = ['sb-optionToggle'];\n\tclassNames.push(\n\t\t(optionValue === true) ? 'sb-optionToggle-isOn' : 'sb-optionToggle-isOff'\n\t);\n\tif (!isInteractable) {\n\t\tclassNames.push('sb-optionToggle-isNotInteractable');\n\t}\n\n\tfunction handleClick() {\n\t\tsetOption(optionContext, optionKey, !optionValue);\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames.join(' ')}\n\t\t\tonClick={(isInteractable) ? handleClick : null}\n\t\t>\n\t\t\t<div className={'sb-optionToggle-desc'}>{label}</div>\n\t\t\t<div className={'sb-optionToggle-icon'}>\n\t\t\t\t<span className={'sb-optionToggle-icon'}>\n\t\t\t\t\t<Icon iconName={(optionValue === true) ? 'toggle_on' : 'toggle_off' } />\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nToggle.propTypes = {\n\tisInteractable: PropTypes.bool.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\toptionContext: PropTypes.string.isRequired,\n\toptionKey: PropTypes.string.isRequired,\n\toptionValue: PropTypes.bool.isRequired,\n\tsetOption: PropTypes.func.isRequired,\n};\n\nexport default React.memo(Toggle);\n","import './SidebarOptionsPanel.scss';\n\nimport React from 'react';\n\nimport OptionPanel from '../../../../optionsPanels/_components/OptionsPanel';\n\nimport OptionsGroup from './OptionsGroup';\nimport Select from './Select';\nimport Slider from './Slider';\nimport Toggle from './Toggle';\n\n\nfunction getEntryComponent(type) {\n\tswitch (type) {\n\t\tcase 'optionsGroup': return OptionsGroup;\n\t\tcase 'select': return Select;\n\t\tcase 'slider': return Slider;\n\t\tcase 'toggle': return Toggle;\n\t}\n}\n\nexport default function SidebarOptionPanel(props) {\n\treturn (\n\t\t<div className={'sb-optionsPanel'}>\n\t\t\t<OptionPanel\n\t\t\t\t{...props}\n\t\t\t\tgetEntryComponent={getEntryComponent}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n","import createAction from '../../core/createAction';\nimport * as actionTypes from './actionsTypes';\n\n\nexport const setOptionValue = (context, key, value) => {\n\tif (!context) {\n\t\tthrow new TypeError('Cannot set an option without a context');\n\t}\n\tif (!key) {\n\t\tthrow new TypeError('Cannot set an option without a key');\n\t}\n\tconst payload = {\n\t\tcontext,\n\t\tkey,\n\t\tvalue\n\t};\n\treturn createAction(actionTypes.DB_OPTION_SET_OPTION_VALUE, payload);\n};\n\n","import Rendering from '../_components/Rendering';\nimport OptionsPanelFactory from '../../_containers/OptionsPanelFactory';\n\nimport allWidgets from '../allWidgets';\nimport { getNonInteractableWidgets, getHiddenWidgets } from '../_state/selectors';\n\nexport default OptionsPanelFactory(allWidgets, getNonInteractableWidgets, getHiddenWidgets, Rendering);\n","import { connect } from 'react-redux';\n\nimport { getOptionValue } from '../../db/options/selectors';\nimport { setOptionValue } from '../../db/options/actions';\n\nexport default function OptionsPanelFactory(allWidgets, getNonInteractableWidgets, getHiddenWidgets, component) {\n\treturn connect(\n\t\tstate => {\n\t\t\tconst stateToProps = {\n\t\t\t\tallWidgets,\n\t\t\t\tnonInteractableWidgets: getNonInteractableWidgets(state),\n\t\t\t\thiddenWidgets: getHiddenWidgets(state),\n\t\t\t};\n\n\t\t\tlet widget;\n\t\t\tlet groupWidget;\n\n\t\t\tallWidgets.widgetsOrder.forEach(widgetId => {\n\t\t\t\twidget = allWidgets.allWidgets[widgetId];\n\n\t\t\t\tif (widget.type === 'optionsGroup') {\n\t\t\t\t\twidget.groupWidgetsOrder.forEach(groupWidgetId => {\n\t\t\t\t\t\tgroupWidget = widget.allGroupWidgets[groupWidgetId];\n\n\t\t\t\t\t\tstateToProps[groupWidget.option.key] = getOptionValue(state, groupWidget.option.context, groupWidget.option.key);\n\t\t\t\t\t});\n\n\t\t\t\t} else {\n\t\t\t\t\tstateToProps[widget.option.key] = getOptionValue(state, widget.option.context, widget.option.key);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn stateToProps;\n\t\t},\n\n\t\t{\n\t\t\tsetOption: setOptionValue\n\t\t}\n\n\t)(component);\n}\n\n","/* eslint-disable max-lines */\nexport default {\n\twidgetsOrder: [\n\t\t'style',\n\t\t'alignBars',\n\t\t'autoRepeatChords',\n\t\t'expandSectionRepeats',\n\n\t\t'layout',\n\t\t'helpers',\n\t\t'chords',\n\t\t'format',\n\t],\n\n\tallWidgets: {\n\t\tstyle: {\n\t\t\tlabel: 'Rendering style',\n\t\t\ttype: 'select',\n\t\t\ttypeOptions: {\n\t\t\t\tallChoices: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'styleChordMark',\n\t\t\t\t\t\tlabel: 'ChordMark',\n\t\t\t\t\t\tvalue: 'chordmark'\n\t\t\t\t\t},\n\t\t\t\t\t// {\n\t\t\t\t\t// \tid: 'styleChordpro',\n\t\t\t\t\t// \tlabel: 'ChordPro',\n\t\t\t\t\t// \tvalue: 'chordpro'\n\t\t\t\t\t// },\n\t\t\t\t],\n\t\t\t},\n\t\t\toption: {\n\t\t\t\tcontext: 'rendering',\n\t\t\t\tkey: 'style'\n\t\t\t},\n\t\t},\n\t\talignBars: {\n\t\t\tlabel: 'Align bars',\n\t\t\ttype: 'toggle',\n\t\t\toption: {\n\t\t\t\tcontext: 'rendering',\n\t\t\t\tkey: 'alignBars'\n\t\t\t},\n\t\t},\n\t\tautoRepeatChords: {\n\t\t\tlabel: 'Auto repeat chords',\n\t\t\ttype: 'toggle',\n\t\t\toption: {\n\t\t\t\tcontext: 'rendering',\n\t\t\t\tkey: 'autoRepeatChords'\n\t\t\t},\n\t\t},\n\t\texpandSectionRepeats: {\n\t\t\tlabel: 'Expand section repeats',\n\t\t\ttype: 'toggle',\n\t\t\toption: {\n\t\t\t\tcontext: 'rendering',\n\t\t\t\tkey: 'expandSectionRepeats'\n\t\t\t},\n\t\t},\n\n\n\n\t\tlayout: {\n\t\t\ttype: 'optionsGroup',\n\t\t\tlabel: 'Layout',\n\t\t\ticon: 'view_compact',\n\n\t\t\tgroupWidgetsOrder: [\n\t\t\t\t'documentSize',\n\t\t\t\t'documentMargins',\n\t\t\t\t'columnsCount',\n\t\t\t\t'columnBreakOnParagraph',\n\t\t\t],\n\t\t\tallGroupWidgets: {\n\t\t\t\tdocumentSize: {\n\t\t\t\t\tlabel: 'Document size',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tallChoices: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'documentSizeA4',\n\t\t\t\t\t\t\t\tlabel: 'A4',\n\t\t\t\t\t\t\t\tvalue: 'a4'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'documentSizeBooxMax2Pro',\n\t\t\t\t\t\t\t\tlabel: 'Boox Max 2 Pro',\n\t\t\t\t\t\t\t\tvalue: 'booxmax2pro'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'documentSize'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tdocumentMargins: {\n\t\t\t\t\tlabel: 'Margins',\n\t\t\t\t\ttype: 'slider',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\tmax: 5\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'documentMargins'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tcolumnsCount: {\n\t\t\t\t\tlabel: 'Columns',\n\t\t\t\t\ttype: 'slider',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\tmax: 4\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'columnsCount'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tcolumnBreakOnParagraph: {\n\t\t\t\t\tlabel: 'Break on paragraph',\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'columnBreakOnParagraph'\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\n\n\t\thelpers: {\n\t\t\ttype: 'optionsGroup',\n\t\t\tlabel: 'Helpers',\n\t\t\ticon: 'remove_red_eye',\n\n\t\t\tgroupWidgetsOrder: [\n\t\t\t\t'showChords',\n\t\t\t\t'instrument',\n\t\t\t\t'showStrummingPattern',\n\t\t\t],\n\n\t\t\tallGroupWidgets: {\n\t\t\t\tshowChords: {\n\t\t\t\t\tlabel: 'Show chords diagrams',\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'showChords'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tinstrument: {\n\t\t\t\t\tlabel: 'Instrument',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tallChoices: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'instrumentGuitar',\n\t\t\t\t\t\t\t\tlabel: 'Guitar',\n\t\t\t\t\t\t\t\tvalue: 'guitar'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'instrumentUkulele',\n\t\t\t\t\t\t\t\tlabel: 'Ukulele',\n\t\t\t\t\t\t\t\tvalue: 'ukulele'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'instrumentMandolin',\n\t\t\t\t\t\t\t\tlabel: 'Mandolin',\n\t\t\t\t\t\t\t\tvalue: 'mandolin'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'instrumentPiano',\n\t\t\t\t\t\t\t\tlabel: 'Piano',\n\t\t\t\t\t\t\t\tvalue: 'piano'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'instrument'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tshowStrummingPattern: {\n\t\t\t\t\tlabel: 'Show strumming pattern',\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'showStrummingPattern'\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\n\n\t\tchords: {\n\t\t\ttype: 'optionsGroup',\n\t\t\tlabel: 'Chords',\n\t\t\ticon: 'music_note',\n\n\t\t\tgroupWidgetsOrder: [\n\t\t\t\t'transposeValue',\n\t\t\t\t'simplifyChords',\n\t\t\t\t'capoPosition',\n\t\t\t\t'harmonizeAccidentals',\n\t\t\t\t'preferredAccidentals',\n\t\t\t\t'useShortNamings',\n\t\t\t],\n\n\t\t\tallGroupWidgets: {\n\t\t\t\ttransposeValue: {\n\t\t\t\t\tlabel: 'Transpose',\n\t\t\t\t\ttype: 'slider',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tmin: -11,\n\t\t\t\t\t\tmax: 11,\n\t\t\t\t\t\tshowPlusSymbol: true,\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'transposeValue'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tsimplifyChords: {\n\t\t\t\t\tlabel: 'Simplify chords',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tallChoices: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'simplifyChordsNone',\n\t\t\t\t\t\t\t\tlabel: 'None',\n\t\t\t\t\t\t\t\tvalue: 'none',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'simplifyChordsMax',\n\t\t\t\t\t\t\t\tlabel: 'Max',\n\t\t\t\t\t\t\t\tvalue: 'max',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'simplifyChordsCore',\n\t\t\t\t\t\t\t\tlabel: 'Core',\n\t\t\t\t\t\t\t\tvalue: 'core',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'simplifyChords'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tcapoPosition: {\n\t\t\t\t\tlabel: 'Add capo on fret',\n\t\t\t\t\ttype: 'slider',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\tmax: 11,\n\t\t\t\t\t\tshowPlusSymbol: false,\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'capoPosition'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tharmonizeAccidentals: {\n\t\t\t\t\tlabel: 'Harmonize accidentals',\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'harmonizeAccidentals'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tpreferredAccidentals: {\n\t\t\t\t\tlabel: 'Preferred accidentals',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tallChoices: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'preferredAccidentalsAuto',\n\t\t\t\t\t\t\t\tlabel: 'Auto',\n\t\t\t\t\t\t\t\tvalue: 'auto'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'preferredAccidentalsSharp',\n\t\t\t\t\t\t\t\tlabel: 'Sharp (#)',\n\t\t\t\t\t\t\t\tvalue: 'sharp'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'preferredAccidentalsFlat',\n\t\t\t\t\t\t\t\tlabel: 'Flats (b)',\n\t\t\t\t\t\t\t\tvalue: 'flat'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'preferredAccidentals'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tuseShortNamings: {\n\t\t\t\t\tlabel: 'Use short names',\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'useShortNamings'\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\n\n\t\tformat: {\n\t\t\ttype: 'optionsGroup',\n\t\t\tlabel: 'Format',\n\t\t\ticon: 'format_size',\n\n\t\t\tgroupWidgetsOrder: [\n\t\t\t\t'fontSize',\n\t\t\t\t'printFontSize',\n\t\t\t\t'fontStyle',\n\t\t\t\t'chordsColor',\n\t\t\t\t'highlightChords',\n\t\t\t],\n\n\t\t\tallGroupWidgets: {\n\t\t\t\tfontSize: {\n\t\t\t\t\tlabel: 'Font size',\n\t\t\t\t\ttype: 'slider',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tmin: -5,\n\t\t\t\t\t\tmax: +5,\n\t\t\t\t\t\tshowPlusSymbol: true,\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'fontSize'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tprintFontSize: {\n\t\t\t\t\tlabel: 'Font size (print)',\n\t\t\t\t\ttype: 'slider',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tmin: -5,\n\t\t\t\t\t\tmax: +5,\n\t\t\t\t\t\tshowPlusSymbol: true,\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'printFontSize'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tfontStyle: {\n\t\t\t\t\tlabel: 'Font style',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tallChoices: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'fontStyleRoboto',\n\t\t\t\t\t\t\t\tlabel: 'Roboto',\n\t\t\t\t\t\t\t\tvalue: 'roboto'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'fontStyle'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tchordsColor: {\n\t\t\t\t\tlabel: 'Chords color',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tallChoices: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'chordsColor',\n\t\t\t\t\t\t\t\tlabel: 'Base',\n\t\t\t\t\t\t\t\tvalue: 'base'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'chordsColorRed',\n\t\t\t\t\t\t\t\tlabel: 'Red',\n\t\t\t\t\t\t\t\tvalue: 'red'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'chordsColorYellow',\n\t\t\t\t\t\t\t\tlabel: 'Yellow',\n\t\t\t\t\t\t\t\tvalue: 'yellow'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'chordsColorGreen',\n\t\t\t\t\t\t\t\tlabel: 'Green',\n\t\t\t\t\t\t\t\tvalue: 'green'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'chordsColor'\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\thighlightChords: {\n\t\t\t\t\tlabel: 'Highlight Chords',\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'rendering',\n\t\t\t\t\t\tkey: 'highlightChords'\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\t},\n};\n","import { getEditorMode } from '../../../ui/layout/app/_state/selectors';\nimport { getOptionValue } from '../../../db/options/selectors';\n\nexport const getNonInteractableWidgets = (state) => {\n\tconst nonInteractableWidgets = [];\n\n\tconst editorMode = getEditorMode(state);\n\n\tswitch (editorMode) {\n\t\tcase 'edit': {\n\t\t\tnonInteractableWidgets.push('helpers');\n\t\t\tnonInteractableWidgets.push('layout');\n\t\t\tnonInteractableWidgets.push('style');\n\t\t\tnonInteractableWidgets.push('format');\n\n\t\t\tbreak;\n\t\t}\n\t\tcase 'play': {\n\t\t\tnonInteractableWidgets.push('documentSize');\n\t\t\tnonInteractableWidgets.push('documentMargins');\n\t\t\tnonInteractableWidgets.push('columnBreakOnParagraph');\n\t\t\tbreak;\n\t\t}\n\t\tcase 'print': {\n\t\t\tnonInteractableWidgets.push('chordsColor');\n\t\t\tbreak;\n\t\t}\n\t\tcase 'export': {\n\t\t\tnonInteractableWidgets.push('format');\n\t\t\tnonInteractableWidgets.push('layout');\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t//const style = getOptionValue(state, 'rendering', 'style');\n\t//if (style !== 'chordmark') {\n\t//\tnonInteractableWidgets.push('alignBars');\n\t//}\n\n\treturn nonInteractableWidgets;\n};\n\nexport const getHiddenWidgets = (state) => {\n\tconst hiddenWidgets = [];\n\n\tconst editorMode = getEditorMode(state);\n\n\t//const showChords = getOptionValue(state, 'rendering', 'showChords');\n\tconst harmonizeAccidentals = getOptionValue(state, 'rendering', 'harmonizeAccidentals');\n\n\t//if (!showChords) {\n\t//\thiddenWidgets.push('instrument');\n\t//}\n\tif (!harmonizeAccidentals) {\n\t\thiddenWidgets.push('preferredAccidentals');\n\t}\n\n\tif (editorMode === 'print') {\n\t\thiddenWidgets.push('fontSize');\n\t} else {\n\t\thiddenWidgets.push('printFontSize');\n\t}\n\n\thiddenWidgets.push('helpers');\n\t//hiddenWidgets.push('simplifyChords');\n\thiddenWidgets.push('capoPosition');\n\n\treturn hiddenWidgets;\n};\n","import './Rendering.scss';\n\nimport React from 'react';\n\nimport Icon from '../../../ui/_components/Icon';\n\nimport SidebarOptionPanel from '../../../ui/sideBar/options/_components/SidebarOptionsPanel';\n\nexport default function Rendering(props) {\n\treturn (\n\t\t<div className={'renderingOptionsPanel'}>\n\t\t\t<div className={'renderingOptionsPanel-isCollapsed'}>\n\t\t\t\t<span className={'renderingOptionsPanel-icon'}>\n\t\t\t\t\t<Icon iconName={'settings'} />\n\t\t\t\t</span>\n\t\t\t</div>\n\n\t\t\t<div className={'renderingOptionsPanel-isExpanded'}>\n\t\t\t\t<SidebarOptionPanel\n\t\t\t\t\t{...props}\n\t\t\t\t\tid={'rendering'}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from 'react';\n\nimport AppLayout from '../ui/layout/app/_containers/App';\nimport FileManager from '../fileManager/_containers/FileManager';\nimport Editor from '../editor/_containers/Editor';\nimport RightBarPanel from '../optionsPanels/rendering/_containers/Rendering';\n\nexport default function Edit() {\n\tconst fm = <FileManager />;\n\tconst rightBarPanel = <RightBarPanel />;\n\n\treturn (\n\t\t<AppLayout\n\t\t\tleftBar={fm}\n\t\t\trightBar={rightBarPanel}\n\t\t>\n\t\t\t<Editor />\n\t\t</AppLayout>\n\t);\n}\n","import UniversalRouter from 'universal-router';\nimport renderController from './renderController';\n\nimport Editor from './controllers/Editor';\n\nconst routes = [\n\t{\n\t\tpath: '/editor',\n\t\taction: () => Editor,\n\t},\n];\n\nconst universalRouter = new UniversalRouter(routes);\n\nexport default {\n\tnavigateTo(path) {\n\t\treturn universalRouter.resolve(path)\n\t\t\t.then(controller => {\n\t\t\t\treturn renderController(controller);\n\t\t\t});\n\t}\n};\n\n\n","import React from 'react';\nimport ReactDom from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport { getStore } from './state/store';\n\nimport ErrorBoundary from './ui/_components/ErrorBoundary';\n\nexport default function renderController(Controller) {\n\tReactDom.render(\n\t\t<Provider store={getStore()}>\n\t\t\t<React.StrictMode>\n\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t<Controller />\n\t\t\t\t</ErrorBoundary>\n\t\t\t</React.StrictMode>\n\t\t</Provider>,\n\t\tdocument.getElementById('app')\n\t);\n}\n","import '../scss/styles.scss';\n\nimport { createStore } from './state/store';\nimport router from './router';\n\nexport default function run() {\n\tcreateStore();\n\n\treturn router.navigateTo('/editor');\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) var result = runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk_touffi_chords_charts_studio\"] = self[\"webpackChunk_touffi_chords_charts_studio\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [216], () => (__webpack_require__(\"6g7X\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"sourceRoot":""}