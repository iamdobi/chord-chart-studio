{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/renderer/bar/barSeparator.hbs","webpack:///./src/renderer/chord/chordSymbol.hbs","webpack:///./src/renderer/chord/chordLine.hbs","webpack:///./src/renderer/bar/barContent.hbs","webpack:///./src/renderer/song/song.hbs","webpack:///./src/editor/prosemirror/plugins/onStateChange.js","webpack:///./src/editor/prosemirror/schema.js","webpack:///./src/isChord.js","webpack:///./src/isChordLine.js","webpack:///./src/getChordSymbol.js","webpack:///./src/exceptions/IncorrectBeatCountException.js","webpack:///./src/exceptions/InvalidChordRepetitionException.js","webpack:///./src/parseChordLine.js","webpack:///./src/spacer/chord/simple.js","webpack:///./src/spacer/chord/aligned.js","webpack:///./src/renderer/isRenderer.js","webpack:///./src/renderer/bar/barContent.js","webpack:///./src/renderer/chord/chordLine.js","webpack:///./src/renderer/chord/chordSymbol.js","webpack:///./src/renderer/text/textLine.js","webpack:///./src/renderer/song/song.js","webpack:///./src/parseSong.js","webpack:///./src/getMaxBeatsWidth.js","webpack:///./src/songs/kiss.js","webpack:///./src/core/logger.js","webpack:///./src/main.js","webpack:///./src/editor/prosemirror/editor.js","webpack:///./src/editor/prosemirror/getPlugins.js","webpack:///./src/editor/prosemirror/helpers/stateToArray.js","webpack:///./src/core/dom/htmlToElement.js","webpack:///./src/songs/ifIRuledTheWorld.js","webpack:///./src/songs/worry.js","webpack:///./src/renderer/text/textLine.hbs"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Handlebars","template","compiler","main","container","depth0","helpers","partials","useData","escapeExpression","lambda","chordSymbol","stack1","chordLine","barContent","song","onStateChangeFactory","editor","Plugin","view","update","editorView","emit","state","editorSchema","Schema","nodes","basicSchema","spec","marks","chords","Chords","isChordLine","line","replace","trim","split","map","potentialChord","every","_","isString","isChord","getChordSymbol","chordString","print","parse","symbol","IncorrectBeatCountException","Error","constructor","string","duration","beatCount","beatsPerBar","TypeError","isFinite","super","this","InvalidChordRepetitionException","parseChordLine","allLineChords","allBars","bar","allChords","chord","chordCount","previousChord","forEach","match","beat","cloneDeep","message","allMasks","","3","12","21","111","4","13","22","31","112","121","211","1111","spacesAfterDefault","emptyBeatSpaces","isRenderer","renderer","isObject","isFunction","render","renderer_bar_barContent","chordRenderer","spacesWithin","spacesAfter","reduce","rendering","repeat","barContentTpl","renderer_chord_chordLine","chordLineModel","barContentRenderer","allBarsRendered","barSeparator","barSeparatorTpl","join","chordLineTpl","renderer_chord_chordSymbol","chordSymbolOriginal","chordSymbolTpl","renderer_text_textLine","textLine","textLineTpl","renderer_song_song","songTxt","alignChords","allLines","isArray","parsed","type","e","parseSong","maxBeatsWidth","filter","barIndex","Math","max","getMaxBeatsWidth","spaced","chordLineInput","beatMaxWidth","alignedChordSpacer","chordPattern","chordSpaces","toString","simpleChordSpacer","rendered","chordLineRenderer","chordSymbolRenderer","textLineRenderer","songTpl","kiss","logLevel","getLogger","info","editorNode","document","querySelector","renderTo","EventEmitter2","editorPlugins","history","keymap","Mod-z","undo","Mod-y","redo","baseKeymap","onStateChange","getPlugins","on","toJSON","doc","content","paragraph","acc","current","text","stateToArray","assign","load","newContent","newState","EditorState","DOMParser","fromSchema","plugins","updateState","EditorView","editorFactory","renderedSongContainer","alignRenderingSwitch","renderSong","songLines","html","createElement","innerHTML","firstChild","htmlToElement","songRenderer","childNodes","replaceChild","appendChild","toNode","div","checked","addEventListener","event","target"],"mappings":"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","file":"main.cbd691569599521e2359.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"Vtdi\",1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var Handlebars = require(\"../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<span class=\\\"cp2-bar-separator\\\">|</span>\";\n},\"useData\":true});","var Handlebars = require(\"../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<span class=\\\"cp2-chord-symbol\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.chordSymbol : depth0), depth0))\n    + \"</span>\";\n},\"useData\":true});","var Handlebars = require(\"../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<p class=\\\"cp2-chord-line\\\">\"\n    + ((stack1 = container.lambda((depth0 != null ? depth0.chordLine : depth0), depth0)) != null ? stack1 : \"\")\n    + \"</p>\";\n},\"useData\":true});","var Handlebars = require(\"../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<span class=\\\"cp2-bar-content\\\">\"\n    + ((stack1 = container.lambda((depth0 != null ? depth0.barContent : depth0), depth0)) != null ? stack1 : \"\")\n    + \"</span>\";\n},\"useData\":true});","var Handlebars = require(\"../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<div class=\\\"cp2-song\\\">\"\n    + ((stack1 = container.lambda((depth0 != null ? depth0.song : depth0), depth0)) != null ? stack1 : \"\")\n    + \"</div>\";\n},\"useData\":true});","import { Plugin } from 'prosemirror-state';\n\nexport default function onStateChangeFactory(editor) {\n\treturn new Plugin({\n\t\tkey: 'onStateChange',\n\t\tview: () => {\n\t\t\treturn {\n\t\t\t\tupdate(editorView) {\n\t\t\t\t\teditor.emit('statechange', editorView.state);\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t});\n}","import { Schema } from 'prosemirror-model';\nimport { schema as basicSchema } from 'prosemirror-schema-basic';\n\nconst editorSchema = new Schema({\n\tnodes: basicSchema.spec.nodes,\n\tmarks: basicSchema.spec.marks\n});\n\nexport default editorSchema;","import _ from 'lodash';\n\nimport { Chords } from 'momo-chords';\n\nconst chords = new Chords();\n\nexport default function isChord(potentialChord) {\n\treturn _.isString(potentialChord) && chords.isChord(potentialChord);\n}","import isChord from './isChord';\n\nexport default function isChordLine(line = '') {\n\treturn line\n\t\t.replace(/\\t+/g, ' ')\n\t\t.replace(/  +/g, ' ')\n\t\t.trim()\n\t\t.split(' ')\n\t\t.map(potentialChord => potentialChord.replace(/\\.*$/g, ''))\n\t\t.every(potentialChord => isChord(potentialChord));\n}\n","import { Chords } from 'momo-chords';\n\nconst chords = new Chords();\n\nexport default function(chordString) {\n\treturn chords.print(chords.parse(chordString).symbol);\n}","import _ from 'lodash';\n\nexport default class IncorrectBeatCountException extends Error {\n\tconstructor(\n\t\t{\n\t\t\tstring,\n\t\t\tsymbol,\n\t\t\tduration,\n\t\t\tbeatCount,\n\t\t\tbeatsPerBar\n\t\t} = {}\n\t) {\n\t\tif (!string || !_.isString(string)) {\n\t\t\tthrow new TypeError('InvalidChordRepetitionException cannot be created without chord string, received: ' + string);\n\t\t}\n\t\tif (!symbol || !_.isString(symbol)) {\n\t\t\tthrow new TypeError('InvalidChordRepetitionException cannot be created without chord symbol, received: ' + symbol);\n\t\t}\n\t\tif (!duration || !_.isFinite(duration)) {\n\t\t\tthrow new TypeError('InvalidChordRepetitionException cannot be created without chord duration, received: ' + duration);\n\t\t}\n\t\tif (!beatCount || !_.isFinite(beatCount)) {\n\t\t\tthrow new TypeError('InvalidChordRepetitionException cannot be created without beatCount, received: ' + beatCount);\n\t\t}\n\t\tif (!beatsPerBar || !_.isFinite(beatsPerBar)) {\n\t\t\tthrow new TypeError('InvalidChordRepetitionException cannot be created without beatsPerBar, received: ' + beatsPerBar);\n\t\t}\n\n\t\tsuper();\n\n\t\tthis.name = 'IncorrectBeatCountException';\n\t\tthis.string = string;\n\t\tthis.symbol = symbol;\n\t\tthis.duration = duration;\n\t\tthis.beatCount = beatCount;\n\t\tthis.beatsPerBar = beatsPerBar;\n\t}\n}\n\n","import _ from 'lodash';\n\nexport default class InvalidChordRepetitionException extends Error {\n\tconstructor(\n\t\t{\n\t\t\tstring,\n\t\t\tsymbol\n\t\t} = {}\n\t) {\n\t\tif (!string || !_.isString(string)) {\n\t\t\tthrow new TypeError('InvalidChordRepetitionException cannot be created without chord string, received: ' + string);\n\t\t}\n\t\tif (!symbol || !_.isString(symbol)) {\n\t\t\tthrow new TypeError('InvalidChordRepetitionException cannot be created without chord symbol, received: ' + symbol);\n\t\t}\n\n\t\tsuper();\n\n\t\tthis.name = 'InvalidChordRepetitionException';\n\t\tthis.string = string;\n\t\tthis.symbol = symbol;\n\t}\n}\n\n","import _ from 'lodash';\n\nimport getChordSymbol from './getChordSymbol';\n\nimport IncorrectBeatCountException from './exceptions/IncorrectBeatCountException';\nimport InvalidChordRepetitionException from './exceptions/InvalidChordRepetitionException';\n\nexport default function parseChordLine(\n\tchordLine,\n\t{\n\t\tbeatsPerBar = 4\n\t} = {}\n) {\n\tconst allLineChords = chordLine\n\t\t.replace(/  +/g, ' ')\n\t\t.trim()\n\t\t.split(' ');\n\tconst allBars = [];\n\n\tlet bar = { allChords: []};\n\tlet chord = {};\n\tlet beatCount = 0;\n\tlet chordCount = 0;\n\tlet previousChord = {};\n\n\tallLineChords.forEach(chordString => {\n\t\tchord = {\n\t\t\tstring: chordString,\n\t\t\tduration: ((chordString.match(/\\./g) || []).length) || beatsPerBar,\n\t\t\tsymbol: getChordSymbol(chordString.replace(/\\./g, '')),\n\t\t};\n\t\tchord.beat = beatCount + 1;\n\t\tbeatCount += chord.duration;\n\n\t\tif (bar.allChords.length > 0) {\n\t\t\tpreviousChord = bar.allChords[bar.allChords.length - 1];\n\t\t\tif (previousChord.symbol === chord.symbol) {\n\t\t\t\tthrow new InvalidChordRepetitionException({\n\t\t\t\t\tstring: chord.string,\n\t\t\t\t\tsymbol: chord.symbol\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tbar.allChords.push(chord);\n\t\tchordCount++;\n\n\t\tif (beatCount === beatsPerBar) {\n\t\t\tbar.beatCount = beatCount;\n\t\t\tallBars.push(_.cloneDeep(bar));\n\n\t\t\tbar = { allChords: []};\n\t\t\tbeatCount = 0;\n\t\t\tpreviousChord = {};\n\n\t\t} else if (beatCount > beatsPerBar) {\n\t\t\tthrow new IncorrectBeatCountException({\n\t\t\t\tmessage: '',\n\t\t\t\tstring: chord.string,\n\t\t\t\tsymbol: chord.symbol,\n\t\t\t\tduration: chord.duration,\n\t\t\t\tbeatCount: beatCount,\n\t\t\t\tbeatsPerBar: beatsPerBar,\n\t\t\t});\n\t\t}\n\t});\n\n\tif (beatCount > 0 && (beatCount < beatsPerBar)) {\n\t\tthrow new IncorrectBeatCountException({\n\t\t\tmessage: '',\n\t\t\tstring: chord.string,\n\t\t\tsymbol: chord.symbol,\n\t\t\tduration: chord.duration,\n\t\t\tbeatCount: beatCount,\n\t\t\tbeatsPerBar: beatsPerBar,\n\t\t});\n\t}\n\n\treturn {\n\t\tchordCount,\n\t\tallBars\n\t};\n}","import _ from 'lodash';\n\nconst allMasks = {\n\t0: {\n\t\t'': []\n\t},\n\n\t3: {\n\t\t'3': \t[3], \t\t// 'A   '\n\t\t'12':  \t[2, 4], \t// 'A  B    '\n\t\t'21': \t[6, 0], \t// 'A      C'\n\t\t'111': \t[2, 2, 0], \t// 'A  B  C'\n\t},\n\n\t4: {\n\t\t'4': \t[3], \t\t// 'A   ',\n\t\t'13': \t[1, 4], \t// 'A B    ',\n\t\t'22': \t[3, 2], \t// 'A   B  ',\n\t\t'31':   [5, 0], \t// 'A     B',\n\t\t'112':  [1, 1, 3], \t// 'A B C   ',\n\t\t'121':  [1, 4, 0], \t// 'A B    C',\n\t\t'211': \t[4, 1, 0], \t// 'A    B C',\n\t\t'1111': [2, 2, 2], \t// 'A  B  C  D',\n\t},\n};\n\nexport default function space(chordLineInput) {\n\tconst chordLine = _.cloneDeep(chordLineInput);\n\n\tlet beatsPerBar = 0;\n\tlet chordPattern = '';\n\tlet chordSpaces = [];\n\n\tchordLine.allBars.forEach(bar => {\n\t\tbeatsPerBar = 0;\n\t\tchordPattern = '';\n\n\t\tbar.allChords.forEach(chord => {\n\t\t\tchordPattern += chord.duration.toString();\n\t\t\tbeatsPerBar += chord.duration;\n\t\t});\n\n\t\tchordSpaces = allMasks[beatsPerBar][chordPattern];\n\n\t\tfor (let i = 0; i < chordPattern.length; i++) {\n\t\t\tbar.allChords[i].spacesAfter = chordSpaces[i];\n\t\t}\n\t});\n\n\treturn chordLine;\n}","import _ from 'lodash';\n\nconst spacesAfterDefault = 2;\nconst emptyBeatSpaces = 1;\n\nexport default function space(chordLineInput, maxBeatsWidth) {\n\tconst chordLine = _.cloneDeep(chordLineInput);\n\n\tlet beatMaxWidth;\n\n\tchordLine.allBars.forEach((bar, barIndex) => {\n\t\tbar.allChords.forEach(chord => {\n\t\t\tchord.spacesWithin = maxBeatsWidth[barIndex][chord.beat] - chord.symbol.length;\n\t\t\tchord.spacesAfter = 0;\n\n\t\t\tif (chord.beat !== bar.beatCount) {\n\t\t\t\tchord.spacesAfter = spacesAfterDefault;\n\n\t\t\t\tfor (let i = (chord.beat + 1); i < (chord.beat + chord.duration); i++) {\n\t\t\t\t\tbeatMaxWidth = maxBeatsWidth[barIndex][i];\n\n\t\t\t\t\tchord.spacesAfter += (beatMaxWidth)\n\t\t\t\t\t\t? beatMaxWidth\n\t\t\t\t\t\t: emptyBeatSpaces;\n\n\t\t\t\t\tif (i !== bar.beatCount && beatMaxWidth) {\n\t\t\t\t\t\tchord.spacesAfter += spacesAfterDefault;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\treturn chordLine;\n}","import _ from 'lodash';\n\nexport default function isRenderer(renderer) {\n\treturn (_.isObject(renderer) && _.isFunction(renderer.render));\n}","import _ from 'lodash';\n\nimport isRenderer from '../isRenderer';\n\nimport barContentTpl from './barContent.hbs';\n\nconst space = ' ';\n\nconst defaultSpacesWithin = 0;\nconst defaultSpacesAfter = 2;\n\nexport default {\n\trender(bar, { chordRenderer } = {}) {\n\t\tlet spacesWithin = 0;\n\t\tlet spacesAfter = 0;\n\n\t\tif (! isRenderer(chordRenderer)) {\n\t\t\tthrow new TypeError('chordRenderer is not a valid renderer');\n\t\t}\n\n\t\tconst barContent = bar.allChords.reduce((rendering, chord) => {\n\t\t\tspacesWithin = _.isFinite(chord.spacesWithin) ? chord.spacesWithin : defaultSpacesWithin;\n\t\t\tspacesAfter = _.isFinite(chord.spacesAfter) ? chord.spacesAfter : defaultSpacesAfter;\n\n\t\t\trendering +=\n\t\t\t\tchordRenderer.render(chord.symbol) +\n\t\t\t\tspace.repeat(spacesWithin) +\n\t\t\t\tspace.repeat(spacesAfter);\n\n\t\t\treturn rendering;\n\t\t}, '');\n\n\t\treturn barContentTpl({ barContent });\n\t}\n};\n","import chordLineTpl from './chordLine.hbs';\nimport barSeparatorTpl from '../bar/barSeparator.hbs';\nimport isRenderer from '../isRenderer';\n\nexport default {\n\trender(chordLineModel, {\n\t\tbarContentRenderer,\n\t\tchordRenderer\n\t} = {}) {\n\n\t\tif (! isRenderer(barContentRenderer)) {\n\t\t\tthrow new TypeError('barContentRenderer is not a valid renderer');\n\t\t}\n\n\t\tconst allBarsRendered = chordLineModel.allBars\n\t\t\t.map(bar => barContentRenderer.render(bar, { chordRenderer }));\n\n\t\tconst barSeparator = barSeparatorTpl();\n\n\t\tconst chordLine = barSeparator +\n\t\t\tallBarsRendered.join(barSeparator) +\n\t\t\tbarSeparator;\n\n\t\treturn chordLineTpl({ chordLine });\n\t}\n};","import getChordSymbol from '../../getChordSymbol';\nimport chordSymbolTpl from './chordSymbol.hbs';\n\nexport default {\n\trender(chordSymbolOriginal) {\n\t\tconst chordSymbol = getChordSymbol(chordSymbolOriginal);\n\t\treturn chordSymbolTpl({ chordSymbol });\n\t}\n};","import textLineTpl from './textLine.hbs';\n\nexport default {\n\trender(textLine) {\n\t\treturn textLineTpl({ textLine });\n\t}\n};","import parseSong from '../../parseSong';\nimport parseChordLine from '../../parseChordLine';\n\nimport getMaxBeatsWidth from '../../getMaxBeatsWidth';\n\nimport simpleChordSpacer from '../../spacer/chord/simple';\nimport alignedChordSpacer from '../../spacer/chord/aligned';\nimport barContentRenderer from '../bar/barContent';\nimport chordLineRenderer from '../chord/chordLine';\nimport chordSymbolRenderer from '../chord/chordSymbol';\nimport textLineRenderer from '../text/textLine';\n\nimport songTpl from './song.hbs';\n\n\nexport default {\n\trender(songTxt, {\n\t\talignChords = false\n\t}) {\n\t\tlet allLines = parseSong(songTxt, { parseChordLine });\n\n\t\tconst maxBeatsWidth = getMaxBeatsWidth(allLines);\n\n\t\tconst song = allLines\n\t\t\t.map(line => {\n\n\t\t\t\tif (line.type === 'chord') {\n\t\t\t\t\tconst spaced = (alignChords)\n\t\t\t\t\t\t? alignedChordSpacer(line.parsed, maxBeatsWidth)\n\t\t\t\t\t\t: simpleChordSpacer(line.parsed);\n\n\t\t\t\t\tline.rendered = chordLineRenderer.render(spaced, {\n\t\t\t\t\t\tbarContentRenderer: barContentRenderer,\n\t\t\t\t\t\tchordRenderer: chordSymbolRenderer,\n\t\t\t\t\t});\n\n\t\t\t\t} else {\n\t\t\t\t\tline.rendered = textLineRenderer.render(line.string);\n\t\t\t\t}\n\t\t\t\treturn line;\n\t\t\t})\n\t\t\t.map(line => line.rendered)\n\t\t\t.join('\\n');\n\n\t\treturn songTpl({ song });\n\t}\n};\n","import _ from 'lodash';\n\nimport isChordLine from './isChordLine';\n\nexport default function parseSong(song, { parseChordLine } = {}) {\n\n\tif (!_.isFunction(parseChordLine)) {\n\t\tthrow new TypeError('parseChordLine should be a function, received : ' + parseChordLine);\n\t}\n\n\tconst songLines = (!_.isArray(song)) ? song.split('\\n') : song;\n\n\treturn songLines\n\t\t.map(string => ({ string }))\n\t\t.map(line => {\n\t\t\tif (isChordLine(line.string)) {\n\t\t\t\ttry {\n\t\t\t\t\tline.parsed = parseChordLine(line.string);\n\t\t\t\t\tline.type = 'chord';\n\t\t\t\t} catch (e) {\n\t\t\t\t\tline.parsed = line.string;\n\t\t\t\t\tline.type = 'text';\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tline.parsed = line.string;\n\t\t\t\tline.type = 'text';\n\t\t\t}\n\t\t\treturn line;\n\t\t});\n}","export default function getMaxBeatsWidth(allLines) {\n\tconst maxBeatsWidth = [];\n\n\tallLines\n\t\t.filter(line => line.type === 'chord')\n\t\t.forEach(line => {\n\t\t\tline.parsed.allBars.forEach((bar, barIndex) => {\n\t\t\t\tif (!maxBeatsWidth[barIndex]) {\n\t\t\t\t\tmaxBeatsWidth[barIndex] = {};\n\n\t\t\t\t\tfor (let i = 1; i <= bar.beatCount; i++) {\n\t\t\t\t\t\tmaxBeatsWidth[barIndex][i] = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbar.allChords.forEach(chord => {\n\t\t\t\t\tmaxBeatsWidth[barIndex][chord.beat] = Math.max(\n\t\t\t\t\t\tmaxBeatsWidth[barIndex][chord.beat],\n\t\t\t\t\t\tchord.symbol.length\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\n\treturn maxBeatsWidth;\n}","export default `A A\nYou don't have to be beautiful\nA A\nTo turn me on\nA A\nI just need your body, baby\nA A\nFrom dusk till dawn\n\nD D\nYou don't need experience\nD D\nTo turn me out\nA A\nYou just leave it all up to me\nA A\nI'm gonna show you what it's all about\n\nE E\nYou don't have to be rich to be my girl\nD D\nYou don't have to be cool to rule my world\nE E\nAin't no particular sign I'm more compatible with\nD D\nI just want your extra time and your...Kiss\n\nA A\nYou got to not talk dirty, baby\nA A\nIf you wanna impress me\nA A\nYou can't be too flirty, Mama\nA A\nI know how to undress me, yeah\n\nD D\nI want to be your fantasy\nD D\nMaybe you could be mine?\n\nA A\nYou just leave it all up to me\nA A\nWe could have a good time\n\nChorus\n\nI think I wanna dance\n\nA A\nWomen, not girls, rule my world\nA A\nI said they rule my world\nA A\nAct your age, Mama! Not your shoe size(Not your shoe size)\nA A\nMaybe we could do the twirl\n\nD D\nYou don't have to watch Dynasty\nD D \nTo have an attitude (Uh)\nA A\nYou just leave it all up to me\nA A\nMy love... will be your food\n\nChorus`;","import * as logLevel from 'loglevel';\n\nlogLevel.setDefaultLevel('info');\n\nexport default {\n\tgetLogger(name) {\n\t\treturn logLevel.getLogger(name);\n\t}\n};","import '../scss/styles.scss';\n\nimport editorFactory from './editor/prosemirror/editor';\nimport songRenderer from './renderer/song/song';\n\nimport htmlToElement from './core/dom/htmlToElement';\n\nimport kiss from './songs/kiss';\nimport world from './songs/ifIRuledTheWorld';\nimport worry from './songs/worry';\n\nimport logFactory from  './core/logger';\nconst log = logFactory.getLogger('main');\n\nlog.info('info test');\n\nconst editorNode = document.querySelector('#editor');\n\nconst editor = editorFactory(editorNode);\n\nconst renderedSongContainer = document.querySelector('#rendered-song');\nconst alignRenderingSwitch = document.querySelector('#aligned-rendering');\n\nfunction renderSong(songLines, { alignChords = true }) {\n\tconst renderedSong = songRenderer.render(songLines, { alignChords });\n\tconst rendered = htmlToElement(renderedSong);\n\n\tif (renderedSongContainer.childNodes.length) {\n\t\trenderedSongContainer.replaceChild(rendered, renderedSongContainer.firstChild);\n\t} else {\n\t\trenderedSongContainer.appendChild(rendered);\n\t}\n}\n\n\neditor.on('change', (songLines) => {\n\trenderSong(songLines, { alignChords: alignRenderingSwitch.checked });\n});\n\n\neditor.load(toNode(kiss));\n\nconst songSelector = document.querySelector('.song-selector');\nsongSelector.addEventListener('change', (event) => {\n\tswitch(event.target.value) {\n\tcase 'kiss': editor.load(toNode(kiss)); break;\n\tcase 'world': editor.load(toNode(world)); break;\n\tcase 'worry': editor.load(toNode(worry)); break;\n\t}\n});\n\nalignRenderingSwitch.addEventListener('change', () => {\n\teditor.load(editorNode);\n});\n\nfunction toNode(text) {\n\tconst div = document.createElement('div');\n\tdiv.innerHTML = text\n\t\t.split('\\n')\n\t\t.map(line => `<p>${line}</p>`)\n\t\t.join('');\n\treturn div;\n}","import { EditorState } from 'prosemirror-state';\nimport { EditorView } from 'prosemirror-view';\nimport { DOMParser } from 'prosemirror-model';\nimport getPlugins from './getPlugins';\nimport editorSchema from './schema';\n\nimport stateToArray from './helpers/stateToArray';\n\nimport { EventEmitter2 } from 'eventemitter2';\n\nimport 'prosemirror-view/style/prosemirror.css';\n\n\n/**\n * @param {Node} renderTo\n */\nexport default function editorFactory(renderTo) {\n\n\tconst editor = new EventEmitter2();\n\tconst editorPlugins = getPlugins(editor);\n\n\tlet editorView;\n\n\teditor.on('statechange', state => {\n\t\teditor.emit('change', stateToArray(state));\n\t});\n\n\treturn Object.assign(editor, {\n\t\tload(newContent) {\n\t\t\tconst newState = EditorState.create({\n\t\t\t\tdoc: DOMParser.fromSchema(editorSchema).parse(newContent),\n\t\t\t\tplugins: editorPlugins\n\t\t\t});\n\n\t\t\tif (editorView) {\n\t\t\t\teditorView.updateState(newState);\n\n\t\t\t} else {\n\t\t\t\teditorView = new EditorView(renderTo, { state: newState });\n\t\t\t}\n\t\t\teditor.emit('statechange', newState);\n\t\t}\n\t});\n}","import { keymap } from 'prosemirror-keymap';\nimport { baseKeymap } from 'prosemirror-commands';\nimport { undo, redo, history } from 'prosemirror-history';\nimport onStateChange from './plugins/onStateChange';\n\nexport default function getPlugins(editor) {\n\treturn [\n\t\thistory(),\n\t\tkeymap({ 'Mod-z': undo, 'Mod-y': redo }),\n\t\tkeymap(baseKeymap),\n\t\tonStateChange(editor)\n\t];\n}","/**\n * Convert a prosemirror state to an array of lines, with only text and no formatting\n */\nexport default function stateToArray(state) {\n\tconst json = state.toJSON();\n\n\treturn json.doc.content.map(paragraph => {\n\t\tif (!paragraph.content) {\n\t\t\treturn '';\n\t\t}\n\t\treturn paragraph.content.reduce((acc, current) => {\n\t\t\tacc += current.text;\n\t\t\treturn acc;\n\t\t}, '');\n\t});\n}","// https://stackoverflow.com/questions/494143/creating-a-new-dom-element-from-an-html-string-using-built-in-dom-methods-or-pro\nexport default function htmlToElement(html) {\n\tconst template = document.createElement('template');\n\thtml = html.trim();\n\ttemplate.innerHTML = html;\n\treturn template.content.firstChild;\n}","export default `# Intro\nAb.. Cm.. Bb\n\nAb.. Cm..\n_ If I ruled _ the world,\nBb\n_ Every day would be the first day of\nAb.. Cm..\nspring _\nBb\n_ Every heart would have a\nEb/G.. Ab..\nnew song _ to sing,\nCm74 EbM7/Bb Bb9\n_ And we'd sing of the _joy every morning would bring _\n\nAb.. Cm..\n_ If I ruled _ the world,\nBb\n_ Every man would be as free as a\nAb.. Cm..\nbird.\nBb\n_ Every voice would be a\nEb/G.. Ab..\nvoice to be _heard,\nCm EbM7/Bb Eb6/Bb.. Bb9. F/G.\n_ Take my word we would _treasure each day that oc_curred _ _\n\n\nCM.. Dm7/C.. FM9/C.. CM9. Dm7/C.\nMy world _ would be a _beautiful place _ _\nCM.. CM9.. Fm7.. Fm7/Bb..\nWhere we would _weave _ such wonderful _dreams _\n\nEbM.. Fm9/Eb.. EbM.. Fm9/Eb..\nMy _ world _ would wear a _smile on its _face,\nCm7.. Cm6.. Am7b5. D7. Fm7. AbM9/Bb.\nLike the _man and the _moon has, _when _the moon _ _ beams _\n\nAb.. Cm.. Bb\n\nAb.. Cm.. Bb\nIf I ruled the world,\nAb.. Cm.. Bb\nEvery man would see the world was his friend. Yeah\nEb/G.. Ab.. Cm9\nThere'd be happiness that no man could end,\nBbm/G C7#9b13\nNo my friend, not if I ruled the world.\nFm7.. F#m7. Gm7. Abm9.. D7b9b5.. \nEvery hand would be held up high,\nEbM7.. D7b9.. C7b9b13.. C7#9b13..\nThere'd be sunshine in everyone's sky.\nFm11 AbM9/Bb.. Bb13..\nIf the day ever dawned,\nWill I rule the world.\n\nAb.. Cm.. Bb\nEvery hand would be held up high,\nAb.. Cm.. Bb\nEvery star would shine in everyone's sky.\nAb.. Cm.. Bb\nIf the day ever dawned,\nAb.. Cm.. Bb\nWill I rule the world.`;","export default `Stevie Wonder – Don’t you worry ‘bout a thing\n\nIntro\nEbm.. EbmM7.. Ebm7.. Ebm6..\n\nCouplet\nEbm.. EbmM7.. Ebm7.. Ab7..\nEverybody's got a thing\nDbm7.. Gb7.. BM7.. Bb+..\nBut some don't know how to handle it\nEbm.. EbmM7.. Ebm7.. Ab7..\nAlways reachin' out in vain\nDbm7.. Gb7.. BM7.. E9..\nAccepting the things not worth having but\n\nPont\nF# F#7\nDon't you worry 'bout a thing\nBb7 BM7\nDon't you worry 'bout a thing, mama\nAb7 Db11\nCause I'll be standing on the side\nGb7 Bb+\nWhen you check it out\n\nCouplet\nThey say your style of life's a drag\nAnd that you must go other places\nBut just don't you feel too bad\nWhen you get fooled by smiling faces but\n\nPont 2\nDon't you worry 'bout a thing\nDon't you worry 'bout a thing, mama\nCause I'll be standing on the side\nGb.. F.. E.. Eb.. D.. Db.. Gb7\nWhen you check it out...Yeah\nGb.. F.. E.. Eb.. D.. Db.. Gb7.. Bb+7..\nWhen you get it off...your trip\n\nRefrain\n\nEbm.. EbmM7.. Ebm7.. Ebm6.. EM7 EM7\nDon't you worry 'bout a thing...Yeah\nEbm.. EbmM7.. Ebm7.. Ebm6.. EM7 EM7\nDon't you worry 'bout a thing...Yeah\n\nCouplet\n\nPont 2\n\nCouplet\n\nEverybody needs a change\nA chance to check out the new\nBut you're the only one to see\nThe changes you take yourself through\n\nPont 1\n\nRefrain`;","var Handlebars = require(\"../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<p class=\\\"cp2-text-line\\\">\"\n    + ((stack1 = container.lambda((depth0 != null ? depth0.textLine : depth0), depth0)) != null ? stack1 : \"\")\n    + \"</p>\";\n},\"useData\":true});"],"sourceRoot":""}