{"version":3,"file":"main.5d693c3619549a1123fa.js","mappings":"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","sources":["webpack://@touffi/chords-charts-studio/webpack/runtime/chunk loaded","webpack://@touffi/chords-charts-studio/./src/core/clock.js","webpack://@touffi/chords-charts-studio/./src/db/files/actionsTypes.js","webpack://@touffi/chords-charts-studio/./src/db/options/actionsTypes.js","webpack://@touffi/chords-charts-studio/./src/ui/layout/app/_state/actionsTypes.js","webpack://@touffi/chords-charts-studio/./src/ui/layout/app/_state/selectors.js","webpack://@touffi/chords-charts-studio/./src/fileManager/_state/selectors.js","webpack://@touffi/chords-charts-studio/./src/db/files/selectors.js","webpack://@touffi/chords-charts-studio/./src/db/options/editorModeOptions.js","webpack://@touffi/chords-charts-studio/./src/db/files/reducers.js","webpack://@touffi/chords-charts-studio/./src/fileManager/_state/actionsTypes.js","webpack://@touffi/chords-charts-studio/./src/db/options/selectors.js","webpack://@touffi/chords-charts-studio/./src/db/options/reducers.js","webpack://@touffi/chords-charts-studio/./src/db/reducers.js","webpack://@touffi/chords-charts-studio/./src/fileManager/_state/reducers.js","webpack://@touffi/chords-charts-studio/./src/songImporter/_state/actionsTypes.js","webpack://@touffi/chords-charts-studio/./src/core/stripTags.js","webpack://@touffi/chords-charts-studio/./src/songImporter/_state/reducers.js","webpack://@touffi/chords-charts-studio/./src/ui/layout/app/_state/reducers.js","webpack://@touffi/chords-charts-studio/./src/ui/layout/reducers.js","webpack://@touffi/chords-charts-studio/./src/ui/reducers.js","webpack://@touffi/chords-charts-studio/./src/state/reducers.js","webpack://@touffi/chords-charts-studio/./src/state/seed.js","webpack://@touffi/chords-charts-studio/./src/db/seed.js","webpack://@touffi/chords-charts-studio/./src/db/options/seed.js","webpack://@touffi/chords-charts-studio/./src/state/store.js","webpack://@touffi/chords-charts-studio/./src/state/localStorage.js","webpack://@touffi/chords-charts-studio/./src/core/createAction.js","webpack://@touffi/chords-charts-studio/./src/songImporter/_state/actions.js","webpack://@touffi/chords-charts-studio/./src/songImporter/getMessageHandlers.js","webpack://@touffi/chords-charts-studio/./src/registerHandlers.js","webpack://@touffi/chords-charts-studio/./src/ui/_components/ErrorBoundary.js","webpack://@touffi/chords-charts-studio/./src/ui/_components/Icon.js","webpack://@touffi/chords-charts-studio/./src/ui/sideBar/_components/Logo.js","webpack://@touffi/chords-charts-studio/./src/ui/layout/app/_components/NavEntry.js","webpack://@touffi/chords-charts-studio/./src/ui/layout/app/_components/Nav.js","webpack://@touffi/chords-charts-studio/./src/ui/layout/app/_components/Footer.js","webpack://@touffi/chords-charts-studio/./src/ui/layout/app/getVersions.js","webpack://@touffi/chords-charts-studio/./src/db/files/actions.js","webpack://@touffi/chords-charts-studio/./src/songImporter/_state/selectors.js","webpack://@touffi/chords-charts-studio/./src/ui/_components/Modal.js","webpack://@touffi/chords-charts-studio/./src/ui/_components/Button.js","webpack://@touffi/chords-charts-studio/./src/songImporter/_components/Header.js","webpack://@touffi/chords-charts-studio/./src/songImporter/getUploadedFile.js","webpack://@touffi/chords-charts-studio/./src/songImporter/_components/FilePicker.js","webpack://@touffi/chords-charts-studio/./src/songImporter/_components/Input.js","webpack://@touffi/chords-charts-studio/./src/songImporter/_components/PreviewError.js","webpack://@touffi/chords-charts-studio/./src/songImporter/_components/InputFormatEntry.js","webpack://@touffi/chords-charts-studio/./src/songImporter/_components/InputFormatSelector.js","webpack://@touffi/chords-charts-studio/./src/core/converters/chordSheetJs2ChordMark.js","webpack://@touffi/chords-charts-studio/./src/core/converters/ultimateGuitar2ChordMark.js","webpack://@touffi/chords-charts-studio/./src/songImporter/input2ChordMark.js","webpack://@touffi/chords-charts-studio/./src/songImporter/_components/SongImporter.js","webpack://@touffi/chords-charts-studio/./src/songImporter/_containers/SongImporter.js","webpack://@touffi/chords-charts-studio/./src/ui/layout/app/allNavEntries.js","webpack://@touffi/chords-charts-studio/./src/ui/layout/app/_components/App.js","webpack://@touffi/chords-charts-studio/./src/ui/layout/app/_containers/App.js","webpack://@touffi/chords-charts-studio/./src/ui/layout/app/_state/actions.js","webpack://@touffi/chords-charts-studio/./src/fileManager/_components/FileActionEntry.js","webpack://@touffi/chords-charts-studio/./src/fileManager/_components/FileActions.js","webpack://@touffi/chords-charts-studio/./src/fileManager/_components/FileEntry.js","webpack://@touffi/chords-charts-studio/./src/fileManager/_components/FileManager.js","webpack://@touffi/chords-charts-studio/./src/fileManager/_containers/FileManager.js","webpack://@touffi/chords-charts-studio/./src/fileManager/_state/actions.js","webpack://@touffi/chords-charts-studio/./src/core/escapeHTML.js","webpack://@touffi/chords-charts-studio/./src/core/renderSong.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/_components/SongRenderer.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/_containers/SongRenderer.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/editorPreview/_components/EditorPreview.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/editorPreview/_containers/EditorPreview.js","webpack://@touffi/chords-charts-studio/./src/editor/songEditor/prosemirror/schema.js","webpack://@touffi/chords-charts-studio/./src/editor/songEditor/prosemirror/converters/stateToText.js","webpack://@touffi/chords-charts-studio/./src/editor/songEditor/prosemirror/converters/toSafeHtml.js","webpack://@touffi/chords-charts-studio/./src/editor/songEditor/prosemirror/ProsemirrorEditorView.js","webpack://@touffi/chords-charts-studio/./src/editor/songEditor/prosemirror/converters/textToDom.js","webpack://@touffi/chords-charts-studio/./src/editor/songEditor/prosemirror/getPlugins.js","webpack://@touffi/chords-charts-studio/./src/editor/songEditor/_components/EditorLayout.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/exportPreview/_components/ExportPreview.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/playRenderer/_components/PlayRenderer.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/playRenderer/_containers/PlayRenderer.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/printPreview/_components/Page.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/printPreview/_components/PageHeader.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/printPreview/helpers/mapLinesToColumns.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/printPreview/helpers/getDimensionsFromDom.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/printPreview/helpers/padColumns.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/printPreview/helpers/element.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/printPreview/helpers/getAllLinesHeight.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/printPreview/helpers/getPagesHeight.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/printPreview/_components/AllPages.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/printPreview/_components/PrintPreview.js","webpack://@touffi/chords-charts-studio/./src/songRenderers/printPreview/_containers/PrintPreview.js","webpack://@touffi/chords-charts-studio/./src/editor/_components/Editor.js","webpack://@touffi/chords-charts-studio/./src/editor/_containers/Editor.js","webpack://@touffi/chords-charts-studio/./src/optionsPanels/_components/OptionsPanel.js","webpack://@touffi/chords-charts-studio/./src/ui/sideBar/options/_components/OptionsGroup.js","webpack://@touffi/chords-charts-studio/./src/ui/sideBar/options/_components/SelectChoice.js","webpack://@touffi/chords-charts-studio/./src/ui/sideBar/options/_components/Select.js","webpack://@touffi/chords-charts-studio/./src/ui/sideBar/options/_components/Slider.js","webpack://@touffi/chords-charts-studio/./src/ui/sideBar/options/_components/Toggle.js","webpack://@touffi/chords-charts-studio/./src/ui/sideBar/options/_components/SidebarOptionsPanel.js","webpack://@touffi/chords-charts-studio/./src/db/options/actions.js","webpack://@touffi/chords-charts-studio/./src/optionsPanels/rendering/_containers/Rendering.js","webpack://@touffi/chords-charts-studio/./src/optionsPanels/_containers/OptionsPanelFactory.js","webpack://@touffi/chords-charts-studio/./src/optionsPanels/rendering/allWidgets.js","webpack://@touffi/chords-charts-studio/./src/optionsPanels/rendering/_state/selectors.js","webpack://@touffi/chords-charts-studio/./src/optionsPanels/rendering/_components/Rendering.js","webpack://@touffi/chords-charts-studio/./src/controllers/Editor.js","webpack://@touffi/chords-charts-studio/./src/router.js","webpack://@touffi/chords-charts-studio/./src/renderController.js","webpack://@touffi/chords-charts-studio/./src/app.js","webpack://@touffi/chords-charts-studio/webpack/bootstrap","webpack://@touffi/chords-charts-studio/webpack/runtime/compat get default export","webpack://@touffi/chords-charts-studio/webpack/runtime/define property getters","webpack://@touffi/chords-charts-studio/webpack/runtime/global","webpack://@touffi/chords-charts-studio/webpack/runtime/hasOwnProperty shorthand","webpack://@touffi/chords-charts-studio/webpack/runtime/node module decorator","webpack://@touffi/chords-charts-studio/webpack/runtime/jsonp chunk loading","webpack://@touffi/chords-charts-studio/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","export default function clock() {\n\treturn Date.now();\n}\n","export const DB_FILES_CREATE = 'db/files/Create';\nexport const DB_FILES_DELETE = 'db/files/Delete';\nexport const DB_FILES_IMPORT = 'db/files/Import';\nexport const DB_FILES_UPDATE = 'db/files/Update';\n","export const DB_OPTION_SET_OPTION_VALUE = 'db/options/setOptionValue';\n","export const UI_LAYOUT_APP_SET_EDITOR_MODE = 'ui/layout/app/setEditorMode';\nexport const UI_LAYOUT_APP_TOGGLE_LEFT_BAR = 'ui/layout/app/toggleLeftBar';\nexport const UI_LAYOUT_APP_TOGGLE_RIGHT_BAR = 'ui/layout/app/toggleRightBar';\n","export const isLeftBarCollapsed = (state) =>\n\tstate.ui.layout.app.isLeftBarCollapsed;\n\nexport const isRightBarCollapsed = (state) =>\n\tstate.ui.layout.app.isRightBarCollapsed;\n\nexport const getEditorMode = (state) => state.ui.layout.app.editorMode;\n","export const getSelectedId = (state) => state.fileManager.selected;\n\nexport const getRenamedId = (state) => state.fileManager.renamed;\n\nexport const getDefaultTitle = (state) => state.fileManager.defaultTitle;\n","import _map from 'lodash/map';\nimport _cloneDeep from 'lodash/cloneDeep';\nimport _isEqual from 'lodash/isEqual';\nimport _sortBy from 'lodash/sortBy';\n\nimport { createSelectorCreator, defaultMemoize } from 'reselect';\n\n// create a \"selector creator\" that uses lodash.isEqual instead of ===\nconst createDeepEqualSelector = createSelectorCreator(defaultMemoize, _isEqual);\n\n// return value should not change when file content changes\nexport const getAllTitles = createDeepEqualSelector(\n\t(state) =>\n\t\t_map(state.db.files.allFiles, ({ title, id }) => ({ title, id })),\n\t(allFiles) => _sortBy(allFiles, (o) => o.title.toLowerCase())\n);\n\nexport const getOne = (state, id) => {\n\treturn state.db.files.allFiles[id];\n};\n\nexport const getCategoryOptions = (state, id, category) => {\n\tconst file = state.db.files.allFiles[id];\n\n\tif (!file) return;\n\n\tif ((file.options || {})[category]) {\n\t\t// handle edge cases where we might have an empty object...\n\t\t// of course this _should_ never happen!\n\t\tif (Object.keys(file.options[category]).length === 0) return;\n\n\t\treturn _cloneDeep(file.options[category]);\n\t}\n};\n\nexport const getLatestModeOptions = (state, id) => {\n\tconst file = state.db.files.allFiles[id];\n\n\tif (!file) return;\n\n\tconst fileOptions = file.options || {};\n\n\tconst allOptionsPerMode = [];\n\tif (fileOptions.edit) allOptionsPerMode.push({ ...fileOptions.edit });\n\tif (fileOptions.play) allOptionsPerMode.push({ ...fileOptions.play });\n\tif (fileOptions.print) allOptionsPerMode.push({ ...fileOptions.print });\n\tif (fileOptions.export) allOptionsPerMode.push({ ...fileOptions.export });\n\n\tif (!allOptionsPerMode.length) return;\n\n\tallOptionsPerMode.sort((a, b) => a.updatedAt - b.updatedAt);\n\n\treturn allOptionsPerMode.reduce(\n\t\t(acc, modeOptions) => Object.assign(acc, modeOptions),\n\t\t{}\n\t);\n};\n","const editorModeOptions = {\n\tedit: [],\n\tplay: [\n\t\t'chordsAndLyricsDisplay',\n\t\t'alignChordsWithLyrics',\n\t\t'harmonizeAccidentals',\n\t\t'preferredAccidentals',\n\t\t'useShortNamings',\n\t\t'simplifyChords',\n\t\t'transposeValue',\n\n\t\t'alignBars',\n\t\t'autoRepeatChords',\n\t\t'expandSectionMultiply',\n\t\t'columnsCount',\n\t\t'fontSize',\n\t\t'fontStyle',\n\t\t'chordsColor',\n\t\t'highlightChords',\n\t],\n\tprint: [\n\t\t'chordsAndLyricsDisplay',\n\t\t'alignChordsWithLyrics',\n\t\t'harmonizeAccidentals',\n\t\t'preferredAccidentals',\n\t\t'useShortNamings',\n\t\t'simplifyChords',\n\t\t'transposeValue',\n\n\t\t'alignBars',\n\t\t'autoRepeatChords',\n\t\t'expandSectionMultiply',\n\t\t'documentSize',\n\t\t'documentMargins',\n\t\t'columnsCount',\n\t\t'columnBreakOnParagraph',\n\t\t'printFontSize',\n\t\t'fontStyle',\n\t\t'chordsColor',\n\t\t'highlightChords',\n\t],\n\texport: [\n\t\t'chordsAndLyricsDisplay',\n\t\t'alignChordsWithLyrics',\n\t\t'harmonizeAccidentals',\n\t\t'preferredAccidentals',\n\t\t'useShortNamings',\n\t\t'simplifyChords',\n\t\t'transposeValue',\n\n\t\t'style',\n\t\t'alignBars',\n\t\t'autoRepeatChords',\n\t\t'expandSectionMultiply',\n\t],\n};\n\nexport default editorModeOptions;\n","import _pick from 'lodash/pick';\nimport clock from '../../core/clock';\n\nimport * as actionTypes from './actionsTypes';\n\nimport { DB_OPTION_SET_OPTION_VALUE } from '../options/actionsTypes';\nimport { UI_LAYOUT_APP_SET_EDITOR_MODE } from '../../ui/layout/app/_state/actionsTypes';\nimport { getEditorMode } from '../../ui/layout/app/_state/selectors';\nimport { getSelectedId } from '../../fileManager/_state/selectors';\nimport { getLatestModeOptions, getCategoryOptions } from './selectors';\nimport editorModeOptions from '../options/editorModeOptions';\n\nconst initialState = {\n\tallFiles: {},\n};\n\nfunction createFile(state, action) {\n\tconst { id, title, content } = action.payload;\n\n\tconst allFiles = { ...state.allFiles };\n\tallFiles[id] = {\n\t\tid,\n\t\ttitle,\n\t\tcontent,\n\t};\n\n\treturn {\n\t\t...state,\n\t\tallFiles,\n\t};\n}\n\nfunction updateFile(state, action) {\n\tconst { id, title, content } = action.payload;\n\n\tif ((!title && !content) || !state.allFiles[id]) {\n\t\treturn state;\n\t}\n\n\tconst allFiles = { ...state.allFiles };\n\n\tallFiles[id] = { ...allFiles[id] };\n\n\tif (title) {\n\t\tallFiles[id].title = title;\n\t}\n\tif (content) {\n\t\tallFiles[id].content = content;\n\t}\n\treturn {\n\t\t...state,\n\t\tallFiles,\n\t};\n}\n\nfunction deleteFile(state, action) {\n\tconst { id } = action.payload;\n\n\tif (!id || !state.allFiles[id]) {\n\t\treturn state;\n\t}\n\n\tconst allFiles = { ...state.allFiles };\n\tdelete allFiles[id];\n\n\treturn {\n\t\t...state,\n\t\tallFiles,\n\t};\n}\n\n/**\n * Whenever the user set an option, we save it in the song entity, either:\n * - for the current editing mode if it is a formatting option\n * - in the preferences otherwise\n */\nfunction updateFileOption(state, action, fullState) {\n\tconst { context, key, value } = action.payload;\n\tconst id = getSelectedId(fullState);\n\tconst allFiles = { ...state.allFiles };\n\n\tif (\n\t\t['songFormatting', 'songPreferences'].includes(context) &&\n\t\tallFiles[id]\n\t) {\n\t\tconst editorMode = getEditorMode(fullState);\n\t\tconst optionCategory =\n\t\t\tcontext === 'songPreferences' ? 'preferences' : editorMode;\n\n\t\tallFiles[id] = addOption(allFiles[id], optionCategory, key, value);\n\t\treturn {\n\t\t\t...state,\n\t\t\tallFiles,\n\t\t};\n\t}\n\treturn state;\n}\n\nfunction addOption(fileState, category, key, value) {\n\treturn {\n\t\t...fileState,\n\t\toptions: {\n\t\t\t...fileState.options,\n\t\t\t[category]: {\n\t\t\t\t...(fileState.options || {})[category],\n\t\t\t\tupdatedAt: clock(),\n\t\t\t\t[key]: value,\n\t\t\t},\n\t\t},\n\t};\n}\n\n/**\n * When a user switch mode and the target mode does not have any saved settings yet,\n * we apply the latest saved settings (all modes merged) for a better user flow\n */\nfunction setEditorMode(state, action, fullState) {\n\tconst fileId = getSelectedId(fullState);\n\tconst nextMode = action.payload.mode;\n\n\tconst hasOptionsForNextMode = !!getCategoryOptions(\n\t\tfullState,\n\t\tfileId,\n\t\tnextMode\n\t);\n\n\tif (!hasOptionsForNextMode) {\n\t\tconst previousModeOptions = _pick(\n\t\t\tgetLatestModeOptions(fullState, fileId) || {},\n\t\t\teditorModeOptions[nextMode]\n\t\t);\n\n\t\tif (Object.keys(previousModeOptions).length) {\n\t\t\tpreviousModeOptions.updatedAt = clock();\n\t\t\tconst allFiles = { ...state.allFiles };\n\n\t\t\tallFiles[fileId] = {\n\t\t\t\t...allFiles[fileId],\n\t\t\t\toptions: {\n\t\t\t\t\t...allFiles[fileId].options,\n\t\t\t\t\t[nextMode]: previousModeOptions,\n\t\t\t\t},\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tallFiles,\n\t\t\t};\n\t\t}\n\t}\n\treturn state;\n}\n\nexport default (state = initialState, action = {}, fullState = {}) => {\n\tswitch (action.type) {\n\t\tcase actionTypes.DB_FILES_CREATE:\n\t\tcase actionTypes.DB_FILES_IMPORT:\n\t\t\treturn createFile(state, action);\n\t\tcase actionTypes.DB_FILES_UPDATE:\n\t\t\treturn updateFile(state, action);\n\t\tcase actionTypes.DB_FILES_DELETE:\n\t\t\treturn deleteFile(state, action);\n\t\tcase DB_OPTION_SET_OPTION_VALUE:\n\t\t\treturn updateFileOption(state, action, fullState);\n\t\tcase UI_LAYOUT_APP_SET_EDITOR_MODE:\n\t\t\treturn setEditorMode(state, action, fullState);\n\t}\n\treturn state;\n};\n","export const FILE_MANAGER_SELECT_FILE = 'fileManager/select';\nexport const FILE_MANAGER_ENABLE_RENAME = 'fileManager/enableRename';\n","import _cloneDeep from 'lodash/cloneDeep';\n\nexport const getOptionValue = (state, context, key) => {\n\tif (\n\t\t!state.db.options[context] ||\n\t\t!state.db.options[context].values ||\n\t\ttypeof state.db.options[context].values[key] === 'undefined'\n\t) {\n\t\treturn;\n\t}\n\treturn state.db.options[context].values[key];\n};\n\nexport const getAllOptionValues = (state, context) => {\n\tif (!state.db.options[context] || !state.db.options[context].values) {\n\t\treturn;\n\t}\n\treturn _cloneDeep(state.db.options[context].values);\n};\n\nexport const getOptionsDefaults = (state, context) => {\n\tif (!state.db.options[context] || !state.db.options[context].defaults) {\n\t\treturn;\n\t}\n\treturn _cloneDeep(state.db.options[context].defaults);\n};\n","import * as actionTypes from './actionsTypes';\nimport { getCategoryOptions, getLatestModeOptions } from '../files/selectors';\n\nimport { UI_LAYOUT_APP_SET_EDITOR_MODE } from '../../ui/layout/app/_state/actionsTypes';\nimport { FILE_MANAGER_SELECT_FILE } from '../../fileManager/_state/actionsTypes';\nimport { getSelectedId } from '../../fileManager/_state/selectors';\nimport { getEditorMode } from '../../ui/layout/app/_state/selectors';\nimport { getOptionsDefaults } from './selectors';\n\nconst initialState = {};\n\nfunction setOptionValue(state, action) {\n\tconst { context, key, value } = action.payload;\n\n\tif (\n\t\t!state[context] ||\n\t\t!state[context].values ||\n\t\ttypeof state[context].values[key] === 'undefined'\n\t) {\n\t\treturn state;\n\t}\n\n\tconst newState = {\n\t\t...state,\n\t\t[context]: {\n\t\t\t...state[context],\n\t\t\tvalues: { ...state[context].values },\n\t\t},\n\t};\n\tnewState[context].values[key] = value;\n\n\treturn newState;\n}\n\nfunction setEditorMode(state, action, fullState) {\n\tconst fileId = getSelectedId(fullState);\n\tconst nextMode = action.payload.mode;\n\n\tconst newOptions = getModeOptions(fullState, fileId, nextMode);\n\n\treturn {\n\t\t...state,\n\t\tsongFormatting: {\n\t\t\t...state.songFormatting,\n\t\t\tvalues: {\n\t\t\t\t...newOptions,\n\t\t\t},\n\t\t},\n\t};\n}\n\nfunction getModeOptions(fullState, fileId, mode) {\n\tconst defaultOptions = getOptionsDefaults(fullState, 'songFormatting');\n\tlet editorModeOptions = getCategoryOptions(fullState, fileId, mode);\n\n\tif (!editorModeOptions) {\n\t\teditorModeOptions = getLatestModeOptions(fullState, fileId) || {};\n\t}\n\tdelete editorModeOptions.updatedAt;\n\n\treturn Object.assign(defaultOptions, editorModeOptions);\n}\n\nfunction selectFile(state, action, fullState) {\n\tconst { id } = action.payload;\n\tconst editorMode = getEditorMode(fullState);\n\n\tconst newOptions = getModeOptions(fullState, id, editorMode);\n\n\tconst songPreferences =\n\t\tgetCategoryOptions(fullState, id, 'preferences') || {};\n\tdelete songPreferences.updatedAt;\n\n\tconst defaultPreferences = getOptionsDefaults(fullState, 'songPreferences');\n\n\tconst newPreferences = Object.assign(defaultPreferences, songPreferences);\n\n\treturn {\n\t\t...state,\n\t\tsongPreferences: {\n\t\t\t...state.songPreferences,\n\t\t\tvalues: {\n\t\t\t\t...newPreferences,\n\t\t\t},\n\t\t},\n\t\tsongFormatting: {\n\t\t\t...state.songFormatting,\n\t\t\tvalues: {\n\t\t\t\t...newOptions,\n\t\t\t},\n\t\t},\n\t};\n}\n\nexport default (state = initialState, action = {}, fullState = {}) => {\n\tswitch (action.type) {\n\t\tcase actionTypes.DB_OPTION_SET_OPTION_VALUE: {\n\t\t\treturn setOptionValue(state, action);\n\t\t}\n\t\tcase UI_LAYOUT_APP_SET_EDITOR_MODE: {\n\t\t\treturn setEditorMode(state, action, fullState);\n\t\t}\n\t\tcase FILE_MANAGER_SELECT_FILE: {\n\t\t\treturn selectFile(state, action, fullState);\n\t\t}\n\t}\n\treturn state;\n};\n","import combineSectionReducers from 'combine-section-reducers';\nimport files from './files/reducers';\nimport options from './options/reducers';\n\nexport default combineSectionReducers({\n\tfiles,\n\toptions,\n});\n","import {\n\tFILE_MANAGER_SELECT_FILE,\n\tFILE_MANAGER_ENABLE_RENAME,\n} from './actionsTypes';\n\nimport {\n\tDB_FILES_CREATE,\n\tDB_FILES_DELETE,\n\tDB_FILES_IMPORT,\n\tDB_FILES_UPDATE,\n} from '../../db/files/actionsTypes';\n\nconst initialState = {\n\tselected: '',\n\trenamed: '',\n\tdefaultTitle: '[untitled]',\n};\n\nexport default function reducers(state = initialState, action = {}) {\n\tswitch (action.type) {\n\t\tcase DB_FILES_CREATE: {\n\t\t\tconst { id } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselected: id,\n\t\t\t\trenamed: id,\n\t\t\t};\n\t\t}\n\n\t\tcase DB_FILES_IMPORT: {\n\t\t\tconst { id } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselected: id,\n\t\t\t\trenamed: '',\n\t\t\t};\n\t\t}\n\n\t\tcase DB_FILES_UPDATE: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\trenamed: '',\n\t\t\t};\n\t\t}\n\n\t\tcase DB_FILES_DELETE: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselected: '',\n\t\t\t\trenamed: '',\n\t\t\t};\n\t\t}\n\n\t\tcase FILE_MANAGER_SELECT_FILE: {\n\t\t\tconst { id } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselected: id,\n\t\t\t\trenamed: id === state.renamed ? id : '',\n\t\t\t};\n\t\t}\n\n\t\tcase FILE_MANAGER_ENABLE_RENAME: {\n\t\t\tconst { id } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\trenamed: id,\n\t\t\t};\n\t\t}\n\t}\n\treturn state;\n}\n","export const SONG_IMPORTER_IMPORT_CANCEL = 'songImporter/import/cancel';\nexport const SONG_IMPORTER_IMPORT_START = 'songImporter/import/start';\nexport const SONG_IMPORTER_SET_CONTENT = 'songImporter/setContent';\nexport const SONG_IMPORTER_SET_INPUT_FORMAT = 'songImporter/setInputFormat';\n","import domPurify from 'dompurify';\n\nexport default function stripTags(html) {\n\treturn domPurify.sanitize(html, {\n\t\tALLOWED_TAGS: ['#text'],\n\t\tKEEP_CONTENT: true,\n\t});\n}\n","import * as actions from './actionsTypes';\nimport { DB_FILES_IMPORT } from '../../db/files/actionsTypes';\n\nimport stripTags from '../../core/stripTags';\n\nconst initialState = {\n\tcontent: '',\n\tisFromWeb: false,\n\tisImporting: false,\n\tinputFormat: 'basic',\n\ttitle: '',\n};\n\nexport default function reducers(state = initialState, action = {}) {\n\tswitch (action.type) {\n\t\tcase actions.SONG_IMPORTER_SET_CONTENT: {\n\t\t\tconst { content, title = '' } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcontent: stripTags(content),\n\t\t\t\ttitle: title ? stripTags(title) : state.title,\n\t\t\t};\n\t\t}\n\n\t\tcase actions.SONG_IMPORTER_SET_INPUT_FORMAT: {\n\t\t\tconst { inputFormat } = action.payload;\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tinputFormat,\n\t\t\t};\n\t\t}\n\n\t\tcase DB_FILES_IMPORT:\n\t\tcase actions.SONG_IMPORTER_IMPORT_CANCEL: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcontent: '',\n\t\t\t\ttitle: '',\n\t\t\t\tisImporting: false,\n\t\t\t};\n\t\t}\n\n\t\tcase actions.SONG_IMPORTER_IMPORT_START: {\n\t\t\tconst { content, inputFormat, title, isFromWeb } = action.payload;\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisImporting: true,\n\t\t\t\tcontent: content ? stripTags(content) : '',\n\t\t\t\ttitle: title ? stripTags(title) : '',\n\t\t\t\tinputFormat: inputFormat || state.inputFormat,\n\t\t\t\tisFromWeb,\n\t\t\t};\n\t\t}\n\t}\n\treturn state;\n}\n","import {\n\tUI_LAYOUT_APP_TOGGLE_RIGHT_BAR,\n\tUI_LAYOUT_APP_TOGGLE_LEFT_BAR,\n\tUI_LAYOUT_APP_SET_EDITOR_MODE,\n} from './actionsTypes';\n\nimport {\n\tDB_FILES_CREATE,\n\tDB_FILES_IMPORT,\n\tDB_FILES_DELETE,\n} from '../../../../db/files/actionsTypes';\n\nconst initialState = {\n\tisLeftBarCollapsed: false,\n\tisRightBarCollapsed: false,\n\teditorMode: 'edit',\n\tactiveModal: 'none',\n};\n\nexport default function reducers(state = initialState, action = {}) {\n\tswitch (action.type) {\n\t\tcase UI_LAYOUT_APP_TOGGLE_LEFT_BAR: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisLeftBarCollapsed: !state.isLeftBarCollapsed,\n\t\t\t};\n\t\t}\n\t\tcase UI_LAYOUT_APP_TOGGLE_RIGHT_BAR: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisRightBarCollapsed: !state.isRightBarCollapsed,\n\t\t\t};\n\t\t}\n\t\tcase UI_LAYOUT_APP_SET_EDITOR_MODE: {\n\t\t\tconst { mode } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\teditorMode: mode,\n\t\t\t};\n\t\t}\n\t\tcase DB_FILES_DELETE:\n\t\tcase DB_FILES_CREATE:\n\t\tcase DB_FILES_IMPORT: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\teditorMode: 'edit',\n\t\t\t};\n\t\t}\n\t}\n\treturn state;\n}\n","import combineSectionReducers from 'combine-section-reducers';\nimport app from './app/_state/reducers';\n\nexport default combineSectionReducers({\n\tapp,\n});\n","import combineSectionReducers from 'combine-section-reducers';\nimport layout from './layout/reducers';\n\nexport default combineSectionReducers({\n\tlayout,\n});\n","import combineSectionReducers from 'combine-section-reducers';\n\nimport db from '../db/reducers';\nimport fileManager from '../fileManager/_state/reducers';\nimport songImporter from '../songImporter/_state/reducers';\nimport ui from '../ui/reducers';\n\nexport default combineSectionReducers({\n\tdb,\n\tfileManager,\n\tsongImporter,\n\tui,\n});\n","import db from '../db/seed';\n\nexport default {\n\tdb,\n};\n","import options from './options/seed';\n\nexport default {\n\toptions,\n};\n","export default {\n\tsongPreferences: {\n\t\tvalues: {\n\t\t\tchordsAndLyricsDisplay: 'all',\n\t\t\talignChordsWithLyrics: true,\n\t\t\tharmonizeAccidentals: true,\n\t\t\tpreferredAccidentals: 'auto',\n\t\t\tuseShortNamings: true,\n\t\t\tsimplifyChords: 'none',\n\t\t\ttransposeValue: 0,\n\t\t},\n\t\tdefaults: {\n\t\t\tchordsAndLyricsDisplay: 'all',\n\t\t\talignChordsWithLyrics: true,\n\t\t\tharmonizeAccidentals: true,\n\t\t\tpreferredAccidentals: 'auto',\n\t\t\tuseShortNamings: true,\n\t\t\tsimplifyChords: 'none',\n\t\t\ttransposeValue: 0,\n\t\t},\n\t\t//userDefaults: {},\n\t},\n\tsongFormatting: {\n\t\tvalues: {\n\t\t\tstyle: 'chordmark',\n\t\t\talignBars: true,\n\t\t\tautoRepeatChords: true,\n\t\t\texpandSectionMultiply: true,\n\t\t\tdocumentSize: 'a4',\n\t\t\tdocumentMargins: 3,\n\t\t\tcolumnsCount: 1,\n\t\t\tcolumnBreakOnParagraph: true,\n\t\t\tfontSize: 0,\n\t\t\tprintFontSize: 0,\n\t\t\tfontStyle: 'roboto',\n\t\t\tchordsColor: 'yellow',\n\t\t\thighlightChords: true,\n\t\t},\n\t\tdefaults: {\n\t\t\tstyle: 'chordmark',\n\t\t\talignBars: true,\n\t\t\tautoRepeatChords: true,\n\t\t\texpandSectionMultiply: true,\n\t\t\tdocumentSize: 'a4',\n\t\t\tdocumentMargins: 3,\n\t\t\tcolumnsCount: 1,\n\t\t\tcolumnBreakOnParagraph: true,\n\t\t\tfontSize: 0,\n\t\t\tprintFontSize: 0,\n\t\t\tfontStyle: 'roboto',\n\t\t\tchordsColor: 'yellow',\n\t\t\thighlightChords: true,\n\t\t},\n\t\t//userDefaults: {},\n\t},\n};\n","import _defaultsDeep from 'lodash/defaultsDeep';\n\nimport { createStore as createReduxStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunkMiddleware from 'redux-thunk';\n\nimport { loadState, saveState } from './localStorage';\nimport allReducers from './reducers';\nimport seed from './seed';\n\nlet store;\n\nexport function createStore() {\n\tconst storeEnhancers = composeWithDevTools(\n\t\tapplyMiddleware(thunkMiddleware)\n\t);\n\n\tconst persistedState = loadState();\n\n\t/* Reset options in store * /\n\tObject.keys(persistedState.db.files.allFiles).forEach((fileId) => {\n\t\tdelete persistedState.db.files.allFiles[fileId].options;\n\t});\n\tdelete persistedState.songImporter;\n\tdelete persistedState.fileManager.selected;\n\t/**/\n\t/** /\n\t/**/\n\t// migrations\n\t//delete persistedState.db.options.rendering;\n\n\tconst initialState = _defaultsDeep(persistedState, seed);\n\n\tstore = createReduxStore(allReducers, initialState, storeEnhancers);\n\n\tstore.subscribe(() => {\n\t\tsaveState(store.getState());\n\t});\n}\n\nexport function getStore() {\n\treturn store;\n}\n","// @see https://egghead.io/lessons/javascript-redux-persisting-the-state-to-the-local-storage\n\nexport const loadState = () => {\n\ttry {\n\t\tconst serializedState = localStorage.getItem('state');\n\t\tif (!serializedState) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn JSON.parse(serializedState);\n\t} catch (err) {\n\t\treturn undefined;\n\t}\n};\n\nexport const saveState = (state) => {\n\ttry {\n\t\tconst serializedState = JSON.stringify(state);\n\t\tlocalStorage.setItem('state', serializedState);\n\t} catch (err) {\n\t\t// ignore write errors\n\t}\n};\n","export default function createAction(type, payload) {\n\tif (!type) {\n\t\tthrow new TypeError('Cannot create an action without an action type');\n\t}\n\treturn {\n\t\ttype,\n\t\tpayload,\n\t};\n}\n","import * as actionsTypes from './actionsTypes';\n\nimport createAction from '../../core/createAction';\n\nexport const setContent = (content, title) =>\n\tcreateAction(actionsTypes.SONG_IMPORTER_SET_CONTENT, { content, title });\n\nexport const setInputFormat = (inputFormat) =>\n\tcreateAction(actionsTypes.SONG_IMPORTER_SET_INPUT_FORMAT, { inputFormat });\n\nexport const startImport = () =>\n\tcreateAction(actionsTypes.SONG_IMPORTER_IMPORT_START, {\n\t\tisFromWeb: false,\n\t});\n\nexport const startImportFromWeb = (inputFormat, content, title) =>\n\tcreateAction(actionsTypes.SONG_IMPORTER_IMPORT_START, {\n\t\tcontent,\n\t\tinputFormat,\n\t\ttitle,\n\t\tisFromWeb: true,\n\t});\n\nexport const cancelImport = () =>\n\tcreateAction(actionsTypes.SONG_IMPORTER_IMPORT_CANCEL);\n","import { getStore } from '../state/store';\nimport { startImportFromWeb } from './_state/actions';\n\n/**\n * @typedef {Object} WebsiteImportMessage\n * @type {Object}\n * @property {('ultimateGuitar')} source - website from which the tab comes from\n * @property {String} chordChart - content of the chord chart\n * @property {String} title - song title\n * @property {String} artist - song artist\n */\n\nconst songImporterHandlers = {\n\t/**\n\t *\n\t * @param {WebsiteImportMessage} message\n\t */\n\t'@CCS/IMPORT_TAB': (message) => {\n\t\tconst store = getStore();\n\n\t\tconst title = buildTitle(message.title, message.artist);\n\t\tstore.dispatch(\n\t\t\tstartImportFromWeb(message.source, message.chordChart, title)\n\t\t);\n\t},\n};\n\nconst buildTitle = (songTitle, artist) => {\n\tlet title = songTitle;\n\tif (artist) {\n\t\ttitle += ' - ' + artist;\n\t}\n\treturn title;\n};\n\nexport default function getSongImporterHandlers() {\n\treturn songImporterHandlers;\n}\n","import getSongImporterHandlers from './songImporter/getMessageHandlers';\n\nexport default function registerHandlers() {\n\twindow.addEventListener('message', _handleMessage);\n}\n\n// unit test backdoor, not for public usage!\nexport const _handleMessage = (e) => {\n\tconst allHandlers = {\n\t\t...getSongImporterHandlers(),\n\t};\n\n\tif (e.source !== window || e.origin !== window.location.origin) {\n\t\treturn false;\n\t}\n\tconst message = e.data;\n\n\tif (typeof allHandlers[message.type] === 'function') {\n\t\tallHandlers[message.type](message.payload);\n\t}\n\treturn true;\n};\n","import './ErrorBoundary.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\n// source: https://codepen.io/gaearon/pen/wqvxGa?editors=0010\nclass ErrorBoundary extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { error: null, errorInfo: null };\n\t}\n\n\tcomponentDidCatch(error, errorInfo) {\n\t\tthis.setState({\n\t\t\terror: error,\n\t\t\terrorInfo: errorInfo,\n\t\t});\n\t}\n\n\trender() {\n\t\tif (this.state.errorInfo) {\n\t\t\treturn (\n\t\t\t\t<div className={'ErrorBoundary'}>\n\t\t\t\t\t<h2>Something went wrong</h2>\n\t\t\t\t\t<details style={{ whiteSpace: 'pre-wrap' }} open={true}>\n\t\t\t\t\t\t{this.state.error && this.state.error.toString()}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t{this.state.errorInfo.componentStack}\n\t\t\t\t\t</details>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn this.props.children;\n\t}\n}\n\nErrorBoundary.propTypes = {\n\tchildren: PropTypes.any,\n};\n\nexport default ErrorBoundary;\n","import './Icon.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Icon(props) {\n\tconst { iconName } = props;\n\n\tconst classList = ['icon', 'material-icons'];\n\n\treturn <i className={classList.join(' ')}>{iconName}</i>;\n}\n\nIcon.propTypes = {\n\ticonName: PropTypes.string.isRequired,\n};\n\nexport default React.memo(Icon);\n","import './Logo.scss';\n\nimport React from 'react';\n\nimport Icon from '../../_components/Icon.js';\n\nfunction Logo() {\n\treturn (\n\t\t<div className={'logo'}>\n\t\t\t<div className={'logo-isCollapsed'}>\n\t\t\t\t<Icon iconName={'queue_music'} />\n\t\t\t</div>\n\n\t\t\t<div className={'logo-isExpanded'}>\n\t\t\t\t<span className={'logo-icon'}>\n\t\t\t\t\t<Icon iconName={'queue_music'} />\n\t\t\t\t</span>\n\t\t\t\tChords Charts Studio\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default React.memo(Logo);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../../_components/Icon.js';\n\nfunction NavEntry(props) {\n\tconst { label, icon, editorMode, setEditorMode, isActive, isDisabled } =\n\t\tprops;\n\n\tconst classNames = ['mainNavEntry'];\n\n\tif (isActive) {\n\t\tclassNames.push('mainNavEntry-isActive');\n\t}\n\tif (isDisabled) {\n\t\tclassNames.push('mainNavEntry-isDisabled');\n\t}\n\n\tfunction handleClick() {\n\t\tif (!isDisabled) setEditorMode(editorMode);\n\t}\n\n\treturn (\n\t\t<li className={classNames.join(' ')} onClick={handleClick}>\n\t\t\t<span className={'mainNavEntry-icon'}>\n\t\t\t\t<Icon iconName={icon} />\n\t\t\t</span>\n\t\t\t{label}\n\t\t</li>\n\t);\n}\n\nNavEntry.propTypes = {\n\tlabel: PropTypes.string.isRequired,\n\ticon: PropTypes.string.isRequired,\n\teditorMode: PropTypes.string.isRequired,\n\tsetEditorMode: PropTypes.func.isRequired,\n\tisActive: PropTypes.bool.isRequired,\n\tisDisabled: PropTypes.bool.isRequired,\n};\n\nexport default React.memo(NavEntry);\n","import './Nav.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport NavEntry from './NavEntry.js';\n\nfunction Nav(props) {\n\tconst { currentMode, allEntries, setEditorMode, selectedId } = props;\n\n\treturn (\n\t\t<nav className={'mainNav'}>\n\t\t\t<ul className={'mainNav-entries'}>\n\t\t\t\t{allEntries.map((entry, key) => (\n\t\t\t\t\t<NavEntry\n\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\tisActive={\n\t\t\t\t\t\t\t!!selectedId && entry.editorMode === currentMode\n\t\t\t\t\t\t}\n\t\t\t\t\t\tisDisabled={!selectedId}\n\t\t\t\t\t\tsetEditorMode={setEditorMode}\n\t\t\t\t\t\t{...entry}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</nav>\n\t);\n}\n\nNav.propTypes = {\n\tcurrentMode: PropTypes.string.isRequired,\n\tsetEditorMode: PropTypes.func.isRequired,\n\tselectedId: PropTypes.string,\n\tallEntries: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\tid: PropTypes.string.isRequired,\n\t\t\tlabel: PropTypes.string.isRequired,\n\t\t\ticon: PropTypes.string.isRequired,\n\t\t\teditorMode: PropTypes.string.isRequired,\n\t\t})\n\t),\n};\n\nexport default React.memo(Nav);\n","import getVersions from '../getVersions';\nimport './Footer.scss';\n\nimport React from 'react';\n\nfunction Footer() {\n\tconst versions = getVersions();\n\treturn (\n\t\t<div className={'appFooter'}>\n\t\t\tChords Charts Studio {versions['chord-charts-studio']}- ChordMark{' '}\n\t\t\t{versions['chord-mark']}- ChordSymbol {versions['chord-symbol']}\n\t\t</div>\n\t);\n}\n\nexport default React.memo(Footer);\n","export default () => ({'chord-charts-studio':'v0.8.3','chord-symbol':'v2.1.0','chord-mark':'v0.6.1'});","import { v4 as uuidv4 } from 'uuid';\n\nimport createAction from '../../core/createAction';\nimport * as actionTypes from './actionsTypes';\n\nexport const createFile = (title, content = '') => {\n\tif (!title) {\n\t\tthrow new TypeError('Cannot create a file without title');\n\t}\n\tconst payload = {\n\t\tid: uuidv4(),\n\t\ttitle,\n\t\tcontent,\n\t};\n\treturn createAction(actionTypes.DB_FILES_CREATE, payload);\n};\n\nexport const importFile = (title, content = '') => {\n\tif (!title) {\n\t\tthrow new TypeError('Cannot import a file without title');\n\t}\n\tconst payload = {\n\t\tid: uuidv4(),\n\t\ttitle,\n\t\tcontent,\n\t};\n\treturn createAction(actionTypes.DB_FILES_IMPORT, payload);\n};\n\nexport const updateFile = (id, { title, content } = {}) => {\n\tif (!id) {\n\t\tthrow new TypeError('Cannot update a file without an id');\n\t}\n\tconst payload = {\n\t\tid,\n\t\ttitle,\n\t\tcontent,\n\t};\n\treturn createAction(actionTypes.DB_FILES_UPDATE, payload);\n};\n\nexport const deleteFile = (id) => {\n\treturn createAction(actionTypes.DB_FILES_DELETE, { id });\n};\n","export const getContent = (state) => state.songImporter.content;\n\nexport const getInputFormat = (state) => state.songImporter.inputFormat;\n\nexport const getTitle = (state) => state.songImporter.title;\n\nexport const isImporting = (state) => state.songImporter.isImporting;\n\nexport const isFromWeb = (state) => state.songImporter.isFromWeb;\n","import './Modal.scss';\n\nimport React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Modal(props) {\n\tconst { children, closeModal } = props;\n\n\tuseEffect(() => {\n\t\tconst handleKeyboard = (e) => {\n\t\t\tif (e.key === 'Escape') {\n\t\t\t\tcloseModal();\n\t\t\t}\n\t\t};\n\t\twindow.addEventListener('keyup', handleKeyboard);\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener('keyup', handleKeyboard);\n\t\t};\n\t});\n\n\treturn (\n\t\t<section className={'mod-ModalContainer'}>\n\t\t\t<div\n\t\t\t\tclassName={'mod-Overlay'}\n\t\t\t\tonClick={closeModal}\n\t\t\t\tdata-testid={'modal-overlay'}\n\t\t\t></div>\n\t\t\t<div className={'mod-ContentContainer'}>{children}</div>\n\t\t</section>\n\t);\n}\n\nModal.propTypes = {\n\tchildren: PropTypes.element.isRequired,\n\tcloseModal: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import './Button.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ children, isDisabled, buttonName, onClick, type }) => {\n\tconst allClassNames = ['Button'];\n\n\tif (type === 'primary') allClassNames.push('Button-primary');\n\tif (type === 'secondary') allClassNames.push('Button-secondary');\n\tif (isDisabled) allClassNames.push('Button-isDisabled');\n\n\treturn (\n\t\t<button\n\t\t\tclassName={allClassNames.join(' ')}\n\t\t\tdisabled={isDisabled}\n\t\t\ttype={'button'}\n\t\t\tname={buttonName}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t{children}\n\t\t</button>\n\t);\n};\n\nButton.propTypes = {\n\tchildren: PropTypes.string.isRequired,\n\tisDisabled: PropTypes.bool,\n\tbuttonName: PropTypes.string.isRequired,\n\ttype: PropTypes.string.isRequired,\n\tonClick: PropTypes.func.isRequired,\n};\n\nButton.defaultProps = {\n\tisDisabled: false,\n};\n\nexport default Button;\n","import React from 'react';\nimport Button from '../../ui/_components/Button';\nimport PropTypes from 'prop-types';\n\nconst Header = ({\n\tcancelImport,\n\tchordMarkContent,\n\timportFile,\n\ttitle,\n\tcontent,\n\terror,\n}) => {\n\tconst headerTitle = title ? 'Import \"' + title + '\"' : 'Import song';\n\n\tconst doImport = () => {\n\t\timportFile(title || '[untitled]', chordMarkContent);\n\t};\n\n\treturn (\n\t\t<div className={'sim-Header_Container'}>\n\t\t\t<div className={'sim-Header_Title'}>{headerTitle}</div>\n\t\t\t<div className={'sim-Header_Actions'}>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={cancelImport}\n\t\t\t\t\tbuttonName={'cancel'}\n\t\t\t\t\ttype={'secondary'}\n\t\t\t\t>\n\t\t\t\t\tCANCEL\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={doImport}\n\t\t\t\t\tbuttonName={'import'}\n\t\t\t\t\ttype={'primary'}\n\t\t\t\t\tisDisabled={content === '' || error !== ''}\n\t\t\t\t>\n\t\t\t\t\tIMPORT\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nHeader.propTypes = {\n\tcancelImport: PropTypes.func.isRequired,\n\tchordMarkContent: PropTypes.string,\n\tcontent: PropTypes.string,\n\terror: PropTypes.string,\n\timportFile: PropTypes.func.isRequired,\n\ttitle: PropTypes.string,\n};\n\nexport default Header;\n","import filesize from 'filesize';\n\nconst maxFileSizeBytes = 50 * 1024;\n\nconst getUploadedFile = (fileList) => {\n\treturn new Promise((resolve, reject) => {\n\t\tif (fileList.length) {\n\t\t\tconst file = fileList[0];\n\n\t\t\tif (isOversized(file)) {\n\t\t\t\treject(getFileTooBigMsg(file.size));\n\t\t\t} else if (!isTextFile(file)) {\n\t\t\t\treject(getWrongFileTypeMsg(file));\n\t\t\t} else {\n\t\t\t\tfile.text()\n\t\t\t\t\t.then((fileContent) => {\n\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\tcontent: fileContent,\n\t\t\t\t\t\t\ttitle: getSongTitle(file),\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\treject(e);\n\t\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\treject(getNoFileSelectedMsg());\n\t\t}\n\t});\n};\n\nconst getSongTitle = (file) => file.name.substr(0, file.name.lastIndexOf('.'));\n\nconst isOversized = (file) => file.size > maxFileSizeBytes;\n\n// files with extension such as .cho or .chopro are detected with an empty mimetype\n// so we consider them as text\nconst isTextFile = (file) =>\n\tfile.type.indexOf('text') === 0 || file.type.length === 0;\n\nconst getFileTooBigMsg = (actualSize) =>\n\t'The selected file is too big: ' +\n\tfilesize(actualSize, { round: 0 }) +\n\t' (maximum allowed file size is ' +\n\tfilesize(maxFileSizeBytes, { round: 0 }) +\n\t').';\n\nconst getWrongFileTypeMsg = (file) =>\n\t'Cannot import file of type ' + file.type + '.';\n\nconst getNoFileSelectedMsg = () => 'No file selected.';\n\nexport default getUploadedFile;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getUploadedFile from '../getUploadedFile';\n\nconst allowedFiles = 'text/*,.cho,.crd,.chopro,.chord,.pro,.txt,.md';\n\nconst FilePicker = ({ setContent }) => {\n\tconst handleChange = (ev) => {\n\t\tgetUploadedFile(ev.target.files)\n\t\t\t.then((file) => {\n\t\t\t\tsetContent(file.content, file.title);\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tsetContent(e);\n\t\t\t});\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<label\n\t\t\t\thtmlFor={'importSong-Input'}\n\t\t\t\tclassName={'Button Button-primary'}\n\t\t\t>\n\t\t\t\tSelect File\n\t\t\t</label>\n\t\t\t<input\n\t\t\t\tid={'importSong-Input'}\n\t\t\t\tname={'importSong-Input'}\n\t\t\t\ttype={'file'}\n\t\t\t\tclassName={'sim-InputFile_Input'}\n\t\t\t\tonChange={handleChange}\n\t\t\t\taccept={allowedFiles}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nFilePicker.propTypes = {\n\tsetContent: PropTypes.func.isRequired,\n};\n\nexport default FilePicker;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../ui/_components/Icon';\n\nfunction Input(props) {\n\tconst { content, setContent, isDisabled } = props;\n\n\tconst onChange = (e) => {\n\t\tsetContent(e.target.value);\n\t};\n\n\tconst allClasses = ['sim-Input_Textarea'];\n\n\tif (isDisabled) {\n\t\tallClasses.push('sim-Input_Textarea-Disabled');\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div className={'sim-Input_Header'}>\n\t\t\t\t<Icon iconName={'arrow_drop_down'} />\n\t\t\t\tEdit directly below\n\t\t\t\t<Icon iconName={'arrow_drop_down'} />\n\t\t\t</div>\n\t\t\t<textarea\n\t\t\t\tclassName={allClasses.join(' ')}\n\t\t\t\tonChange={onChange}\n\t\t\t\tvalue={content}\n\t\t\t\tdisabled={isDisabled}\n\t\t\t\tdata-testid={'sim-input'}\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nInput.propTypes = {\n\tcontent: PropTypes.string.isRequired,\n\tisDisabled: PropTypes.bool.isRequired,\n\tsetContent: PropTypes.func.isRequired,\n};\n\nInput.defaultProps = {};\n\nexport default Input;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction PreviewError(props) {\n\tconst { inputFormat, error } = props;\n\n\treturn (\n\t\t<div className={'sim-Preview_Error'}>\n\t\t\t<p>\n\t\t\t\tThere was an error when trying to parse the song in the\n\t\t\t\tspecified input format ({inputFormat}).\n\t\t\t\t<br />\n\t\t\t\tPlease correct the input or try another format.\n\t\t\t\t<br />\n\t\t\t\tThe error was:\n\t\t\t</p>\n\t\t\t<p>&quot;{error}&quot;</p>\n\t\t\t<p>\n\t\t\t\tHint: most of the time, this is related to an unclosed\n\t\t\t\t&quot;[&quot; or &quot;&#123;&quot; or an unsupported ChordPro\n\t\t\t\tdirective\n\t\t\t</p>\n\t\t</div>\n\t);\n}\n\nPreviewError.propTypes = {\n\terror: PropTypes.string,\n\tinputFormat: PropTypes.string.isRequired,\n};\n\nPreviewError.defaultProps = {};\n\nexport default PreviewError;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction InputFormatEntry(props) {\n\tconst { setInputFormat, inputFormat, id, label, isDisabled } = props;\n\n\tconst onChange = (e) => {\n\t\tif (!isDisabled) {\n\t\t\tsetInputFormat(e.target.value);\n\t\t}\n\t};\n\n\tconst allInputClasses = ['sim-InputFormat_Entry'];\n\tconst allLabelClasses = ['sim-InputFormat_Label'];\n\n\tif (isDisabled) {\n\t\tallInputClasses.push('sim-InputFormat_Entry-Disabled');\n\t\tallLabelClasses.push('sim-InputFormat_Label-Disabled');\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<input\n\t\t\t\tclassName={allInputClasses.join(' ')}\n\t\t\t\ttype={'radio'}\n\t\t\t\tname={'inputFormat'}\n\t\t\t\tid={id}\n\t\t\t\tvalue={id}\n\t\t\t\tonChange={onChange}\n\t\t\t\tchecked={inputFormat === id}\n\t\t\t\t// Disabled radio buttons do not show the currently selected option\n\t\t\t\t// disabled={isDisabled}\n\t\t\t/>\n\t\t\t<label className={allLabelClasses.join(' ')} htmlFor={id}>\n\t\t\t\t{label}\n\t\t\t</label>\n\t\t</>\n\t);\n}\n\nInputFormatEntry.propTypes = {\n\tsetInputFormat: PropTypes.func.isRequired,\n\tinputFormat: PropTypes.string.isRequired,\n\tid: PropTypes.string.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\tisDisabled: PropTypes.bool.isRequired,\n};\n\nInputFormatEntry.defaultProps = {};\n\nexport default InputFormatEntry;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport InputFormatEntry from './InputFormatEntry';\n\nconst allEntries = [\n\t{\n\t\tid: 'basic',\n\t\tlabel: 'Basic',\n\t},\n\t{\n\t\tid: 'chordpro',\n\t\tlabel: 'ChordPro',\n\t},\n\t{\n\t\tid: 'ultimateGuitar',\n\t\tlabel: 'Ultimate Guitar',\n\t},\n];\n\nfunction InputFormatSelector(props) {\n\tconst { setInputFormat, inputFormat, disableAll } = props;\n\n\tconst rendered = allEntries.map((entry) => (\n\t\t<InputFormatEntry\n\t\t\tsetInputFormat={setInputFormat}\n\t\t\tid={entry.id}\n\t\t\tkey={entry.id}\n\t\t\tlabel={entry.label}\n\t\t\tinputFormat={inputFormat}\n\t\t\tisDisabled={disableAll}\n\t\t/>\n\t));\n\n\treturn (\n\t\t<div className={'sim-InputFormat'}>\n\t\t\tInput format:\n\t\t\t{rendered}\n\t\t</div>\n\t);\n}\n\nInputFormatSelector.propTypes = {\n\tdisableAll: PropTypes.bool.isRequired,\n\tsetInputFormat: PropTypes.func.isRequired,\n\tinputFormat: PropTypes.string.isRequired,\n};\n\nInputFormatSelector.defaultProps = {};\n\nexport default InputFormatSelector;\n","import { ChordLyricsPair, Tag } from 'chordsheetjs';\n\nconst allLines = [];\n\nexport default function chordSheetJs2ChordMark(song) {\n\tallLines.length = 0;\n\tformatAllParagraphs(song);\n\treturn allLines.join('\\n');\n}\n\nconst formatAllParagraphs = (song) => {\n\tconst { bodyParagraphs } = song;\n\tbodyParagraphs.map((paragraph) => {\n\t\tformatParagraph(paragraph);\n\t\tallLines.push('');\n\t});\n};\n\nconst formatParagraph = (paragraph) => {\n\tswitch (paragraph.type) {\n\t\tcase 'verse':\n\t\t\tallLines.push('#v');\n\t\t\tbreak;\n\t\tcase 'chorus':\n\t\t\tallLines.push('#c');\n\t\t\tbreak;\n\t}\n\tparagraph.lines.map((line) => formatLine(line));\n};\n\nconst formatLine = (line) => {\n\tconst parts = [\n\t\tformatChordLine(line),\n\t\tformatLyricLine(line),\n\t\tformatTagLine(line),\n\t]\n\t\t.filter((i) => i !== null)\n\t\t.map((part) => part.trimRight());\n\n\tallLines.push(...parts);\n};\n\nconst formatChordLine = (line) => {\n\tif (!lineHasChords(line)) {\n\t\treturn null;\n\t}\n\n\treturn line.items.reduce((chordLine, item) => {\n\t\tif (itemHasChord(item)) {\n\t\t\tchordLine += item.chords.trim() + ' ';\n\t\t}\n\t\treturn chordLine;\n\t}, '');\n};\n\nconst formatLyricLine = (line) => {\n\tif (!lineHasLyrics(line)) {\n\t\treturn null;\n\t}\n\treturn line.items.reduce((lyricsLine, item) => {\n\t\tif (!itemHasLyric(item)) lyricsLine += ' ';\n\t\tif (itemHasChord(item)) lyricsLine += '_';\n\t\tif (itemHasLeftPadding(item)) lyricsLine += ' ';\n\n\t\tlyricsLine += item.lyrics.trim();\n\n\t\tif (itemHasRightPadding(item)) lyricsLine += ' ';\n\n\t\treturn lyricsLine;\n\t}, '');\n};\n\nconst formatTagLine = (line) => {\n\tif (!lineHasTag(line)) {\n\t\treturn null;\n\t}\n\tconst tagValue = line.items[0].value.toLowerCase().replace(/[- 0-9]/g, '');\n\n\treturn sectionLabelsMapping[tagValue]\n\t\t? sectionLabelsMapping[tagValue]\n\t\t: '#' + tagValue;\n};\n\nconst sectionLabelsMapping = {\n\tadlib: '#a',\n\tbridge: '#b',\n\tchorus: '#c',\n\tinterlude: '#u',\n\tintro: '#i',\n\tintroduction: '#i',\n\toutro: '#o',\n\tprechorus: '#p',\n\tsolo: '#s',\n};\n\nconst lineHasChords = (line) =>\n\tline.items.some((item) => item instanceof ChordLyricsPair && item.chords);\n\nconst lineHasLyrics = (line) =>\n\tline.items.some((item) => item instanceof ChordLyricsPair && item.lyrics);\n\nconst lineHasTag = (line) =>\n\tline.items.some((item) => item instanceof Tag && item.isRenderable());\n\nconst itemHasChord = (item) => {\n\treturn item instanceof ChordLyricsPair && item.chords.trim().length;\n};\n\nconst itemHasLyric = (item) => {\n\treturn item.lyrics.length;\n};\n\nconst itemHasLeftPadding = (item) => {\n\treturn item.lyrics.length - item.lyrics.trimLeft().length >= 1;\n};\n\nconst itemHasRightPadding = (item) => {\n\treturn (\n\t\titem.lyrics.trim().length &&\n\t\titem.lyrics.length - item.lyrics.trimRight().length >= 1\n\t);\n};\n","import ChordSheetJS from 'chordsheetjs';\nimport chordSheetJs2ChordMark from './chordSheetJs2ChordMark';\n\nexport default function ultimateGuitar2ChordMark(ugChordChartRaw) {\n\tconst ugChordChart = ugChordChartRaw\n\t\t.replace(/\\r\\n/g, '\\n')\n\t\t.replace(/\\t/g, ' ')\n\t\t.replace(/\\[\\/?ch]/g, '')\n\t\t.replace(/\\[\\/?tab]/g, '');\n\n\tconst parser = new ChordSheetJS.UltimateGuitarParser();\n\tconst parsed = parser.parse(ugChordChart);\n\n\treturn chordSheetJs2ChordMark(parsed);\n}\n","import ultimateGuitar2ChordMark from '../core/converters/ultimateGuitar2ChordMark';\nimport ChordSheetJS from 'chordsheetjs';\nimport chordSheetJs2ChordMark from '../core/converters/chordSheetJs2ChordMark';\n\nconst input2ChordMark = (input, inputFormat) => {\n\tconst converter = getConverter(inputFormat);\n\treturn converter(input);\n};\n\nconst getConverter = (inputFormat) => {\n\tif (inputFormat === 'ultimateGuitar') {\n\t\treturn ultimateGuitar2ChordMark;\n\t}\n\n\tconst parser =\n\t\tinputFormat === 'chordpro'\n\t\t\t? new ChordSheetJS.ChordProParser()\n\t\t\t: new ChordSheetJS.ChordSheetParser();\n\n\treturn (input) => {\n\t\tconst parsed = parser.parse(input);\n\t\treturn chordSheetJs2ChordMark(parsed);\n\t};\n};\n\nexport default input2ChordMark;\n","import './SongImporter.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Modal from '../../ui/_components/Modal';\nimport Header from './Header';\nimport FilePicker from './FilePicker';\nimport Input from './Input';\nimport PreviewError from './PreviewError';\nimport InputFormatSelector from './InputFormatSelector';\nimport input2ChordMark from '../input2ChordMark';\nimport Icon from '../../ui/_components/Icon';\n\nfunction SongImporter(props) {\n\tconst {\n\t\tcancelImport,\n\t\tcontent,\n\t\timportFile,\n\t\tisFromWeb,\n\t\tisImporting,\n\t\tsetContent,\n\t\tsetInputFormat,\n\t\tinputFormat,\n\t\ttitle,\n\t} = props;\n\n\tif (!isImporting) return null;\n\n\tlet chordMarkContent = '';\n\tlet error = '';\n\n\ttry {\n\t\tchordMarkContent = input2ChordMark(content, inputFormat);\n\t} catch (e) {\n\t\terror = e.message;\n\t}\n\n\treturn (\n\t\t<Modal closeModal={cancelImport}>\n\t\t\t<div\n\t\t\t\tclassName={'sim-SongImporterModal_Container'}\n\t\t\t\tdata-testid={'song-importer'}\n\t\t\t>\n\t\t\t\t<Header\n\t\t\t\t\tcancelImport={cancelImport}\n\t\t\t\t\tchordMarkContent={chordMarkContent}\n\t\t\t\t\tcontent={content}\n\t\t\t\t\terror={error}\n\t\t\t\t\timportFile={importFile}\n\t\t\t\t\ttitle={title}\n\t\t\t\t/>\n\t\t\t\t<div className={'sim-TwoColumns_Container'}>\n\t\t\t\t\t<div className={'sim-Column_Container'}>\n\t\t\t\t\t\t<FilePicker setContent={setContent} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={'sim-Column_Container'}>\n\t\t\t\t\t\t<InputFormatSelector\n\t\t\t\t\t\t\tinputFormat={inputFormat}\n\t\t\t\t\t\t\tsetInputFormat={setInputFormat}\n\t\t\t\t\t\t\tdisableAll={isFromWeb === true}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName={\n\t\t\t\t\t\t'sim-TwoColumns_Container sim-TwoColumns_Container-autoHeight'\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t<div className={'sim-Column_Container'}>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tcontent={content}\n\t\t\t\t\t\t\tsetContent={setContent}\n\t\t\t\t\t\t\tisDisabled={isFromWeb}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={'sim-Column_Container'}>\n\t\t\t\t\t\t<div className={'sim-Input_Header'}>\n\t\t\t\t\t\t\t<Icon iconName={'arrow_drop_down'} />\n\t\t\t\t\t\t\tChordMark preview\n\t\t\t\t\t\t\t<Icon iconName={'arrow_drop_down'} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={'sim-Preview_Container'}\n\t\t\t\t\t\t\tdata-testid={'sim-preview'}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{!error ? (\n\t\t\t\t\t\t\t\tchordMarkContent\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<PreviewError\n\t\t\t\t\t\t\t\t\tinputFormat={inputFormat}\n\t\t\t\t\t\t\t\t\terror={error}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n}\n\nSongImporter.propTypes = {\n\tcancelImport: PropTypes.func.isRequired,\n\tcontent: PropTypes.string.isRequired,\n\timportFile: PropTypes.func.isRequired,\n\tisFromWeb: PropTypes.bool.isRequired,\n\tisImporting: PropTypes.bool.isRequired,\n\tsetContent: PropTypes.func.isRequired,\n\tsetInputFormat: PropTypes.func.isRequired,\n\tinputFormat: PropTypes.string.isRequired,\n\ttitle: PropTypes.string,\n};\n\nSongImporter.defaultProps = {};\n\nexport default SongImporter;\n","import { connect } from 'react-redux';\n\nimport { importFile } from '../../db/files/actions';\nimport { setContent, setInputFormat, cancelImport } from '../_state/actions';\nimport {\n\tgetInputFormat,\n\tgetContent,\n\tgetTitle,\n\tisImporting,\n\tisFromWeb,\n} from '../_state/selectors';\n\nimport SongImporter from '../_components/SongImporter';\n\nexport default connect(\n\t(state) => ({\n\t\tcontent: getContent(state),\n\t\tisFromWeb: isFromWeb(state),\n\t\tisImporting: isImporting(state),\n\t\tinputFormat: getInputFormat(state),\n\t\ttitle: getTitle(state),\n\t}),\n\n\t{\n\t\tsetContent,\n\t\tsetInputFormat,\n\t\tcancelImport,\n\t\timportFile,\n\t}\n)(SongImporter);\n","export default [\n\t{\n\t\tid: 'edit',\n\t\tlabel: 'Edit',\n\t\ticon: 'create',\n\t\teditorMode: 'edit',\n\t},\n\t{\n\t\tid: 'play',\n\t\tlabel: 'Play',\n\t\ticon: 'music_note',\n\t\teditorMode: 'play',\n\t},\n\t{\n\t\tid: 'print',\n\t\tlabel: 'Print / PDF',\n\t\ticon: 'print',\n\t\teditorMode: 'print',\n\t},\n\t{\n\t\tid: 'export',\n\t\tlabel: 'Export',\n\t\ticon: 'save_alt',\n\t\teditorMode: 'export',\n\t},\n];\n","import './App.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Logo from '../../../sideBar/_components/Logo';\nimport Nav from './Nav';\nimport Footer from './Footer';\nimport Icon from '../../../_components/Icon';\nimport SongImporter from '../../../../songImporter/_containers/SongImporter';\n\nimport allNavEntries from '../allNavEntries';\n\nfunction App(props) {\n\tconst {\n\t\teditorMode,\n\t\tisLeftBarCollapsed,\n\t\tisRightBarCollapsed,\n\t\ttoggleLeftBar,\n\t\ttoggleRightBar,\n\t\tsetEditorMode,\n\t\tselectedId,\n\n\t\tleftBar,\n\t\trightBar,\n\t} = props;\n\n\tconst leftBarClassNames = ['leftBar'];\n\tif (isLeftBarCollapsed) {\n\t\tleftBarClassNames.push('leftBar-isCollapsed');\n\t}\n\n\tconst rightBarClassNames = ['rightBar'];\n\tif (isRightBarCollapsed) {\n\t\trightBarClassNames.push('rightBar-isCollapsed');\n\t}\n\n\treturn (\n\t\t<div className={'appLayout-wrapper'}>\n\t\t\t<SongImporter />\n\t\t\t<section className={leftBarClassNames.join(' ')}>\n\t\t\t\t<div\n\t\t\t\t\tclassName={'leftBar-content'}\n\t\t\t\t\tonClick={isLeftBarCollapsed ? toggleLeftBar : null}\n\t\t\t\t>\n\t\t\t\t\t<Logo />\n\t\t\t\t\t{leftBar}\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName={'leftBar-collapser'}\n\t\t\t\t\tonClick={toggleLeftBar}\n\t\t\t\t\tdata-testid={'leftBar-collapser'}\n\t\t\t\t>\n\t\t\t\t\t<span className={'leftBar-collapserIcon'}>\n\t\t\t\t\t\t<Icon iconName={'keyboard_arrow_left'} />\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t\t<section className={'appLayout-main'}>\n\t\t\t\t<section className={'appLayout-header'}>\n\t\t\t\t\t<Nav\n\t\t\t\t\t\tallEntries={allNavEntries}\n\t\t\t\t\t\tcurrentMode={editorMode}\n\t\t\t\t\t\tsetEditorMode={setEditorMode}\n\t\t\t\t\t\tselectedId={selectedId}\n\t\t\t\t\t/>\n\t\t\t\t</section>\n\t\t\t\t<section className={'appLayout-content'}>\n\t\t\t\t\t{props.children}\n\t\t\t\t</section>\n\t\t\t\t<section className={'appLayout-footer'}>\n\t\t\t\t\t<Footer />\n\t\t\t\t</section>\n\t\t\t</section>\n\t\t\t<section className={rightBarClassNames.join(' ')}>\n\t\t\t\t<div\n\t\t\t\t\tclassName={'rightBar-collapser'}\n\t\t\t\t\tonClick={toggleRightBar}\n\t\t\t\t\tdata-testid={'rightBar-collapser'}\n\t\t\t\t>\n\t\t\t\t\t<span className={'rightBar-collapserIcon'}>\n\t\t\t\t\t\t<Icon iconName={'keyboard_arrow_right'} />\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName={'rightBar-content'}\n\t\t\t\t\tonClick={isRightBarCollapsed ? toggleRightBar : null}\n\t\t\t\t>\n\t\t\t\t\t{rightBar}\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t</div>\n\t);\n}\n\nApp.propTypes = {\n\tchildren: PropTypes.element,\n\n\tisLeftBarCollapsed: PropTypes.bool,\n\tisRightBarCollapsed: PropTypes.bool,\n\tselectedId: PropTypes.string,\n\ttoggleLeftBar: PropTypes.func.isRequired,\n\ttoggleRightBar: PropTypes.func.isRequired,\n\n\teditorMode: PropTypes.string.isRequired,\n\tsetEditorMode: PropTypes.func.isRequired,\n\n\tleftBar: PropTypes.element.isRequired,\n\trightBar: PropTypes.element.isRequired,\n};\n\nApp.defaultProps = {\n\tisLeftBarCollapsed: false,\n\tisRightBarCollapsed: false,\n};\n\nexport default App;\n","import { connect } from 'react-redux';\n\nimport {\n\ttoggleLeftBar,\n\ttoggleRightBar,\n\tsetEditorMode,\n} from '../_state/actions';\nimport {\n\tisLeftBarCollapsed,\n\tisRightBarCollapsed,\n\tgetEditorMode,\n} from '../_state/selectors';\nimport { getSelectedId } from '../../../../fileManager/_state/selectors';\n\nimport App from '../_components/App';\n\nexport default connect(\n\t(state) => ({\n\t\teditorMode: getEditorMode(state),\n\t\tisLeftBarCollapsed: isLeftBarCollapsed(state),\n\t\tisRightBarCollapsed: isRightBarCollapsed(state),\n\t\tselectedId: getSelectedId(state),\n\t}),\n\n\t{\n\t\ttoggleLeftBar,\n\t\ttoggleRightBar,\n\t\tsetEditorMode,\n\t}\n)(App);\n","import {\n\tUI_LAYOUT_APP_SET_EDITOR_MODE,\n\tUI_LAYOUT_APP_TOGGLE_LEFT_BAR,\n\tUI_LAYOUT_APP_TOGGLE_RIGHT_BAR,\n} from './actionsTypes';\n\nimport createAction from '../../../../core/createAction';\n\nexport const setEditorMode = (mode) =>\n\tcreateAction(UI_LAYOUT_APP_SET_EDITOR_MODE, { mode });\n\nexport const toggleLeftBar = () => createAction(UI_LAYOUT_APP_TOGGLE_LEFT_BAR);\n\nexport const toggleRightBar = () =>\n\tcreateAction(UI_LAYOUT_APP_TOGGLE_RIGHT_BAR);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../ui/_components/Icon';\n\nfunction FileActionEntry(props) {\n\tconst { icon, text, action } = props;\n\n\treturn (\n\t\t<span className={'fileManagerAction'} onClick={action}>\n\t\t\t<span className={'fileManagerAction-icon'}>\n\t\t\t\t<Icon iconName={icon} /> {text}\n\t\t\t</span>\n\t\t</span>\n\t);\n}\n\nFileActionEntry.propTypes = {\n\ticon: PropTypes.string.isRequired,\n\ttext: PropTypes.string.isRequired,\n\taction: PropTypes.func.isRequired,\n};\n\nexport default React.memo(FileActionEntry);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport FileActionEntry from './FileActionEntry';\n\nfunction FileActions(props) {\n\tconst { createFile, deleteFile, enableRename, startImport } = props;\n\n\tconst allActions = [\n\t\t{\n\t\t\ticon: 'upload',\n\t\t\ttext: 'Import',\n\t\t\taction: startImport,\n\t\t},\n\t\t{\n\t\t\ticon: 'add_circle',\n\t\t\ttext: 'New',\n\t\t\taction: createFile,\n\t\t},\n\t\t{\n\t\t\ticon: 'create',\n\t\t\ttext: 'Rename',\n\t\t\taction: enableRename,\n\t\t},\n\t\t{\n\t\t\ticon: 'delete',\n\t\t\ttext: 'Delete',\n\t\t\taction: deleteFile,\n\t\t},\n\t];\n\n\treturn (\n\t\t<div className={'fileManager-actionsList'}>\n\t\t\t{allActions.map((action, key) => (\n\t\t\t\t<FileActionEntry {...action} key={key} />\n\t\t\t))}\n\t\t</div>\n\t);\n}\n\nFileActions.propTypes = {\n\tcreateFile: PropTypes.func.isRequired,\n\tdeleteFile: PropTypes.func.isRequired,\n\tenableRename: PropTypes.func.isRequired,\n\tstartImport: PropTypes.func.isRequired,\n};\n\nexport default React.memo(FileActions);\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nfunction FileEntry(props) {\n\tconst [title, setTitle] = useState(props.title);\n\n\tconst {\n\t\tfileId,\n\t\tisSelected,\n\t\tisRenamed,\n\t\tdefaultTitle,\n\t\tselectFile,\n\t\tenableRename,\n\t\tupdateFile,\n\t} = props;\n\n\tconst classList = ['fileManagerEntry'];\n\tif (isSelected) {\n\t\tclassList.push('fileManagerEntry-isSelected');\n\t}\n\tif (isRenamed) {\n\t\tclassList.push('fileManagerEntry-isRenamed');\n\t}\n\n\tconst inputRef = React.createRef();\n\n\tuseEffect(() => {\n\t\tif (isRenamed) {\n\t\t\tinputRef.current.focus();\n\t\t}\n\t}, [isRenamed, inputRef]);\n\n\tfunction handleClick() {\n\t\tif (!isSelected) {\n\t\t\tselectFile(fileId);\n\t\t}\n\t}\n\n\tfunction handleDoubleClick(e) {\n\t\tif (!isRenamed) {\n\t\t\tenableRename(fileId);\n\t\t\te.target.select();\n\t\t}\n\t}\n\n\tfunction handleKeyPress(e) {\n\t\tif (isRenamed && e.which === 13) {\n\t\t\te.preventDefault();\n\t\t\twindow.getSelection().removeAllRanges();\n\n\t\t\tconst newTitle = e.target.value;\n\t\t\tsaveTitle(newTitle);\n\t\t}\n\t}\n\n\tfunction handleChange(e) {\n\t\tsetTitle(e.target.value);\n\t}\n\n\tfunction handleFocus(e) {\n\t\tif (isRenamed) {\n\t\t\te.target.select();\n\t\t}\n\t}\n\n\tfunction handleBlur(e) {\n\t\tif (isRenamed) {\n\t\t\tconst newTitle = e.target.value;\n\t\t\tsaveTitle(newTitle);\n\t\t}\n\t}\n\n\tfunction saveTitle(newTitle) {\n\t\tnewTitle = newTitle || defaultTitle;\n\n\t\tupdateFile(fileId, {\n\t\t\ttitle: newTitle,\n\t\t});\n\t\tsetTitle(newTitle);\n\n\t\tinputRef.current.scrollLeft = 0;\n\t}\n\n\treturn (\n\t\t<li\n\t\t\tclassName={classList.join(' ')}\n\t\t\tonClick={handleClick}\n\t\t\tonDoubleClick={handleDoubleClick}\n\t\t>\n\t\t\t<input\n\t\t\t\tclassName={'fileManagerEntry-input'}\n\t\t\t\tref={inputRef}\n\t\t\t\ttype={'text'}\n\t\t\t\tvalue={title}\n\t\t\t\treadOnly={isRenamed ? null : 'readOnly'}\n\t\t\t\tautoFocus={isRenamed ? 'autoFocus' : null}\n\t\t\t\tonChange={handleChange}\n\t\t\t\tonBlur={handleBlur}\n\t\t\t\tonFocus={handleFocus}\n\t\t\t\tonKeyPress={handleKeyPress}\n\t\t\t/>\n\t\t</li>\n\t);\n}\n\nFileEntry.propTypes = {\n\ttitle: PropTypes.string.isRequired,\n\tfileId: PropTypes.string.isRequired,\n\tisSelected: PropTypes.bool.isRequired,\n\tisRenamed: PropTypes.bool.isRequired,\n\tdefaultTitle: PropTypes.string.isRequired,\n\tselectFile: PropTypes.func.isRequired,\n\tenableRename: PropTypes.func.isRequired,\n\tupdateFile: PropTypes.func.isRequired,\n};\n\nexport default FileEntry;\n","import './FileManager.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../ui/_components/Icon';\nimport FileActions from './FileActions';\nimport FileEntry from './FileEntry';\n\nfunction FileManager(props) {\n\tconst {\n\t\tallTitles,\n\t\tselected,\n\t\trenamed,\n\t\tdefaultTitle,\n\n\t\tcreateFile,\n\t\tdeleteFile,\n\t\tenableRename,\n\t\tstartImport,\n\t\tselectFile,\n\t\tupdateFile,\n\t} = props;\n\n\treturn (\n\t\t<div className={'fileManager'}>\n\t\t\t<div className={'fileManager-isCollapsed'}>\n\t\t\t\t<span className={'fileManager-icon'}>\n\t\t\t\t\t<Icon iconName={'file_copy'} />\n\t\t\t\t</span>\n\t\t\t</div>\n\n\t\t\t<div className={'fileManager-isExpanded'}>\n\t\t\t\t<FileActions\n\t\t\t\t\tcreateFile={() => createFile(defaultTitle)}\n\t\t\t\t\tdeleteFile={() => deleteFile(selected)}\n\t\t\t\t\tenableRename={() => enableRename(selected)}\n\t\t\t\t\tstartImport={() => startImport()}\n\t\t\t\t/>\n\t\t\t\t<ul className={'fileManager-entriesList'}>\n\t\t\t\t\t{allTitles.map((file) => (\n\t\t\t\t\t\t<FileEntry\n\t\t\t\t\t\t\ttitle={file.title}\n\t\t\t\t\t\t\tdefaultTitle={defaultTitle}\n\t\t\t\t\t\t\tfileId={file.id}\n\t\t\t\t\t\t\tisSelected={selected === file.id}\n\t\t\t\t\t\t\tisRenamed={renamed === file.id}\n\t\t\t\t\t\t\tselectFile={selectFile}\n\t\t\t\t\t\t\tupdateFile={updateFile}\n\t\t\t\t\t\t\tenableRename={enableRename}\n\t\t\t\t\t\t\tkey={file.id}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nFileManager.propTypes = {\n\tallTitles: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\ttitle: PropTypes.string.isRequired,\n\t\t\tid: PropTypes.string.isRequired,\n\t\t})\n\t).isRequired,\n\tselected: PropTypes.string.isRequired,\n\trenamed: PropTypes.string.isRequired,\n\tdefaultTitle: PropTypes.string.isRequired,\n\n\tselectFile: PropTypes.func.isRequired,\n\tcreateFile: PropTypes.func.isRequired,\n\tdeleteFile: PropTypes.func.isRequired,\n\tenableRename: PropTypes.func.isRequired,\n\tstartImport: PropTypes.func.isRequired,\n\tupdateFile: PropTypes.func.isRequired,\n};\n\nexport default FileManager;\n","import { connect } from 'react-redux';\n\nimport { selectFile, enableRename } from '../_state/actions';\nimport {\n\tgetDefaultTitle,\n\tgetSelectedId,\n\tgetRenamedId,\n} from '../_state/selectors';\n\nimport { createFile, updateFile, deleteFile } from '../../db/files/actions';\nimport { startImport } from '../../songImporter/_state/actions';\n\nimport { getAllTitles } from '../../db/files/selectors';\n\nimport FileManager from '../_components/FileManager';\n\nexport default connect(\n\t(state) => ({\n\t\tselected: getSelectedId(state),\n\t\trenamed: getRenamedId(state),\n\t\tdefaultTitle: getDefaultTitle(state),\n\t\tallTitles: getAllTitles(state),\n\t}),\n\n\t{\n\t\tselectFile,\n\t\tcreateFile,\n\t\tdeleteFile,\n\t\tupdateFile,\n\t\tenableRename,\n\t\tstartImport,\n\t}\n)(FileManager);\n","import createAction from '../../core/createAction';\n\nimport * as actionsTypes from './actionsTypes';\n\nexport const selectFile = (id) =>\n\tcreateAction(actionsTypes.FILE_MANAGER_SELECT_FILE, { id });\n\nexport const enableRename = (id) =>\n\tcreateAction(actionsTypes.FILE_MANAGER_ENABLE_RENAME, { id });\n","import domPurify from 'dompurify';\n\nexport default function escapeHTML(unescaped) {\n\treturn domPurify.sanitize(unescaped);\n}\n","import { renderSong as renderSongCm, parseSong } from 'chord-mark';\n\nexport default function renderSong(songTxt, renderOptions) {\n\tconst parsed = parseSong(songTxt);\n\ttry {\n\t\treturn renderSongCm(parsed, {\n\t\t\t...renderOptions,\n\t\t\tprintChordsDuration: 'uneven',\n\t\t});\n\t} catch (e) {\n\t\treturn e.message;\n\t}\n}\n","import './SongRenderer.scss';\n\nimport _pick from 'lodash/pick';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport escapeHTML from '../../core/escapeHTML';\n\nimport renderSong from '../../core/renderSong';\n\nfunction SongRenderer(props) {\n\tconst { content } = props;\n\n\tconst renderOptions = _pick(props, [\n\t\t'alignBars',\n\t\t'chordsAndLyricsDisplay',\n\t\t'alignChordsWithLyrics',\n\t\t'harmonizeAccidentals',\n\t\t'accidentalsType',\n\t\t'transposeValue',\n\t\t'autoRepeatChords',\n\t\t'expandSectionMultiply',\n\t\t'useShortNamings',\n\t\t'simplifyChords',\n\t]);\n\n\treturn (\n\t\t<div className={'songRenderer'}>\n\t\t\t<div\n\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t__html: escapeHTML(renderSong(content, renderOptions)),\n\t\t\t\t}}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nSongRenderer.propTypes = {\n\tcontent: PropTypes.string,\n};\n\nSongRenderer.defaultProps = {\n\tcontent: '',\n};\n\nexport default SongRenderer;\n","import { connect } from 'react-redux';\n\nimport { getOptionValue } from '../../db/options/selectors';\n\nimport SongRenderer from '../_components/SongRenderer';\n\nexport default connect((state) => ({\n\t// songPreferences\n\tchordsAndLyricsDisplay: getOptionValue(\n\t\tstate,\n\t\t'songPreferences',\n\t\t'chordsAndLyricsDisplay'\n\t),\n\talignChordsWithLyrics: getOptionValue(\n\t\tstate,\n\t\t'songPreferences',\n\t\t'alignChordsWithLyrics'\n\t),\n\tharmonizeAccidentals: getOptionValue(\n\t\tstate,\n\t\t'songPreferences',\n\t\t'harmonizeAccidentals'\n\t),\n\taccidentalsType: getOptionValue(\n\t\tstate,\n\t\t'songPreferences',\n\t\t'preferredAccidentals'\n\t),\n\ttransposeValue: getOptionValue(state, 'songPreferences', 'transposeValue'),\n\tuseShortNamings: getOptionValue(\n\t\tstate,\n\t\t'songPreferences',\n\t\t'useShortNamings'\n\t),\n\tsimplifyChords: getOptionValue(state, 'songPreferences', 'simplifyChords'),\n\n\t// songFormatting\n\talignBars: getOptionValue(state, 'songFormatting', 'alignBars'),\n\tautoRepeatChords: getOptionValue(\n\t\tstate,\n\t\t'songFormatting',\n\t\t'autoRepeatChords'\n\t),\n\texpandSectionMultiply: getOptionValue(\n\t\tstate,\n\t\t'songFormatting',\n\t\t'expandSectionMultiply'\n\t),\n}))(SongRenderer);\n","import './EditorPreview.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport SongRenderer from '../../_containers/SongRenderer';\n\nfunction EditorPreview(props) {\n\tconst { selectedFile } = props;\n\n\tconst classNames = ['editorPreview'];\n\n\treturn (\n\t\t<div className={classNames.join(' ')}>\n\t\t\t<SongRenderer content={selectedFile.content} />\n\t\t</div>\n\t);\n}\n\nEditorPreview.propTypes = {\n\tselectedFile: PropTypes.object.isRequired,\n};\n\nexport default EditorPreview;\n","import { connect } from 'react-redux';\n\n//import { getOptionValue } from '../../../db/options/selectors';\n\nimport EditorPreview from '../_components/EditorPreview';\n\nexport default connect(() => ({}))(EditorPreview);\n","import { Schema } from 'prosemirror-model';\nimport { nodes, marks } from 'prosemirror-schema-basic';\n\nconst editorSchema = new Schema({\n\tnodes: nodes,\n\tmarks: marks,\n});\n\nexport default editorSchema;\n","/**\n * Convert a proseMirror state to plain text\n */\nexport default function stateToText(state) {\n\tconst json = state.toJSON();\n\n\treturn json.doc.content\n\t\t.map((paragraph) => {\n\t\t\tif (!paragraph.content) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\treturn paragraph.content.reduce((acc, current) => {\n\t\t\t\tacc += current.text;\n\t\t\t\treturn acc;\n\t\t\t}, '');\n\t\t})\n\t\t.join('\\n');\n}\n","import domPurify from 'dompurify';\n\n/**\n * Minimal wrapper around DOMPurify library.\n * Pretty drastic also: anything that is HTML is just simply ignored, including text content of tags.\n *\n * @param {String} dirty\n * @returns {String} clean HTML\n */\nexport default function toSafeHtml(dirty) {\n\tconst config = {\n\t\tALLOWED_TAGS: ['p', '#text'],\n\t\tKEEP_CONTENT: false,\n\t};\n\n\treturn domPurify.sanitize(dirty, config);\n}\n","import './ProsemirrorEditorView.scss';\n\nimport React, { useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { EditorState } from 'prosemirror-state';\nimport { EditorView } from 'prosemirror-view';\nimport { DOMParser as pmDOMParser } from 'prosemirror-model';\n\nimport getPlugins from './getPlugins';\nimport editorSchema from './schema';\n\nimport stateToText from './converters/stateToText';\nimport textToDom from './converters/textToDom';\n\nimport 'prosemirror-view/style/prosemirror.css';\n\nfunction createEditorState(editorContent) {\n\treturn EditorState.create({\n\t\tdoc: pmDOMParser\n\t\t\t.fromSchema(editorSchema)\n\t\t\t.parse(textToDom(editorContent), { preserveWhitespace: 'full' }),\n\t\tplugins: getPlugins(),\n\t});\n}\n\nfunction createEditorView(editorState, updateFile, fileId) {\n\treturn new EditorView(null, {\n\t\tstate: editorState,\n\t\tdispatchTransaction: function dispatchTransaction(transaction) {\n\t\t\tconst { state, transactions } =\n\t\t\t\tthis.state.applyTransaction(transaction);\n\n\t\t\tthis.updateState(state);\n\n\t\t\tif (transactions.some((tr) => tr.docChanged)) {\n\t\t\t\tupdateFile(fileId, { content: stateToText(state) });\n\t\t\t}\n\t\t},\n\t});\n}\n\nfunction ProseMirrorEditorView(props) {\n\tconst { selectedFileId, editorContent, updateFile } = props;\n\n\tconst editorView = useRef();\n\tconst editorDom = useRef();\n\tconst previousFileId = usePrevious(selectedFileId);\n\n\t/**\n\t * Editor is recreated on component mount and on file change.\n\t * The later is needed as we need to to re-bind the change handler with the new file id.\n\t */\n\tfunction shouldCreateEditor() {\n\t\treturn (\n\t\t\tselectedFileId &&\n\t\t\t(!editorView.current || previousFileId !== selectedFileId)\n\t\t);\n\t}\n\n\t// Editor has been previously created, but now no file is selected anymore\n\tfunction isEditorOrphan() {\n\t\treturn editorExists() && !selectedFileId;\n\t}\n\n\tfunction editorExists() {\n\t\treturn editorView.current && editorView.current.dom.parentNode;\n\t}\n\n\tfunction destroyEditor() {\n\t\teditorView.current.dom.parentNode.removeChild(editorView.current.dom);\n\t}\n\n\tuseEffect(() => {\n\t\tif (shouldCreateEditor()) {\n\t\t\tif (editorExists()) {\n\t\t\t\tdestroyEditor();\n\t\t\t}\n\n\t\t\tconst editorState = createEditorState(editorContent);\n\t\t\teditorView.current = createEditorView(\n\t\t\t\teditorState,\n\t\t\t\tupdateFile,\n\t\t\t\tselectedFileId\n\t\t\t);\n\t\t\teditorDom.current.appendChild(editorView.current.dom);\n\n\t\t\t// expose editor instance as a component property for unit tests\n\t\t\tProseMirrorEditorView.editorView = editorView.current;\n\t\t} else if (isEditorOrphan()) {\n\t\t\tdestroyEditor();\n\t\t}\n\t});\n\n\treturn <div className={'prosemirrorWrapper'} ref={editorDom} />;\n}\n\nProseMirrorEditorView.defaultProps = {\n\tselectedFileId: '',\n\teditorContent: '',\n};\n\nProseMirrorEditorView.propTypes = {\n\tselectedFileId: PropTypes.string,\n\teditorContent: PropTypes.string,\n\tupdateFile: PropTypes.func.isRequired,\n};\n\nexport default ProseMirrorEditorView;\n\n// @see https://reactjs.org/docs/hooks-faq.html#how-to-get-the-previous-props-or-state\nfunction usePrevious(value) {\n\tconst ref = useRef();\n\tuseEffect(() => {\n\t\tref.current = value;\n\t});\n\treturn ref.current;\n}\n","import escapeHTML from './toSafeHtml';\n\n/**\n * @param {String} text\n * @returns {HTMLElement}\n */\nexport default function textToDom(text) {\n\tconst html = escapeHTML(text)\n\t\t.split('\\n')\n\t\t.map((line) => `<p>${line}</p>`)\n\t\t.join('');\n\n\tconst div = document.createElement('div');\n\tdiv.innerHTML = escapeHTML(html);\n\n\treturn div;\n}\n","import { keymap } from 'prosemirror-keymap';\nimport { baseKeymap } from 'prosemirror-commands';\nimport { undo, redo, history as pmHistory } from 'prosemirror-history';\n\nexport default function getPlugins() {\n\treturn [\n\t\tpmHistory(),\n\t\tkeymap({ 'Mod-z': undo, 'Mod-y': redo }),\n\t\tkeymap(baseKeymap),\n\t];\n}\n","import './EditorLayout.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport EditorPreview from '../../../songRenderers/editorPreview/_containers/EditorPreview';\nimport ProseMirrorEditorView from '../prosemirror/ProsemirrorEditorView';\n\nfunction EditorLayout(props) {\n\tconst { selectedFile, updateFile } = props;\n\n\treturn (\n\t\t<div className={'songEditor'}>\n\t\t\t<div className={'songEditor-source'}>\n\t\t\t\t<ProseMirrorEditorView\n\t\t\t\t\teditorContent={selectedFile.content}\n\t\t\t\t\tupdateFile={updateFile}\n\t\t\t\t\tselectedFileId={selectedFile.id}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className={'songEditor-preview'}>\n\t\t\t\t<EditorPreview selectedFile={selectedFile} />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nEditorLayout.propTypes = {\n\tselectedFile: PropTypes.object,\n\tupdateFile: PropTypes.func.isRequired,\n};\n\nexport default EditorLayout;\n","import './ExportPreview.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport SongRenderer from '../../_containers/SongRenderer';\n\nfunction ExportPreview(props) {\n\tconst { selectedFile } = props;\n\n\treturn (\n\t\t<div className={'exportPreview exp-SongRenderer'}>\n\t\t\t<SongRenderer content={selectedFile.content} />\n\t\t</div>\n\t);\n}\n\nExportPreview.propTypes = {\n\tselectedFile: PropTypes.object.isRequired,\n};\n\nexport default ExportPreview;\n","import './PlayRenderer.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport SongRenderer from '../../_containers/SongRenderer';\n\nfunction PlayRenderer(props) {\n\tconst {\n\t\tselectedFile,\n\t\tfontSize,\n\t\tchordsColor,\n\t\thighlightChords,\n\t\tcolumnsCount,\n\t} = props;\n\n\tconst classNames = ['playRenderer'];\n\tclassNames.push('playRenderer--columns-' + columnsCount);\n\tclassNames.push('cmLine--fontSize' + fontSize);\n\tclassNames.push('cmChordSymbol--chordsColor-' + chordsColor);\n\tif (highlightChords) {\n\t\tclassNames.push('cmChordLine--highlightChords');\n\t}\n\n\treturn (\n\t\t<div className={'playRendererWrapper1'}>\n\t\t\t<div className={'playRendererWrapper2'}>\n\t\t\t\t<div\n\t\t\t\t\tclassName={classNames.join(' ')}\n\t\t\t\t\tdata-testid={'playRenderer'}\n\t\t\t\t>\n\t\t\t\t\t<SongRenderer content={selectedFile.content} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nPlayRenderer.propTypes = {\n\tselectedFile: PropTypes.object.isRequired,\n\tcolumnsCount: PropTypes.number.isRequired,\n\tfontSize: PropTypes.number.isRequired,\n\tchordsColor: PropTypes.string.isRequired,\n\thighlightChords: PropTypes.bool.isRequired,\n};\n\nexport default PlayRenderer;\n","import { connect } from 'react-redux';\n\nimport { getOptionValue } from '../../../db/options/selectors';\n\nimport PlayRenderer from '../_components/PlayRenderer';\n\nexport default connect((state) => ({\n\tchordsColor: getOptionValue(state, 'songFormatting', 'chordsColor'),\n\thighlightChords: getOptionValue(state, 'songFormatting', 'highlightChords'),\n\tfontSize: getOptionValue(state, 'songFormatting', 'fontSize'),\n\tcolumnsCount: getOptionValue(state, 'songFormatting', 'columnsCount'),\n}))(PlayRenderer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport escapeHTML from '../../../core/escapeHTML';\n\nfunction Page(props) {\n\tconst {\n\t\tpageHeader,\n\t\tallColumnsLines,\n\t\tdocumentSize,\n\t\tdocumentMargins,\n\t\tprintFontSize,\n\t} = props;\n\n\tconst allSectionsRendered = allColumnsLines.map((columnLines, index) => {\n\t\tconst columnLinesTxt = columnLines.join('\\n');\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tkey={index}\n\t\t\t\tclassName={'printPreview-pageColumn'}\n\t\t\t\tdata-testid={'printPreview-pageColumn'}\n\t\t\t\tdangerouslySetInnerHTML={{ __html: escapeHTML(columnLinesTxt) }}\n\t\t\t/>\n\t\t);\n\t});\n\n\tconst pageClasses = ['printPreview-page'];\n\tpageClasses.push('printPreview-page--' + documentSize);\n\tpageClasses.push('printPreview-page--font' + printFontSize);\n\n\tconst pageContentWrapperClasses = ['printPreview-pageContentWrapper'];\n\tpageContentWrapperClasses.push(\n\t\t'printPreview-pageContentWrapper--padding' + documentMargins\n\t);\n\n\treturn (\n\t\t<div\n\t\t\tclassName={pageClasses.join(' ')}\n\t\t\tdata-testid={'printPreview-page'}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={pageContentWrapperClasses.join(' ')}\n\t\t\t\tdata-testid={'printPreview-pageContentWrapper'}\n\t\t\t>\n\t\t\t\t<div className={'printPreview-pageContent'}>\n\t\t\t\t\t{pageHeader}\n\t\t\t\t\t<div className={'printPreview-pageColumnWrapper'}>\n\t\t\t\t\t\t{allSectionsRendered}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\nPage.defaultProps = {\n\tallColumnsLines: [],\n};\nPage.propTypes = {\n\tpageHeader: PropTypes.element,\n\tallColumnsLines: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.string)),\n\tdocumentSize: PropTypes.string.isRequired,\n\tdocumentMargins: PropTypes.number.isRequired,\n\tprintFontSize: PropTypes.number.isRequired,\n};\n\nexport default React.memo(Page);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction PageHeader(props) {\n\tconst { title } = props;\n\n\treturn <div className={'printPreview-pageHeader'}>{title}</div>;\n}\nPageHeader.defaultProps = {\n\tallColumnsLines: [],\n};\nPageHeader.propTypes = {\n\ttitle: PropTypes.string.isRequired,\n};\n\nexport default React.memo(PageHeader);\n","const cssClasses = {\n\temptyLine: 'cmEmptyLine',\n\tchordLine: 'cmChordLine',\n\ttextLine: 'cmTextLine',\n};\n\n/**\n * @param {Object[]} allLinesWithHeight\n * @param {String} allLinesWithHeight.content\n * @param {Number} allLinesWithHeight.height\n * @param {Number} columnsCount\n * @param {Number} firstPageHeight\n * @param {Number} normalPageHeight\n * @param {Boolean} columnBreakOnParagraph\n * @param {Boolean} noEmptyLinesOnColumnStart\n * @param {Boolean} noOrphanTextLine\n * @returns {Array} array of pages, as array of columns\n */\nexport default function mapLinesToColumns(\n\tallLinesWithHeight,\n\t{\n\t\tcolumnsCount,\n\t\tfirstPageHeight,\n\t\tnormalPageHeight,\n\t\tcolumnBreakOnParagraph,\n\t\tnoEmptyLinesOnColumnStart = true,\n\t\tnoOrphanTextLine = true,\n\t}\n) {\n\tconst layout = layoutFactory({\n\t\tcolumnsCount,\n\t\tfirstPageHeight,\n\t\tnormalPageHeight,\n\t\tnoEmptyLinesOnColumnStart,\n\t});\n\n\tlet buffer = [];\n\tlet bufferHeight = 0;\n\n\tconst pageHeight = firstPageHeight || normalPageHeight;\n\n\tif (pageHeight > 0) {\n\t\tallLinesWithHeight.forEach((line, lineIndex) => {\n\t\t\tif (\n\t\t\t\tshouldRenderLine(\n\t\t\t\t\tlayout,\n\t\t\t\t\tline,\n\t\t\t\t\tbuffer,\n\t\t\t\t\tnoEmptyLinesOnColumnStart\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tbuffer.push(line);\n\t\t\t\tbufferHeight += line.height;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tbuffer.length > 0 &&\n\t\t\t\tisBreakable(line, allLinesWithHeight[lineIndex + 1], {\n\t\t\t\t\tnoOrphanTextLine,\n\t\t\t\t\tcolumnBreakOnParagraph,\n\t\t\t\t})\n\t\t\t) {\n\t\t\t\tif (layout.fitsOnCurrentColumn(bufferHeight)) {\n\t\t\t\t\tlayout.insert(buffer);\n\t\t\t\t} else if (layout.fitsOnNextColumn(bufferHeight)) {\n\t\t\t\t\tlayout.insertOnNextColumn(buffer);\n\t\t\t\t} else {\n\t\t\t\t\tlayout.insert(buffer);\n\t\t\t\t}\n\t\t\t\tbuffer = [];\n\t\t\t\tbufferHeight = 0;\n\t\t\t}\n\t\t});\n\t}\n\treturn layout.get();\n}\n\n/**\n * Try to spot the case where the line is empty and would be rendered as the first line\n * of the next column, which we may want to avoid\n */\nfunction shouldRenderLine(layout, line, buffer, noEmptyLinesOnColumnStart) {\n\treturn !(\n\t\tisEmptyLine(line) &&\n\t\t!layout.fitsOnCurrentColumn(line.height) &&\n\t\tbuffer.length === 0 &&\n\t\tnoEmptyLinesOnColumnStart === true\n\t);\n}\n\nfunction isBreakable(\n\tcurrentLine,\n\tnextLine,\n\t{ noOrphanTextLine, columnBreakOnParagraph }\n) {\n\tif (isEmptyLine(currentLine) || !nextLine) {\n\t\treturn true;\n\t}\n\n\tconst wouldProduceOrphanTextLine =\n\t\tisChordLine(currentLine) && isTextLine(nextLine);\n\tif (noOrphanTextLine === true && wouldProduceOrphanTextLine) {\n\t\treturn false;\n\t}\n\n\tconst isEndOfParagraph = isEmptyLine(nextLine);\n\tif (columnBreakOnParagraph === true && !isEndOfParagraph) {\n\t\treturn false;\n\t}\n\treturn true;\n}\n\nfunction isEmptyLine(line) {\n\treturn hasClass(line.content, cssClasses.emptyLine);\n}\n\nfunction isChordLine(line) {\n\treturn hasClass(line.content, cssClasses.chordLine);\n}\n\nfunction isTextLine(line) {\n\treturn hasClass(line.content, cssClasses.textLine);\n}\n\nfunction hasClass(line, className) {\n\treturn line.indexOf(className) > -1;\n}\n\nfunction layoutFactory({ firstPageHeight, normalPageHeight, columnsCount }) {\n\tconst allPagesColumns = [];\n\n\tlet pageIndex = 0;\n\tlet columnIndex = 0;\n\tlet maxColumnHeight = getMaxColumnHeight();\n\tlet currentColumnHeight = 0;\n\n\tallPagesColumns[pageIndex] = [];\n\tallPagesColumns[pageIndex][columnIndex] = [];\n\n\tfunction flushBuffer(buffer) {\n\t\tbuffer.forEach((line) => {\n\t\t\tif (shouldChangeColumn(currentColumnHeight + line.height)) {\n\t\t\t\tchangeColumn();\n\t\t\t}\n\t\t\tallPagesColumns[pageIndex][columnIndex].push(line.content);\n\t\t\tcurrentColumnHeight += line.height;\n\t\t});\n\t}\n\n\tfunction getMaxColumnHeight() {\n\t\treturn pageIndex === 0 && firstPageHeight\n\t\t\t? firstPageHeight\n\t\t\t: normalPageHeight;\n\t}\n\n\tfunction shouldChangeColumn(nextHeight) {\n\t\treturn nextHeight > maxColumnHeight;\n\t}\n\n\tfunction changeColumn() {\n\t\tif (shouldChangePage()) {\n\t\t\tpageIndex++;\n\t\t\tallPagesColumns[pageIndex] = [];\n\t\t\tcolumnIndex = 0;\n\t\t} else {\n\t\t\tcolumnIndex++;\n\t\t}\n\t\tallPagesColumns[pageIndex][columnIndex] = [];\n\t\tcurrentColumnHeight = 0;\n\t\tmaxColumnHeight = getMaxColumnHeight();\n\t}\n\n\tfunction shouldChangePage() {\n\t\treturn columnIndex === columnsCount - 1;\n\t}\n\n\treturn {\n\t\tinsert(buffer) {\n\t\t\tflushBuffer(buffer);\n\t\t},\n\n\t\tinsertOnNextColumn(buffer) {\n\t\t\tchangeColumn();\n\t\t\tflushBuffer(buffer);\n\t\t},\n\n\t\tfitsOnCurrentColumn(bufferHeight) {\n\t\t\treturn currentColumnHeight + bufferHeight <= maxColumnHeight;\n\t\t},\n\n\t\tfitsOnNextColumn(bufferHeight) {\n\t\t\tconst nextColumnHeight =\n\t\t\t\tpageIndex === 0 && columnIndex < columnsCount && firstPageHeight\n\t\t\t\t\t? firstPageHeight\n\t\t\t\t\t: normalPageHeight;\n\t\t\treturn bufferHeight <= nextColumnHeight;\n\t\t},\n\n\t\tget() {\n\t\t\treturn allPagesColumns;\n\t\t},\n\t};\n}\n","import './getDimensionsFromDom.scss';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nexport default function getDimensionsFromDom(component, measuringFn) {\n\tconst container = document.createElement('div');\n\tcontainer.classList.add('measuring-node');\n\tdocument.body.appendChild(container);\n\n\treturn new Promise((resolve) => {\n\t\tReactDOM.render(<div>{component}</div>, container, () => {\n\t\t\tconst measure = measuringFn(container);\n\n\t\t\tReactDOM.unmountComponentAtNode(container);\n\t\t\tcontainer.parentNode.removeChild(container);\n\n\t\t\tresolve(measure);\n\t\t});\n\t});\n}\n","export default function padColumns(columnCount, allColumns = []) {\n\tfor (let i = allColumns.length || 0; i < columnCount; i++) {\n\t\tallColumns.push([]);\n\t}\n\treturn allColumns;\n}\n","export function getOffsetHeight(element) {\n\treturn element.offsetHeight;\n}\n\nexport function getClientHeight(element) {\n\treturn element.clientHeight;\n}\n","import React from 'react';\n\nimport getDimensionsFromDom from './getDimensionsFromDom';\nimport padColumns from './padColumns';\nimport { getOffsetHeight } from './element';\n\nimport Page from '../_components/Page';\n\nconst cssSelectors = {\n\tline: '.cmLine',\n};\n\nexport default async function getAllLinesHeight(\n\tallLines,\n\t{ columnsCount, documentSize, documentMargins, printFontSize }\n) {\n\tconst component = (\n\t\t<div className={'printPreview'}>\n\t\t\t<Page\n\t\t\t\tallColumnsLines={padColumns(columnsCount, [allLines])}\n\t\t\t\tcolumnsCount={columnsCount}\n\t\t\t\tdocumentSize={documentSize}\n\t\t\t\tdocumentMargins={documentMargins}\n\t\t\t\tprintFontSize={printFontSize}\n\t\t\t/>\n\t\t</div>\n\t);\n\n\tconst measuringFn = (container) => {\n\t\tconst allLinesHeight = [];\n\t\tcontainer.querySelectorAll(cssSelectors.line).forEach((line) => {\n\t\t\tallLinesHeight.push(getOffsetHeight(line));\n\t\t});\n\t\treturn allLinesHeight;\n\t};\n\n\treturn await getDimensionsFromDom(component, measuringFn);\n}\n","import React from 'react';\n\nimport getDimensionsFromDom from './getDimensionsFromDom';\nimport padColumns from './padColumns';\nimport { getClientHeight } from './element';\n\nimport Page from '../_components/Page';\nimport PageHeader from '../_components/PageHeader';\n\nexport default async function getAllLinesHeight(\n\ttitle,\n\t{ columnsCount, documentSize, documentMargins, printFontSize }\n) {\n\tconst component = (\n\t\t<Page\n\t\t\tpageHeader={<PageHeader title={title} />}\n\t\t\tallColumnsLines={padColumns(columnsCount)}\n\t\t\tdocumentSize={documentSize}\n\t\t\tdocumentMargins={documentMargins}\n\t\t\tprintFontSize={printFontSize}\n\t\t/>\n\t);\n\n\tconst measuringFn = (container) => {\n\t\tconst pageContent = container.querySelector(\n\t\t\t'.printPreview-pageContent'\n\t\t);\n\t\tconst pageColumnWrapper = container.querySelector(\n\t\t\t'.printPreview-pageColumnWrapper'\n\t\t);\n\t\treturn {\n\t\t\tfirstPageHeight: getClientHeight(pageColumnWrapper),\n\t\t\tnormalPageHeight: getClientHeight(pageContent),\n\t\t};\n\t};\n\n\treturn await getDimensionsFromDom(component, measuringFn);\n}\n","import React, { useState, useLayoutEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Page from './Page';\nimport PageHeader from './PageHeader';\n\nimport mapLinesToColumns from '../helpers/mapLinesToColumns';\nimport getAllLinesHeight from '../helpers/getAllLinesHeight';\nimport getPagesHeight from '../helpers/getPagesHeight';\nimport padColumns from '../helpers/padColumns';\n\nfunction AllPages(props) {\n\tconst [allPagesColumns, setAllPagesColumns] = useState([]);\n\n\tconst {\n\t\ttitle,\n\t\tallLines,\n\t\tcolumnsCount,\n\t\tcolumnBreakOnParagraph,\n\t\tdocumentSize,\n\t\tdocumentMargins,\n\t\tprintFontSize,\n\t} = props;\n\n\tuseLayoutEffect(() => {\n\t\tconst getDimensions = async () => {\n\t\t\tconst pageOptions = {\n\t\t\t\tcolumnsCount,\n\t\t\t\tdocumentSize,\n\t\t\t\tdocumentMargins,\n\t\t\t\tprintFontSize,\n\t\t\t};\n\n\t\t\tconst allLinesHeight = await getAllLinesHeight(\n\t\t\t\tallLines,\n\t\t\t\tpageOptions\n\t\t\t);\n\n\t\t\tconst { normalPageHeight, firstPageHeight } = await getPagesHeight(\n\t\t\t\ttitle,\n\t\t\t\tpageOptions\n\t\t\t);\n\n\t\t\tconst allLinesWithHeight = allLines.map((line, index) => ({\n\t\t\t\tcontent: line,\n\t\t\t\theight: allLinesHeight[index],\n\t\t\t}));\n\n\t\t\tconst mapped = mapLinesToColumns(allLinesWithHeight, {\n\t\t\t\tcolumnsCount,\n\t\t\t\tcolumnBreakOnParagraph,\n\t\t\t\tnormalPageHeight,\n\t\t\t\tfirstPageHeight,\n\t\t\t});\n\n\t\t\tsetAllPagesColumns(mapped);\n\t\t};\n\t\tgetDimensions();\n\t}, [\n\t\tallLines,\n\t\ttitle,\n\t\tcolumnsCount,\n\t\tcolumnBreakOnParagraph,\n\t\tdocumentSize,\n\t\tdocumentMargins,\n\t\tprintFontSize,\n\t]);\n\n\tconst allPagesRendered = allPagesColumns.map((pageColumns, index) => {\n\t\treturn (\n\t\t\t<Page\n\t\t\t\tkey={index}\n\t\t\t\tpageHeader={index === 0 ? <PageHeader title={title} /> : null}\n\t\t\t\tallColumnsLines={padColumns(columnsCount, pageColumns)}\n\t\t\t\tdocumentSize={documentSize}\n\t\t\t\tdocumentMargins={documentMargins}\n\t\t\t\tprintFontSize={printFontSize}\n\t\t\t/>\n\t\t);\n\t});\n\n\treturn <React.Fragment>{allPagesRendered}</React.Fragment>;\n}\n\nAllPages.propTypes = {\n\ttitle: PropTypes.string.isRequired,\n\tallLines: PropTypes.arrayOf(PropTypes.string).isRequired,\n\tcolumnsCount: PropTypes.number.isRequired,\n\tcolumnBreakOnParagraph: PropTypes.bool.isRequired,\n\tdocumentSize: PropTypes.string.isRequired,\n\tdocumentMargins: PropTypes.number.isRequired,\n\tprintFontSize: PropTypes.number.isRequired,\n};\n\nexport default AllPages;\n","import './PrintPreview.scss';\n\nimport _pick from 'lodash/pick';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport renderSong from '../../../core/renderSong';\nimport AllPages from './AllPages';\n\nfunction PrintPreview(props) {\n\tconst { selectedFile, highlightChords } = props;\n\n\tconst renderOptions = _pick(props, [\n\t\t'chordsAndLyricsDisplay',\n\t\t'alignChordsWithLyrics',\n\t\t'alignBars',\n\t\t'harmonizeAccidentals',\n\t\t'accidentalsType',\n\t\t'transposeValue',\n\t\t'autoRepeatChords',\n\t\t'expandSectionMultiply',\n\t\t'useShortNamings',\n\t\t'simplifyChords',\n\t]);\n\n\tconst allLines = renderSong(\n\t\tselectedFile.content || '',\n\t\trenderOptions\n\t).split('\\n');\n\n\tconst classNames = ['printPreview'];\n\tif (highlightChords) {\n\t\tclassNames.push('cmChordLine--highlightChords');\n\t}\n\n\treturn (\n\t\t<div className={classNames.join(' ')} data-testid={'printPreview'}>\n\t\t\t<AllPages\n\t\t\t\ttitle={selectedFile.title || ''}\n\t\t\t\tallLines={allLines}\n\t\t\t\tcolumnsCount={props.columnsCount}\n\t\t\t\tcolumnBreakOnParagraph={props.columnBreakOnParagraph}\n\t\t\t\tdocumentSize={props.documentSize}\n\t\t\t\tdocumentMargins={props.documentMargins}\n\t\t\t\tprintFontSize={props.printFontSize}\n\t\t\t/>\n\t\t</div>\n\t);\n}\nPrintPreview.propTypes = {\n\tselectedFile: PropTypes.object.isRequired,\n\tcolumnsCount: PropTypes.number.isRequired,\n\tcolumnBreakOnParagraph: PropTypes.bool.isRequired,\n\tdocumentSize: PropTypes.string.isRequired,\n\tdocumentMargins: PropTypes.number.isRequired,\n\tprintFontSize: PropTypes.number.isRequired,\n\thighlightChords: PropTypes.bool.isRequired,\n};\n\nexport default PrintPreview;\n","import { connect } from 'react-redux';\n\nimport { getOptionValue } from '../../../db/options/selectors';\n\nimport PrintPreview from '../_components/PrintPreview';\n\nexport default connect((state) => ({\n\t// songPreferences\n\tchordsAndLyricsDisplay: getOptionValue(\n\t\tstate,\n\t\t'songPreferences',\n\t\t'chordsAndLyricsDisplay'\n\t),\n\talignChordsWithLyrics: getOptionValue(\n\t\tstate,\n\t\t'songPreferences',\n\t\t'alignChordsWithLyrics'\n\t),\n\tharmonizeAccidentals: getOptionValue(\n\t\tstate,\n\t\t'songPreferences',\n\t\t'harmonizeAccidentals'\n\t),\n\taccidentalsType: getOptionValue(\n\t\tstate,\n\t\t'songPreferences',\n\t\t'preferredAccidentals'\n\t),\n\tuseShortNamings: getOptionValue(\n\t\tstate,\n\t\t'songPreferences',\n\t\t'useShortNamings'\n\t),\n\tsimplifyChords: getOptionValue(state, 'songPreferences', 'simplifyChords'),\n\ttransposeValue: getOptionValue(state, 'songPreferences', 'transposeValue'),\n\n\t// songFormatting\n\tcolumnsCount: getOptionValue(state, 'songFormatting', 'columnsCount'),\n\tcolumnBreakOnParagraph: getOptionValue(\n\t\tstate,\n\t\t'songFormatting',\n\t\t'columnBreakOnParagraph'\n\t),\n\tdocumentSize: getOptionValue(state, 'songFormatting', 'documentSize'),\n\tdocumentMargins: getOptionValue(state, 'songFormatting', 'documentMargins'),\n\talignBars: getOptionValue(state, 'songFormatting', 'alignBars'),\n\tprintFontSize: getOptionValue(state, 'songFormatting', 'printFontSize'),\n\thighlightChords: getOptionValue(state, 'songFormatting', 'highlightChords'),\n\tautoRepeatChords: getOptionValue(\n\t\tstate,\n\t\t'songFormatting',\n\t\t'autoRepeatChords'\n\t),\n\texpandSectionMultiply: getOptionValue(\n\t\tstate,\n\t\t'songFormatting',\n\t\t'expandSectionMultiply'\n\t),\n}))(PrintPreview);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport EditorLayout from '../songEditor/_components/EditorLayout';\nimport ExportPreview from '../../songRenderers/exportPreview/_components/ExportPreview';\nimport PlayRenderer from '../../songRenderers/playRenderer/_containers/PlayRenderer';\nimport PrintPreview from '../../songRenderers/printPreview/_containers/PrintPreview';\n\nfunction Editor(props) {\n\tconst { editorMode } = props;\n\n\tswitch (editorMode) {\n\t\tcase 'edit':\n\t\t\treturn <EditorLayout {...props} />;\n\t\tcase 'play':\n\t\t\treturn <PlayRenderer {...props} />;\n\t\tcase 'print':\n\t\t\treturn <PrintPreview {...props} />;\n\t\tcase 'export':\n\t\t\treturn <ExportPreview {...props} />;\n\t}\n}\n\nEditor.propTypes = {\n\teditorMode: PropTypes.string.isRequired,\n};\n\nexport default Editor;\n","import { connect } from 'react-redux';\n\nimport { getSelectedId } from '../../fileManager/_state/selectors';\nimport { getEditorMode } from '../../ui/layout/app/_state/selectors';\n\nimport { getOne } from '../../db/files/selectors';\nimport { updateFile } from '../../db/files/actions';\n\nimport Editor from '../_components/Editor';\n\nexport default connect(\n\t(state) => ({\n\t\tselectedFile: getOne(state, getSelectedId(state)) || {},\n\t\teditorMode: getEditorMode(state),\n\t}),\n\n\t{\n\t\tupdateFile,\n\t}\n)(Editor);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction OptionsPanel(props) {\n\tconst {\n\t\tid,\n\t\tallWidgets,\n\t\tnonInteractableWidgets,\n\t\thiddenWidgets,\n\t\tsetOption,\n\t\tgetEntryComponent,\n\t} = props;\n\n\tconst classNames = ['optionsPanel', 'optionsPanel-' + id];\n\n\tlet widget, groupWidget;\n\n\tlet WidgetComponent, GroupComponent;\n\tlet isGroupInteractable, isGroupWidgetInteractable;\n\n\tlet renderedGroupWidgets;\n\n\tconst renderedWidgets = allWidgets.widgetsOrder\n\t\t.filter((widgetId) => {\n\t\t\treturn !hiddenWidgets.includes(widgetId);\n\t\t})\n\t\t.map((widgetId) => {\n\t\t\twidget = allWidgets.allWidgets[widgetId];\n\n\t\t\tif (widget.type === 'optionsGroup') {\n\t\t\t\trenderedGroupWidgets = widget.groupWidgetsOrder\n\t\t\t\t\t.filter((groupWidgetId) => {\n\t\t\t\t\t\treturn !hiddenWidgets.includes(groupWidgetId);\n\t\t\t\t\t})\n\t\t\t\t\t.map((groupWidgetId) => {\n\t\t\t\t\t\tgroupWidget = widget.allGroupWidgets[groupWidgetId];\n\n\t\t\t\t\t\tisGroupWidgetInteractable =\n\t\t\t\t\t\t\t!nonInteractableWidgets.includes(widgetId) &&\n\t\t\t\t\t\t\t!nonInteractableWidgets.includes(groupWidgetId);\n\n\t\t\t\t\t\treturn renderWidget(\n\t\t\t\t\t\t\tgroupWidgetId,\n\t\t\t\t\t\t\tgroupWidget,\n\t\t\t\t\t\t\tisGroupWidgetInteractable\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\n\t\t\t\tGroupComponent = getEntryComponent(widget.type);\n\t\t\t\tisGroupInteractable =\n\t\t\t\t\t!nonInteractableWidgets.includes(widgetId);\n\n\t\t\t\treturn (\n\t\t\t\t\t<GroupComponent\n\t\t\t\t\t\tkey={widgetId}\n\t\t\t\t\t\tisInteractable={isGroupInteractable}\n\t\t\t\t\t\tlabel={widget.label}\n\t\t\t\t\t\ticon={widget.icon}\n\t\t\t\t\t>\n\t\t\t\t\t\t{renderedGroupWidgets}\n\t\t\t\t\t</GroupComponent>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn renderWidget(\n\t\t\t\t\twidgetId,\n\t\t\t\t\twidget,\n\t\t\t\t\t!nonInteractableWidgets.includes(widgetId)\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\n\tfunction renderWidget(widgetId, localWidget, isInteractable) {\n\t\tWidgetComponent = getEntryComponent(localWidget.type);\n\n\t\treturn (\n\t\t\t<WidgetComponent\n\t\t\t\tkey={widgetId}\n\t\t\t\tisInteractable={isInteractable}\n\t\t\t\toptionContext={localWidget.option.context}\n\t\t\t\toptionKey={localWidget.option.key}\n\t\t\t\toptionValue={props[localWidget.option.key]}\n\t\t\t\tsetOption={setOption}\n\t\t\t\tlabel={localWidget.label}\n\t\t\t\t{...localWidget.typeOptions}\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn <div className={classNames.join(' ')}>{renderedWidgets}</div>;\n}\n\nOptionsPanel.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tallWidgets: PropTypes.object.isRequired,\n\tnonInteractableWidgets: PropTypes.arrayOf(PropTypes.string).isRequired,\n\thiddenWidgets: PropTypes.arrayOf(PropTypes.string).isRequired,\n\tsetOption: PropTypes.func.isRequired,\n\tgetEntryComponent: PropTypes.func.isRequired,\n};\n\nexport default OptionsPanel;\n","import './OptionsGroup.scss';\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../../_components/Icon';\n\nfunction OptionsGroup(props) {\n\tconst [isOpened, setIsOpened] = useState(props.isOpened);\n\n\tconst { isInteractable, icon, label } = props;\n\n\tconst classNames = ['sb-optionsGroup'];\n\tif (!shouldBeInteractable()) {\n\t\tclassNames.push('sb-optionsGroup-isNotInteractable');\n\t}\n\n\tif (shouldBeClosed()) {\n\t\tsetIsOpened(false);\n\t}\n\n\tfunction shouldBeInteractable() {\n\t\treturn isInteractable && props.children && props.children.length > 0;\n\t}\n\n\tfunction shouldBeClosed() {\n\t\treturn isOpened && (!props.children || props.children.length === 0);\n\t}\n\n\tfunction handleClick() {\n\t\tsetIsOpened(!isOpened);\n\t}\n\n\treturn (\n\t\t<div className={classNames.join(' ')}>\n\t\t\t<div\n\t\t\t\tclassName={'sb-optionsGroup-title'}\n\t\t\t\tonClick={shouldBeInteractable() ? handleClick : null}\n\t\t\t>\n\t\t\t\t<div className={'sb-optionsGroup-label'}>\n\t\t\t\t\t<span className={'sb-optionsGroup-iconTitle'}>\n\t\t\t\t\t\t<Icon iconName={icon} />\n\t\t\t\t\t</span>{' '}\n\t\t\t\t\t{label}\n\t\t\t\t</div>\n\t\t\t\t<div className={'sb-optionsGroup-toggle'}>\n\t\t\t\t\t<span className={'sb-optionsGroup-iconToggle'}>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ticonName={isOpened ? 'unfold_less' : 'unfold_more'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className={'sb-optionsGroup-content'}>\n\t\t\t\t{isOpened && props.children}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nOptionsGroup.propTypes = {\n\tisOpened: PropTypes.bool,\n\tisInteractable: PropTypes.bool.isRequired,\n\ticon: PropTypes.string.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\tchildren: PropTypes.arrayOf(PropTypes.element),\n};\n\nOptionsGroup.defaultProps = {\n\tisOpened: true,\n};\n\nexport default OptionsGroup;\n","import './Select.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../../_components/Icon';\n\nfunction SelectChoice(props) {\n\tconst { isSelected, label, onClick } = props;\n\n\tlet checkIcon;\n\tconst classNames = ['sb-optionSelectChoice'];\n\n\tif (isSelected) {\n\t\tclassNames.push('sb-optionSelectChoice-isSelected');\n\t\tcheckIcon = (\n\t\t\t<span className={'sb-optionSelectChoice-checkIcon'}>\n\t\t\t\t<Icon iconName={'check'} />\n\t\t\t</span>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className={classNames.join(' ')} onClick={onClick}>\n\t\t\t<div className={'sb-optionSelectChoice-check'}>\n\t\t\t\t{isSelected && checkIcon}\n\t\t\t</div>\n\t\t\t<div className={'sb-optionSelectChoice-label'}>{label}</div>\n\t\t</div>\n\t);\n}\n\nSelectChoice.propTypes = {\n\tisSelected: PropTypes.bool.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\tonClick: PropTypes.func.isRequired,\n};\n\nexport default React.memo(SelectChoice);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport SelectChoice from './SelectChoice';\n\nimport Icon from '../../../_components/Icon';\n\nfunction Select(props) {\n\tconst [isOpen, setIsOpen] = useState(false);\n\n\tconst {\n\t\tisInteractable,\n\t\tlabel,\n\t\tallChoices,\n\t\toptionContext,\n\t\toptionKey,\n\t\toptionValue,\n\t\tsetOption,\n\t} = props;\n\n\tconst classNames = ['sb-optionSelect'];\n\tif (!isInteractable) {\n\t\tclassNames.push('sb-optionSelect-isNotInteractable');\n\t}\n\n\tconst iconName = isOpen ? 'keyboard_arrow_down' : 'keyboard_arrow_right';\n\n\tfunction toggleChoices() {\n\t\tsetIsOpen(!isOpen);\n\t}\n\n\tconst renderedChoices = !isOpen ? null : (\n\t\t<div className={'sb-optionSelect-choices'}>\n\t\t\t{allChoices.map((choice) => (\n\t\t\t\t<SelectChoice\n\t\t\t\t\tkey={choice.value}\n\t\t\t\t\tlabel={choice.label}\n\t\t\t\t\tisSelected={optionValue === choice.value}\n\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\tsetOption(optionContext, optionKey, choice.value)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</div>\n\t);\n\n\treturn (\n\t\t<div className={classNames.join(' ')}>\n\t\t\t<div\n\t\t\t\tclassName={'sb-optionSelect-title'}\n\t\t\t\tonClick={isInteractable ? toggleChoices : null}\n\t\t\t>\n\t\t\t\t<div className={'sb-optionSelect-desc'}>{label}</div>\n\t\t\t\t<div className={'sb-optionSelect-toggle'}>\n\t\t\t\t\t<span className={'sb-optionSelect-icon'}>\n\t\t\t\t\t\t<Icon iconName={iconName} />\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{renderedChoices}\n\t\t</div>\n\t);\n}\n\nSelect.propTypes = {\n\tisInteractable: PropTypes.bool.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\tallChoices: PropTypes.array.isRequired,\n\toptionContext: PropTypes.string.isRequired,\n\toptionKey: PropTypes.string.isRequired,\n\toptionValue: PropTypes.string.isRequired,\n\tsetOption: PropTypes.func.isRequired,\n};\n\nexport default Select;\n","import './Slider.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Slider(props) {\n\tconst {\n\t\tisInteractable,\n\t\tlabel,\n\t\tmin,\n\t\tmax,\n\t\tshowPlusSymbol,\n\t\toptionContext,\n\t\toptionKey,\n\t\toptionValue,\n\t\tsetOption,\n\t} = props;\n\n\tconst classNames = ['sb-optionSlider'];\n\tif (!isInteractable) {\n\t\tclassNames.push('sb-optionSlider-isNotInteractable');\n\t}\n\n\tfunction handleChange(e) {\n\t\tsetOption(optionContext, optionKey, Number.parseInt(e.target.value));\n\t}\n\n\tconst valueDisplay =\n\t\toptionValue > 0 && showPlusSymbol ? '+' + optionValue : optionValue;\n\n\treturn (\n\t\t<div className={classNames.join(' ')}>\n\t\t\t<div className={'sb-optionSlider-desc'}>{label}</div>\n\t\t\t<div className={'sb-optionSlider-value'}>{valueDisplay}</div>\n\t\t\t<div className={'sb-optionSlider-range'}>\n\t\t\t\t<input\n\t\t\t\t\tmin={min}\n\t\t\t\t\tmax={max}\n\t\t\t\t\tvalue={optionValue}\n\t\t\t\t\ttype={'range'}\n\t\t\t\t\tonChange={isInteractable ? handleChange : null}\n\t\t\t\t\tdisabled={!isInteractable}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nSlider.propTypes = {\n\tisInteractable: PropTypes.bool.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\tmin: PropTypes.number.isRequired,\n\tmax: PropTypes.number.isRequired,\n\tshowPlusSymbol: PropTypes.bool,\n\toptionContext: PropTypes.string.isRequired,\n\toptionKey: PropTypes.string.isRequired,\n\toptionValue: PropTypes.number.isRequired,\n\tsetOption: PropTypes.func.isRequired,\n};\n\nSlider.defaultProps = {\n\tshowPlusSymbol: true,\n};\n\nexport default React.memo(Slider);\n","import './Toggle.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../../_components/Icon';\n\nfunction Toggle(props) {\n\tconst {\n\t\tisInteractable,\n\t\tlabel,\n\t\toptionContext,\n\t\toptionKey,\n\t\toptionValue,\n\t\tsetOption,\n\t} = props;\n\n\tconst classNames = ['sb-optionToggle'];\n\tclassNames.push(\n\t\toptionValue === true ? 'sb-optionToggle-isOn' : 'sb-optionToggle-isOff'\n\t);\n\tif (!isInteractable) {\n\t\tclassNames.push('sb-optionToggle-isNotInteractable');\n\t}\n\n\tfunction handleClick() {\n\t\tsetOption(optionContext, optionKey, !optionValue);\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames.join(' ')}\n\t\t\tonClick={isInteractable ? handleClick : null}\n\t\t>\n\t\t\t<div className={'sb-optionToggle-desc'}>{label}</div>\n\t\t\t<div className={'sb-optionToggle-icon'}>\n\t\t\t\t<span className={'sb-optionToggle-icon'}>\n\t\t\t\t\t<Icon\n\t\t\t\t\t\ticonName={\n\t\t\t\t\t\t\toptionValue === true ? 'toggle_on' : 'toggle_off'\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nToggle.propTypes = {\n\tisInteractable: PropTypes.bool.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\toptionContext: PropTypes.string.isRequired,\n\toptionKey: PropTypes.string.isRequired,\n\toptionValue: PropTypes.bool.isRequired,\n\tsetOption: PropTypes.func.isRequired,\n};\n\nexport default React.memo(Toggle);\n","import './SidebarOptionsPanel.scss';\n\nimport React from 'react';\n\nimport OptionPanel from '../../../../optionsPanels/_components/OptionsPanel';\n\nimport OptionsGroup from './OptionsGroup';\nimport Select from './Select';\nimport Slider from './Slider';\nimport Toggle from './Toggle';\n\nfunction getEntryComponent(type) {\n\tswitch (type) {\n\t\tcase 'optionsGroup':\n\t\t\treturn OptionsGroup;\n\t\tcase 'select':\n\t\t\treturn Select;\n\t\tcase 'slider':\n\t\t\treturn Slider;\n\t\tcase 'toggle':\n\t\t\treturn Toggle;\n\t}\n}\n\nexport default function SidebarOptionPanel(props) {\n\treturn (\n\t\t<div className={'sb-optionsPanel'}>\n\t\t\t<OptionPanel {...props} getEntryComponent={getEntryComponent} />\n\t\t</div>\n\t);\n}\n","import createAction from '../../core/createAction';\nimport * as actionTypes from './actionsTypes';\n\nexport const setOptionValue = (context, key, value) => {\n\tif (!context) {\n\t\tthrow new TypeError('Cannot set an option without a context');\n\t}\n\tif (!key) {\n\t\tthrow new TypeError('Cannot set an option without a key');\n\t}\n\tconst payload = {\n\t\tcontext,\n\t\tkey,\n\t\tvalue,\n\t};\n\treturn createAction(actionTypes.DB_OPTION_SET_OPTION_VALUE, payload);\n};\n","import Rendering from '../_components/Rendering';\nimport OptionsPanelFactory from '../../_containers/OptionsPanelFactory';\n\nimport allWidgets from '../allWidgets';\nimport {\n\tgetNonInteractableWidgets,\n\tgetHiddenWidgets,\n} from '../_state/selectors';\n\nexport default OptionsPanelFactory(\n\tallWidgets,\n\tgetNonInteractableWidgets,\n\tgetHiddenWidgets,\n\tRendering\n);\n","import { connect } from 'react-redux';\n\nimport { getOptionValue } from '../../db/options/selectors';\nimport { setOptionValue } from '../../db/options/actions';\n\nexport default function OptionsPanelFactory(\n\tallWidgets,\n\tgetNonInteractableWidgets,\n\tgetHiddenWidgets,\n\tcomponent\n) {\n\treturn connect(\n\t\t(state) => {\n\t\t\tconst stateToProps = {\n\t\t\t\tallWidgets,\n\t\t\t\tnonInteractableWidgets: getNonInteractableWidgets(state),\n\t\t\t\thiddenWidgets: getHiddenWidgets(state),\n\t\t\t};\n\n\t\t\tlet widget;\n\t\t\tlet groupWidget;\n\n\t\t\tallWidgets.widgetsOrder.forEach((widgetId) => {\n\t\t\t\twidget = allWidgets.allWidgets[widgetId];\n\n\t\t\t\tif (widget.type === 'optionsGroup') {\n\t\t\t\t\twidget.groupWidgetsOrder.forEach((groupWidgetId) => {\n\t\t\t\t\t\tgroupWidget = widget.allGroupWidgets[groupWidgetId];\n\n\t\t\t\t\t\tstateToProps[groupWidget.option.key] = getOptionValue(\n\t\t\t\t\t\t\tstate,\n\t\t\t\t\t\t\tgroupWidget.option.context,\n\t\t\t\t\t\t\tgroupWidget.option.key\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tstateToProps[widget.option.key] = getOptionValue(\n\t\t\t\t\t\tstate,\n\t\t\t\t\t\twidget.option.context,\n\t\t\t\t\t\twidget.option.key\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn stateToProps;\n\t\t},\n\n\t\t{\n\t\t\tsetOption: setOptionValue,\n\t\t}\n\t)(component);\n}\n","/* eslint-disable max-lines */\nexport default {\n\twidgetsOrder: [\n\t\t'style',\n\t\t'chordsAndLyricsDisplay',\n\t\t'alignChordsWithLyrics',\n\t\t'alignBars',\n\t\t'autoRepeatChords',\n\t\t'expandSectionMultiply',\n\n\t\t'layout',\n\t\t'chords',\n\t\t'format',\n\t],\n\n\tallWidgets: {\n\t\tstyle: {\n\t\t\tlabel: 'Rendering style',\n\t\t\ttype: 'select',\n\t\t\ttypeOptions: {\n\t\t\t\tallChoices: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'styleChordMark',\n\t\t\t\t\t\tlabel: 'ChordMark',\n\t\t\t\t\t\tvalue: 'chordmark',\n\t\t\t\t\t},\n\t\t\t\t\t// {\n\t\t\t\t\t// \tid: 'styleChordpro',\n\t\t\t\t\t// \tlabel: 'ChordPro',\n\t\t\t\t\t// \tvalue: 'chordpro'\n\t\t\t\t\t// },\n\t\t\t\t],\n\t\t\t},\n\t\t\toption: {\n\t\t\t\tcontext: 'songFormatting',\n\t\t\t\tkey: 'style',\n\t\t\t},\n\t\t},\n\t\tchordsAndLyricsDisplay: {\n\t\t\tlabel: 'Chords and lyrics',\n\t\t\ttype: 'select',\n\t\t\ttypeOptions: {\n\t\t\t\tallChoices: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'cldisplayAll',\n\t\t\t\t\t\tlabel: 'Display both',\n\t\t\t\t\t\tvalue: 'all',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'cldisplayLyrics',\n\t\t\t\t\t\tlabel: 'Lyrics only',\n\t\t\t\t\t\tvalue: 'lyrics',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'cldisplayChords',\n\t\t\t\t\t\tlabel: 'Chords only',\n\t\t\t\t\t\tvalue: 'chords',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'cldisplayChordsFirstLyricLine',\n\t\t\t\t\t\tlabel: 'Chords + First lyric line',\n\t\t\t\t\t\tvalue: 'chordsFirstLyricLine',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t\toption: {\n\t\t\t\tcontext: 'songPreferences',\n\t\t\t\tkey: 'chordsAndLyricsDisplay',\n\t\t\t},\n\t\t},\n\t\talignChordsWithLyrics: {\n\t\t\tlabel: 'Align chords with lyrics',\n\t\t\ttype: 'toggle',\n\t\t\toption: {\n\t\t\t\tcontext: 'songPreferences',\n\t\t\t\tkey: 'alignChordsWithLyrics',\n\t\t\t},\n\t\t},\n\t\talignBars: {\n\t\t\tlabel: 'Align bars',\n\t\t\ttype: 'toggle',\n\t\t\toption: {\n\t\t\t\tcontext: 'songFormatting',\n\t\t\t\tkey: 'alignBars',\n\t\t\t},\n\t\t},\n\t\tautoRepeatChords: {\n\t\t\tlabel: 'Auto repeat chords',\n\t\t\ttype: 'toggle',\n\t\t\toption: {\n\t\t\t\tcontext: 'songFormatting',\n\t\t\t\tkey: 'autoRepeatChords',\n\t\t\t},\n\t\t},\n\t\texpandSectionMultiply: {\n\t\t\tlabel: 'Expand section multiply',\n\t\t\ttype: 'toggle',\n\t\t\toption: {\n\t\t\t\tcontext: 'songFormatting',\n\t\t\t\tkey: 'expandSectionMultiply',\n\t\t\t},\n\t\t},\n\n\t\tlayout: {\n\t\t\ttype: 'optionsGroup',\n\t\t\tlabel: 'Layout',\n\t\t\ticon: 'view_compact',\n\n\t\t\tgroupWidgetsOrder: [\n\t\t\t\t'documentSize',\n\t\t\t\t'documentMargins',\n\t\t\t\t'columnsCount',\n\t\t\t\t'columnBreakOnParagraph',\n\t\t\t],\n\t\t\tallGroupWidgets: {\n\t\t\t\tdocumentSize: {\n\t\t\t\t\tlabel: 'Document size',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tallChoices: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'documentSizeA4',\n\t\t\t\t\t\t\t\tlabel: 'A4',\n\t\t\t\t\t\t\t\tvalue: 'a4',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'documentSizeBooxMax2Pro',\n\t\t\t\t\t\t\t\tlabel: 'Boox Max 2 Pro',\n\t\t\t\t\t\t\t\tvalue: 'booxmax2pro',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'songFormatting',\n\t\t\t\t\t\tkey: 'documentSize',\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tdocumentMargins: {\n\t\t\t\t\tlabel: 'Margins',\n\t\t\t\t\ttype: 'slider',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\tmax: 5,\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'songFormatting',\n\t\t\t\t\t\tkey: 'documentMargins',\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tcolumnsCount: {\n\t\t\t\t\tlabel: 'Columns',\n\t\t\t\t\ttype: 'slider',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\tmax: 4,\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'songFormatting',\n\t\t\t\t\t\tkey: 'columnsCount',\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tcolumnBreakOnParagraph: {\n\t\t\t\t\tlabel: 'Break on paragraph',\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'songFormatting',\n\t\t\t\t\t\tkey: 'columnBreakOnParagraph',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\n\t\tchords: {\n\t\t\ttype: 'optionsGroup',\n\t\t\tlabel: 'Chords',\n\t\t\ticon: 'music_note',\n\n\t\t\tgroupWidgetsOrder: [\n\t\t\t\t'transposeValue',\n\t\t\t\t'simplifyChords',\n\t\t\t\t'harmonizeAccidentals',\n\t\t\t\t'preferredAccidentals',\n\t\t\t\t'useShortNamings',\n\t\t\t],\n\n\t\t\tallGroupWidgets: {\n\t\t\t\ttransposeValue: {\n\t\t\t\t\tlabel: 'Transpose',\n\t\t\t\t\ttype: 'slider',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tmin: -11,\n\t\t\t\t\t\tmax: 11,\n\t\t\t\t\t\tshowPlusSymbol: true,\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'songPreferences',\n\t\t\t\t\t\tkey: 'transposeValue',\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tsimplifyChords: {\n\t\t\t\t\tlabel: 'Simplify chords',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tallChoices: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'simplifyChordsNone',\n\t\t\t\t\t\t\t\tlabel: 'None',\n\t\t\t\t\t\t\t\tvalue: 'none',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'simplifyChordsMax',\n\t\t\t\t\t\t\t\tlabel: 'Max',\n\t\t\t\t\t\t\t\tvalue: 'max',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'simplifyChordsCore',\n\t\t\t\t\t\t\t\tlabel: 'Core',\n\t\t\t\t\t\t\t\tvalue: 'core',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'songPreferences',\n\t\t\t\t\t\tkey: 'simplifyChords',\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tharmonizeAccidentals: {\n\t\t\t\t\tlabel: 'Harmonize accidentals',\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'songPreferences',\n\t\t\t\t\t\tkey: 'harmonizeAccidentals',\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tpreferredAccidentals: {\n\t\t\t\t\tlabel: 'Preferred accidentals',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tallChoices: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'preferredAccidentalsAuto',\n\t\t\t\t\t\t\t\tlabel: 'Auto',\n\t\t\t\t\t\t\t\tvalue: 'auto',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'preferredAccidentalsSharp',\n\t\t\t\t\t\t\t\tlabel: 'Sharp (#)',\n\t\t\t\t\t\t\t\tvalue: 'sharp',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'preferredAccidentalsFlat',\n\t\t\t\t\t\t\t\tlabel: 'Flats (b)',\n\t\t\t\t\t\t\t\tvalue: 'flat',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'songPreferences',\n\t\t\t\t\t\tkey: 'preferredAccidentals',\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tuseShortNamings: {\n\t\t\t\t\tlabel: 'Use short names',\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'songPreferences',\n\t\t\t\t\t\tkey: 'useShortNamings',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\n\t\tformat: {\n\t\t\ttype: 'optionsGroup',\n\t\t\tlabel: 'Format',\n\t\t\ticon: 'format_size',\n\n\t\t\tgroupWidgetsOrder: [\n\t\t\t\t'fontSize',\n\t\t\t\t'printFontSize',\n\t\t\t\t'fontStyle',\n\t\t\t\t'chordsColor',\n\t\t\t\t'highlightChords',\n\t\t\t],\n\n\t\t\tallGroupWidgets: {\n\t\t\t\tfontSize: {\n\t\t\t\t\tlabel: 'Font size',\n\t\t\t\t\ttype: 'slider',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tmin: -5,\n\t\t\t\t\t\tmax: +5,\n\t\t\t\t\t\tshowPlusSymbol: true,\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'songFormatting',\n\t\t\t\t\t\tkey: 'fontSize',\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tprintFontSize: {\n\t\t\t\t\tlabel: 'Font size (print)',\n\t\t\t\t\ttype: 'slider',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tmin: -5,\n\t\t\t\t\t\tmax: +5,\n\t\t\t\t\t\tshowPlusSymbol: true,\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'songFormatting',\n\t\t\t\t\t\tkey: 'printFontSize',\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tfontStyle: {\n\t\t\t\t\tlabel: 'Font style',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tallChoices: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'fontStyleRoboto',\n\t\t\t\t\t\t\t\tlabel: 'Roboto',\n\t\t\t\t\t\t\t\tvalue: 'roboto',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'songFormatting',\n\t\t\t\t\t\tkey: 'fontStyle',\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tchordsColor: {\n\t\t\t\t\tlabel: 'Chords color',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tallChoices: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'chordsColor',\n\t\t\t\t\t\t\t\tlabel: 'Base',\n\t\t\t\t\t\t\t\tvalue: 'base',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'chordsColorRed',\n\t\t\t\t\t\t\t\tlabel: 'Red',\n\t\t\t\t\t\t\t\tvalue: 'red',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'chordsColorYellow',\n\t\t\t\t\t\t\t\tlabel: 'Yellow',\n\t\t\t\t\t\t\t\tvalue: 'yellow',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'chordsColorGreen',\n\t\t\t\t\t\t\t\tlabel: 'Green',\n\t\t\t\t\t\t\t\tvalue: 'green',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'songFormatting',\n\t\t\t\t\t\tkey: 'chordsColor',\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\thighlightChords: {\n\t\t\t\t\tlabel: 'Highlight Chords',\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'songFormatting',\n\t\t\t\t\t\tkey: 'highlightChords',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t},\n};\n","import _difference from 'lodash/difference';\n\nimport editorModeOptions from '../../../db/options/editorModeOptions'; // duh!\nimport { getEditorMode } from '../../../ui/layout/app/_state/selectors';\nimport { getSelectedId } from '../../../fileManager/_state/selectors';\nimport {\n\tgetOptionsDefaults,\n\tgetOptionValue,\n} from '../../../db/options/selectors';\n\nexport const getNonInteractableWidgets = (state) => {\n\tconst nonInteractableWidgets = [];\n\n\tconst allOptions = Object.keys({\n\t\t...getOptionsDefaults(state, 'songFormatting'),\n\t\t...getOptionsDefaults(state, 'songPreferences'),\n\t});\n\n\tconst selectedId = getSelectedId(state);\n\tif (!selectedId) {\n\t\treturn allOptions;\n\t}\n\n\tconst editorMode = getEditorMode(state);\n\n\tconst nonInteractableOptions = _difference(\n\t\tallOptions,\n\t\teditorModeOptions[editorMode]\n\t);\n\n\tnonInteractableWidgets.push(...nonInteractableOptions);\n\n\treturn nonInteractableWidgets;\n};\n\nexport const getHiddenWidgets = (state) => {\n\tconst hiddenWidgets = [];\n\n\tconst editorMode = getEditorMode(state);\n\n\tconst harmonizeAccidentals = getOptionValue(\n\t\tstate,\n\t\t'songPreferences',\n\t\t'harmonizeAccidentals'\n\t);\n\t/*\n\tconst chordsAndLyricsDisplay = getOptionValue(\n\t\tstate,\n\t\t'rendering',\n\t\t'chordsAndLyricsDisplay'\n\t);\n\n\tif (chordsAndLyricsDisplay !== 'all') {\n\t\thiddenWidgets.push('alignChordsWithLyrics');\n\t}\n\t\n\t */\n\tif (!harmonizeAccidentals) {\n\t\thiddenWidgets.push('preferredAccidentals');\n\t}\n\n\tif (editorMode === 'print') {\n\t\thiddenWidgets.push('fontSize');\n\t} else {\n\t\thiddenWidgets.push('printFontSize');\n\t}\n\n\t//hiddenWidgets.push('simplifyChords');\n\n\treturn hiddenWidgets;\n};\n","import './Rendering.scss';\n\nimport React from 'react';\n\nimport Icon from '../../../ui/_components/Icon';\n\nimport SidebarOptionPanel from '../../../ui/sideBar/options/_components/SidebarOptionsPanel';\n\nexport default function Rendering(props) {\n\treturn (\n\t\t<div className={'renderingOptionsPanel'}>\n\t\t\t<div className={'renderingOptionsPanel-isCollapsed'}>\n\t\t\t\t<span className={'renderingOptionsPanel-icon'}>\n\t\t\t\t\t<Icon iconName={'settings'} />\n\t\t\t\t</span>\n\t\t\t</div>\n\n\t\t\t<div className={'renderingOptionsPanel-isExpanded'}>\n\t\t\t\t<SidebarOptionPanel {...props} id={'rendering'} />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from 'react';\n\nimport AppLayout from '../ui/layout/app/_containers/App';\nimport FileManager from '../fileManager/_containers/FileManager';\nimport Editor from '../editor/_containers/Editor';\nimport RightBarPanel from '../optionsPanels/rendering/_containers/Rendering';\n\nexport default function Edit() {\n\tconst fm = <FileManager />;\n\tconst rightBarPanel = <RightBarPanel />;\n\n\treturn (\n\t\t<AppLayout leftBar={fm} rightBar={rightBarPanel}>\n\t\t\t<Editor />\n\t\t</AppLayout>\n\t);\n}\n","import UniversalRouter from 'universal-router';\nimport renderController from './renderController';\n\nimport Editor from './controllers/Editor';\n\nconst routes = [\n\t{\n\t\tpath: '/editor',\n\t\taction: () => Editor,\n\t},\n];\n\nconst universalRouter = new UniversalRouter(routes);\n\nexport default {\n\tnavigateTo(path) {\n\t\treturn universalRouter.resolve(path).then((controller) => {\n\t\t\treturn renderController(controller);\n\t\t});\n\t},\n};\n","import React from 'react';\nimport ReactDom from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport { getStore } from './state/store';\n\nimport ErrorBoundary from './ui/_components/ErrorBoundary';\n\nexport default function renderController(Controller) {\n\tReactDom.render(\n\t\t<Provider store={getStore()}>\n\t\t\t<React.StrictMode>\n\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t<Controller />\n\t\t\t\t</ErrorBoundary>\n\t\t\t</React.StrictMode>\n\t\t</Provider>,\n\t\tdocument.getElementById('app')\n\t);\n}\n","import '../scss/styles.scss';\n\nimport { createStore } from './state/store';\nimport registerHandlers from './registerHandlers';\nimport router from './router';\n\nregisterHandlers();\n\nexport default function run() {\n\tcreateStore();\n\n\treturn router.navigateTo('/editor');\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk_touffi_chords_charts_studio\"] = self[\"webpackChunk_touffi_chords_charts_studio\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [216], () => (__webpack_require__(\"1mQe\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","clock","Date","now","DB_FILES_CREATE","DB_FILES_DELETE","DB_FILES_IMPORT","DB_FILES_UPDATE","DB_OPTION_SET_OPTION_VALUE","UI_LAYOUT_APP_SET_EDITOR_MODE","UI_LAYOUT_APP_TOGGLE_LEFT_BAR","UI_LAYOUT_APP_TOGGLE_RIGHT_BAR","isLeftBarCollapsed","state","ui","layout","app","isRightBarCollapsed","getEditorMode","editorMode","getSelectedId","fileManager","selected","getRenamedId","renamed","getDefaultTitle","defaultTitle","getAllTitles","createSelectorCreator","defaultMemoize","_isEqual","createDeepEqualSelector","_map","db","files","allFiles","title","id","_sortBy","o","toLowerCase","getOne","getCategoryOptions","category","file","options","Object","keys","length","_cloneDeep","getLatestModeOptions","fileOptions","allOptionsPerMode","edit","push","play","print","export","sort","a","b","updatedAt","reduce","acc","modeOptions","assign","initialState","createFile","action","payload","content","updateFile","deleteFile","updateFileOption","fullState","context","key","value","includes","optionCategory","fileState","addOption","setEditorMode","fileId","nextMode","mode","previousModeOptions","_pick","editorModeOptions","FILE_MANAGER_SELECT_FILE","FILE_MANAGER_ENABLE_RENAME","getOptionValue","values","getOptionsDefaults","defaults","setOptionValue","newState","newOptions","getModeOptions","songFormatting","defaultOptions","selectFile","songPreferences","defaultPreferences","newPreferences","combineSectionReducers","type","actionTypes","SONG_IMPORTER_IMPORT_CANCEL","SONG_IMPORTER_IMPORT_START","SONG_IMPORTER_SET_CONTENT","SONG_IMPORTER_SET_INPUT_FORMAT","stripTags","html","domPurify","ALLOWED_TAGS","KEEP_CONTENT","isFromWeb","isImporting","inputFormat","activeModal","songImporter","actions","chordsAndLyricsDisplay","alignChordsWithLyrics","harmonizeAccidentals","preferredAccidentals","useShortNamings","simplifyChords","transposeValue","style","alignBars","autoRepeatChords","expandSectionMultiply","documentSize","documentMargins","columnsCount","columnBreakOnParagraph","fontSize","printFontSize","fontStyle","chordsColor","highlightChords","store","createStore","storeEnhancers","composeWithDevTools","applyMiddleware","thunkMiddleware","persistedState","serializedState","localStorage","getItem","JSON","parse","err","loadState","_defaultsDeep","seed","createReduxStore","allReducers","subscribe","stringify","setItem","saveState","getState","getStore","createAction","TypeError","songImporterHandlers","message","buildTitle","artist","dispatch","actionsTypes","startImportFromWeb","source","chordChart","songTitle","_handleMessage","e","allHandlers","window","origin","location","data","ErrorBoundary","props","error","errorInfo","this","setState","className","whiteSpace","open","toString","componentStack","children","React","propTypes","PropTypes","Icon","iconName","join","Logo","NavEntry","label","icon","isActive","isDisabled","classNames","onClick","Nav","currentMode","allEntries","selectedId","map","entry","Footer","versions","getContent","getInputFormat","getTitle","Modal","closeModal","useEffect","handleKeyboard","addEventListener","removeEventListener","Button","buttonName","allClassNames","disabled","name","defaultProps","Header","cancelImport","chordMarkContent","importFile","headerTitle","getSongTitle","substr","lastIndexOf","isOversized","size","isTextFile","indexOf","getFileTooBigMsg","actualSize","filesize","round","getWrongFileTypeMsg","getNoFileSelectedMsg","fileList","Promise","resolve","reject","text","then","fileContent","catch","FilePicker","setContent","htmlFor","onChange","ev","getUploadedFile","target","accept","Input","allClasses","PreviewError","InputFormatEntry","setInputFormat","allInputClasses","allLabelClasses","checked","InputFormatSelector","disableAll","rendered","allLines","chordSheetJs2ChordMark","song","formatAllParagraphs","bodyParagraphs","paragraph","formatParagraph","lines","line","formatLine","parts","formatChordLine","formatLyricLine","formatTagLine","filter","i","part","trimRight","lineHasChords","items","chordLine","item","itemHasChord","chords","trim","lineHasLyrics","lyricsLine","itemHasLyric","itemHasLeftPadding","lyrics","itemHasRightPadding","lineHasTag","tagValue","replace","sectionLabelsMapping","adlib","bridge","chorus","interlude","intro","introduction","outro","prechorus","solo","some","ChordLyricsPair","Tag","isRenderable","trimLeft","ultimateGuitar2ChordMark","ugChordChartRaw","ugChordChart","ChordSheetJS","getConverter","parser","input","converter","SongImporter","input2ChordMark","connect","uuidv4","App","toggleLeftBar","toggleRightBar","leftBar","rightBar","leftBarClassNames","rightBarClassNames","allNavEntries","FileActionEntry","FileActions","enableRename","allActions","startImport","FileEntry","useState","setTitle","isSelected","isRenamed","classList","inputRef","saveTitle","newTitle","current","scrollLeft","focus","onDoubleClick","select","ref","readOnly","autoFocus","onBlur","onFocus","onKeyPress","which","preventDefault","getSelection","removeAllRanges","FileManager","allTitles","isRequired","escapeHTML","unescaped","renderSong","songTxt","renderOptions","parsed","parseSong","renderSongCm","printChordsDuration","SongRenderer","dangerouslySetInnerHTML","__html","accidentalsType","EditorPreview","selectedFile","Schema","nodes","marks","stateToText","toJSON","doc","toSafeHtml","dirty","ProseMirrorEditorView","selectedFileId","editorContent","editorView","useRef","editorDom","previousFileId","editorExists","dom","parentNode","destroyEditor","removeChild","editorState","EditorState","pmDOMParser","editorSchema","split","div","document","createElement","innerHTML","preserveWhitespace","plugins","pmHistory","keymap","undo","redo","baseKeymap","createEditorState","EditorView","dispatchTransaction","transaction","applyTransaction","transactions","updateState","tr","docChanged","createEditorView","appendChild","EditorLayout","ExportPreview","PlayRenderer","Page","pageHeader","allColumnsLines","allSectionsRendered","columnLines","index","columnLinesTxt","pageClasses","pageContentWrapperClasses","PageHeader","cssClasses","mapLinesToColumns","allLinesWithHeight","firstPageHeight","normalPageHeight","noEmptyLinesOnColumnStart","noOrphanTextLine","allPagesColumns","pageIndex","columnIndex","maxColumnHeight","getMaxColumnHeight","currentColumnHeight","flushBuffer","buffer","forEach","shouldChangeColumn","height","changeColumn","nextHeight","shouldChangePage","insert","insertOnNextColumn","fitsOnCurrentColumn","bufferHeight","fitsOnNextColumn","get","layoutFactory","lineIndex","isEmptyLine","shouldRenderLine","currentLine","nextLine","wouldProduceOrphanTextLine","hasClass","isChordLine","isTextLine","isEndOfParagraph","isBreakable","getDimensionsFromDom","component","measuringFn","container","add","body","ReactDOM","measure","padColumns","columnCount","allColumns","getOffsetHeight","element","offsetHeight","getClientHeight","clientHeight","cssSelectors","getAllLinesHeight","allLinesHeight","querySelectorAll","pageContent","querySelector","AllPages","setAllPagesColumns","useLayoutEffect","getDimensions","pageOptions","getPagesHeight","mapped","allPagesRendered","pageColumns","PrintPreview","Editor","OptionsPanel","widget","groupWidget","WidgetComponent","GroupComponent","isGroupInteractable","isGroupWidgetInteractable","renderedGroupWidgets","allWidgets","nonInteractableWidgets","hiddenWidgets","setOption","getEntryComponent","renderedWidgets","widgetsOrder","widgetId","groupWidgetsOrder","groupWidgetId","allGroupWidgets","renderWidget","isInteractable","localWidget","optionContext","option","optionKey","optionValue","typeOptions","OptionsGroup","isOpened","setIsOpened","shouldBeInteractable","SelectChoice","checkIcon","Select","isOpen","setIsOpen","allChoices","renderedChoices","choice","Slider","min","max","showPlusSymbol","valueDisplay","Number","parseInt","Toggle","SidebarOptionPanel","getNonInteractableWidgets","getHiddenWidgets","stateToProps","format","allOptions","nonInteractableOptions","_difference","Edit","fm","rightBarPanel","routes","path","universalRouter","UniversalRouter","controller","Controller","ReactDom","getElementById","router","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","call","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","r","n","getter","__esModule","d","definition","defineProperty","enumerable","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","nmd","paths","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}